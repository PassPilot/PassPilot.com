<!doctype html><html data-framework="javascript"><head>    <meta charset="utf-8">    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    <title>PassPilot Online & Offline HTML Password Manager</title>    <meta name="description" content="Free password manager that you can keep for yourself in a single HTML file. Client side AES encryption, trust no one policy, off the grid password manager. Take full control of your data online or offline.">    <meta name="author" content="Michal Bednarczyk">    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">    <script type="text/javascript">        var offline = true;        var raw = "";        var language = "en";        var theme = "dark";        var pp_iter = 52662;        var pp_timeout = 900000;    </script>    </head><body>

  <style>
    html,body,#app{box-sizing:border-box;width:100%;height:100%;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;scroll-behavior:smooth;overflow:auto;-webkit-tap-highlight-color:transparent}*,*:before,*:after{box-sizing:inherit;margin:0;font-family:Tahoma,Verdana,Segoe,sans-serif;font-weight:normal}*::-ms-clear{display:none}.resp{width:100%;height:auto;border:4px solid #777}.app #wrapper{background-color:#f2f2f2}.app-dark #wrapper{background-color:#333}#wrapper{position:absolute;margin:0 auto;width:100%;bottom:0;top:0;-webkit-transition-property:bottom;-webkit-transition-duration:.2s;-webkit-transition-timing-function:cubic-bezier(0,0,0,1);transition-property:bottom;transition-duration:.2s;transition-timing-function:cubic-bezier(0,0,0,1)}#wrapper.alert{bottom:70px}#wrapper.topalert{top:50px}#unsaved{background-color:#db143c;position:absolute;width:100%;min-height:50px;top:0;color:#fff;margin:0;box-shadow:inset 0 10px 0 0 rgba(0,0,0,0.2);font-weight:bold;border-radius:0}#app marquee{font-weight:bold;color:#fff}#message{background-color:#db143c;position:absolute;width:100%;height:70px;bottom:0;color:#fff;margin:0;box-shadow:inset 0 10px 0 0 rgba(0,0,0,0.2);font-weight:bold;border-radius:0}body ::-webkit-scrollbar{width:10px}.app ::-webkit-scrollbar-track,.app::-webkit-scrollbar-track,.app::-webkit-scrollbar-corner,.app::-webkit-scrollbar-corner{background:#f2f2f2}.app-dark::-webkit-scrollbar-track,.app-dark ::-webkit-scrollbar-track,.app-dark::-webkit-scrollbar-corner,.app-dark::-webkit-scrollbar-corner{background:#333}body ::-webkit-scrollbar-track{border:0;border-radius:10px}.app::-webkit-scrollbar-thumb,.app ::-webkit-scrollbar-thumb{background:#d2d2d2}.app-dark::-webkit-scrollbar-thumb,.app-dark ::-webkit-scrollbar-thumb{background:#505050}body ::-webkit-scrollbar-thumb{border:0;border-radius:10px}body ::-webkit-scrollbar-thumb:hover{background:#666}::-webkit-resizer{display:none}.app *{font-size:18px}#app small{font-size:12px;float:right;padding-bottom:10px}.app{background-color:#f2f2f2}#timer{width:0;background-color:#e91e63;height:4px;position:absolute;z-index:3}#app a{color:#db143c}#app button.red,.app-dark .red *{background-color:#db143c;color:#fff}#app button.green,.app-dark .green{border:3px solid #cddc39}#app button.silver,.app-dark .silver{border:3px solid #9e9e9e}.frame{padding:15px}.app input,.app textarea{background-color:#fbfbfb;color:#333;border:3px solid #fff;box-shadow:inset 0 10px 0 0 rgba(0,0,0,0.2)}input.optional{background-color:#e1e1e1}.app-dark [readonly="readonly"],.app-dark [readonly]{background:#2e2e2e;box-shadow:inset 0 0 0 0 rgba(0,0,0,0)}.app [readonly="readonly"],.app [readonly]{background:#eaeaea;box-shadow:inset 0 0 0 0 rgba(0,0,0,0)}.app-dark input:disabled,.app-dark textarea:disabled,.app-dark input:read-only,.app-dark textarea:read-only{background:#2e2e2e;box-shadow:inset 0 0 0 0 rgba(0,0,0,0.20)}.app input:disabled,.app textarea:disabled,.app input:read-only,.app textarea:read-only{background:#eaeaea;box-shadow:inset 0 0 0 0 rgba(0,0,0,0.20)}.app-dark button.btn:disabled{background-color:#2e2e2e}.app button.btn:disabled{background-color:#b0b0b0}.app .btn{background-color:#fff;color:#000;box-shadow:0 2px 0 rgba(0,0,0,0.24)}.app .btn:hover{background-color:#d8d8d8}.app .btn.list:hover{background-color:#6d6d6d;color:white}.app .btn.active{background-color:#6d6d6d;color:#fff}.app .btn.list{background-color:#fff;color:#333;box-shadow:0 2px 2px 0 rgba(0,0,0,0.16),0 0 2px 0 rgba(0,0,0,0.12)}.app .btn.list.active{background-color:#6d6d6d;color:#fff}.app #btn-new,.app #btn-new *{background-color:#db143c;color:#fff;box-shadow:0 0 0 rgba(0,0,0,0)}.app-dark #btn-new{background-color:#db143c;box-shadow:0 0 0 rgba(0,0,0,0)}.app-dark #btn-new *{color:#fff}.app-dark *{font-size:18px;color:#d0d0d0}.app-dark,.app-dark #nav,.app-dark #save,.app-dark #beforesave,.app-dark #detail,.app-dark #top,.app-dark #search,.app-dark #heading{background-color:#333}.app-dark #main{background-color:#333}.app-dark input,.app-dark textarea{background-color:#202020;border:3px solid #454545}.app-dark .btn{background-color:#505050;box-shadow:0 2px 0 rgba(0,0,0,0.24)}.app-dark .btn:hover{background-color:#606060}.app-dark .btn.active,.app-dark input.active,.app-dark .btn.active span{background-color:#ff9800;color:#000}.app .btn.active,.app input.active,.app .btn.active span{background-color:#ff9800;color:#000}.app .card{background-color:#f2f2f2}.app-dark .card{background-color:#333}p{padding-top:0;padding-right:20px;padding-bottom:10px;padding-left:20px}.info p{padding-right:0;padding-left:0}#app .code{font-family:'Courier New',Courier,monospace;font-size:14px;margin:0 20px}span{display:inline-block;vertical-align:middle}span+span{margin-left:4px}.audit-icon{position:absolute;top:8px;left:-40px}.pos-r-icon{position:absolute;left:50px;padding:0;width:110px}#app #auditcard label{margin-right:20px;margin-left:70px}#auditcard span{display:inline}#auditcard span+span{margin-left:10px}.strong{font-weight:bold;font-size:22px}.centered{text-align:center}.scroll{overflow-y:auto}.btn.hidden,.hidden{display:none}.btn.hidden.show{display:inline-block}.btn.hide{display:none}[class^="pos-"],[class*=" pos-"]{position:absolute;padding:10px}[class^="pos-"] [class^="pos-"],[class*=" pos-"] [class*=" pos-"],[class^="pos-"] [class*=" pos-"],[class*=" pos-"] [class^="pos-"]{padding:0}.details [class^="pos-"],.details [class*=" pos-"]{padding:0}.w150{width:100%;max-width:150px}.w160{width:100%;max-width:160px}.w170{width:100%;max-width:170px}.w180{width:100%;max-width:180px}.w200{width:100%;max-width:200px}.w220{width:100%;max-width:220px}.w250{width:100%;max-width:250px}.w300{width:100%;max-width:300px}.w350{width:100%;max-width:350px}.pos-l-l{left:0}.pos-l-r{left:100px;right:0}.pos-r-r{right:0}.pos-r-l{left:0;right:65px}#new-search{padding-right:95px;border:3px solid #db143c}.pos-m-m{margin:0 auto;position:relative;max-width:300px}.pos-0-0{left:0;right:0}.pos-null{padding:0}.row.ta-hight{min-height:215px}.row{min-height:60px;position:relative;float:left;width:100%}.narrow{min-height:10px;margin-top:-10px;position:relative;float:left;width:100%}.wi20,.wi40{bottom:0;top:0;border:0}.wi20{width:20%}.wi40{width:40%}.card{position:absolute;right:0}#nav,#search,#top,#heading,#main{background-color:#f2f2f2}#heading{position:absolute;top:0;height:80px}#nav,#main{top:80px}#top{width:100%;left:0;right:0;height:80px}#nav{width:20%;position:absolute;left:0}#main,#search{width:40%;position:absolute;left:20%}#login-bar{width:40%;position:absolute;left:60%;max-height:70px}#user{right:169px;position:absolute;top:26px}#detail{width:40%;position:absolute;right:0}.details{padding:10px;float:left;width:100%;padding-bottom:35px}#save{position:absolute;right:0;top:80px}#logo{padding-top:14px;text-align:center}.logo{font-family:Tahoma,Verdana,Segoe,sans-serif;font-size:25px;margin-bottom:-10px;margin-left:0}#logo .logo{font-size:30px;margin-bottom:-12px}.icon.icon-pp{width:45px;height:45px}#login-bar{text-align:right}#list{margin-left:80px;padding-bottom:50px}#abc,#list,#menu{position:absolute;top:0;bottom:0}#abc{max-width:80px;padding-right:5px;padding-bottom:50px;text-align:center}#abc .btn{min-width:40px;width:44px}#xbtn .btn,.btn.close{padding:0;min-width:40px;width:44px;float:right}.close.hide-on-desktop{min-width:100px}#form{top:0}#app .help{cursor:pointer;width:35px;float:left;margin-top:-3px;margin-bottom:-10px;opacity:.6;margin-left:-56px}#app .tooltip{background-color:#c3d136;clear:left;margin-top:3px;margin-bottom:-12px;padding-top:5px;color:#000;padding-bottom:10px}#app.app-dark .tooltip{background-color:#1a1a1a}#app.app .tooltip{background-color:#ccc}#app.app label{background-color:#fff;color:#000}#app.app-dark label{background-color:#454545;color:#d0d0d0}#app.app-dark .info{background-color:#2e2e2e;color:#d0d0d0;border:6px solid #454545}#app .info{box-shadow:inset 0 2px 2px 0 rgba(0,0,0,0.16),inset 0 0 2px 0 rgba(0,0,0,0.12);border:6px solid #fff;background-color:#f2f2f2;min-height:30px;color:#444;margin-bottom:10px;padding:14px;border-radius:25px;border-bottom-right-radius:0;overflow:hidden}.padded{padding:14px}.left{float:left}.right{float:right}.lpad10{padding-left:10px}.rpad10{padding-right:10px}#app #menu label{margin-bottom:-20px}#app h1{color:gray;padding-bottom:10px;font-size:21px;margin-bottom:12px;border-bottom:5px solid #cddc39}#app .details h1{margin-right:60px}h2{display:block;padding:5px;font-size:10pt;color:#585858}h3{display:block;padding:5px;font-size:12pt;padding:20px;font-weight:bold;color:#585858}#app mark{background-color:#8bc34a;color:#000}.app-dark .pl{color:#80deea}.app .pl{color:#3f51b5}#app .error,#app.app-dark .error{background-color:#a52a2a}#app label{background-color:#6d6d6d;color:#fff;border-radius:10px;width:auto;padding:22px 17px;padding-top:5px;cursor:text;margin-bottom:-22px;margin-left:19px;margin-right:60px;position:relative;float:left}#menu label{margin-right:0}#modal{z-index:1}.card.modal{position:fixed;width:100%;height:100%;top:0}.app .modal{background-color:rgba(0,0,0,0.9)}.app-dark .modal{background-color:rgba(0,0,0,0.9)}.app-dark .modal-box{background-color:#333;color:#fff}.app .modal-box{background-color:#f2f2f2;color:#000}.modal-box.confirm{top:24%;position:relative;max-width:320px;overflow:auto}.modal-box.wide{max-width:800px}iframe.modal-box{height:100%}#iframe_container{position:absolute;width:100%;top:70px;bottom:20px}.modal-box{display:block;margin:0 auto;width:100%;max-width:470px;padding:15px;border:0;border-style:none;border-radius:35px}#logincard,#editcard,#gears,#offlinedecrypt{position:absolute;width:100%;height:100%;top:0;overflow:auto;z-index:1}.card.logon,.card.fields,#gears .card{position:relative;display:block;margin:0 auto;width:100%;max-width:470px;padding:15px;border:0;border-style:none;border-radius:35px;overflow:auto;top:70px}.title{font-family:Tahoma,Verdana,Segoe,sans-serif;font-size:30px}#detail .title{font-size:22px}.icon.big{width:65px;height:55px;float:left;margin-left:-9px}.icon.warning *{color:#db143c}.icon.fair *{color:#ff9800}.active .icon.fair *{color:#a06000}.icon.good *{color:#ff9800}.active .icon.good *{color:#a06000}.icon.strong *{color:#8bc34a}input,textarea,.btn{min-height:45px;border:0;border-radius:25px;outline:0;width:100%;min-width:110px;display:inline-block;margin:4px 0;padding-right:15px;padding-left:15px;padding-bottom:2px;text-decoration:none;-webkit-tap-highlight-color:transparent}input#acctype{max-width:220px;background-color:#ffffff00;border:0;box-shadow:none;min-height:auto;padding:0;margin:0;border-radius:0}.btn,#menu-logo,#main-logo{cursor:pointer}.row.slim{min-height:45px}.btn.slim{min-height:35px}#app .btn:focus,#app input:focus{border-radius:5px}input{float:left}input,textarea{-webkit-appearance:none;box-shadow:inset 0 10px 0 0 rgba(0,0,0,0.2)}textarea{min-height:200px;padding-top:10px;padding-bottom:10px}.min-h-100{min-height:100px}.min-h-120{min-height:120px}.heading{padding-top:9px;margin:0 auto;padding-left:10px;width:180px}#btn-login-main{padding-left:6px;padding-right:8px}#search .reset svg *{color:#db143c}.app #search .reset svg *{color:#db143c}.reset,.peek,.copy,.edit,.remove{opacity:.5;position:absolute;right:0;cursor:pointer;border-radius:15px;padding:10px 0}.reset{opacity:1;right:65px}.peek{right:-35px}.edit{right:-35px}.remove{right:-35px}#fields .btn.add,#fields .btn.add *{background-color:#db143c;box-shadow:0 0 0 rgba(0,0,0,0);color:#fff}#new_prop_name{padding-right:65px;border:3px solid #db143c}.copy{right:-70px}.pos-l-icon{left:0;right:35px;padding:0}.pos-l-icon-2{left:0;right:70px;padding:0}.pos-l-icon-2 .peek{right:-70px}.peek._off svg:nth-child(2){display:none}.peek:not(._off) svg:nth-child(1){display:none}.edit._off svg:nth-child(2){display:none}.edit:not(._off) svg:nth-child(1){display:none}.icon{vertical-align:text-bottom;width:34px;height:34px;fill:currentColor}.show{display:block}@media(max-width:1200px){#top{height:130px}#main{top:130px}#abc,#list,#save{position:absolute;top:0;bottom:0}#main,#search{width:100%;left:0}#nav,#detail,#save{top:70px;width:100%;left:0}.card{top:70px;width:100%;left:0;z-index:1;display:none}.show{display:block}.hide-on-tablet{display:none;width:0;height:0}.hide-on-desktop{display:block}.hidden.hide-on-desktop{display:none}.show.hide-on-desktop{display:block}#app .details h1{margin-right:0}}@media(min-width:1200px){.hide-on-desktop{display:none}}@media(max-width:430px){.hide-on-mobile{display:none;width:0;height:0}}#gearwrap{position:relative;width:140px;height:140px;margin:0 auto;margin-top:80px;color:#fff;border-radius:80px;background-color:#db143c;cursor:pointer}.app #gearwrap{background-color:#cddc39}.gear{width:80px;height:80px;background-size:80px auto;background-repeat:no-repeat;animation:rotate 1.5s linear infinite;-webkit-animation:rotate 1.5s linear infinite;position:absolute;top:9px;left:9px}.gear.gearsmall{width:80px;height:80px;background-size:80px auto;animation:rotate 1.5s linear infinite reverse;-webkit-animation:rotate 1.5s linear infinite reverse;position:absolute;top:51px;left:51px;opacity:.7}@-webkit-keyframes rotate{from{-webkit-transform:rotate(0)}to{-webkit-transform:rotate(359deg)}}@keyframes rotate{from{transform:rotate(0)}to{transform:rotate(359deg)}}.photo{border-radius:60px;width:80px;height:auto;float:left;margin-right:10px}.noevents{pointer-events:none}button.meter0,button.meter1,button.meter2{border:3px solid #db143c}button.meter3{border:3px solid #ff9800}button.meter4{border:3px solid #ffeb3b}button.meter5{border:3px solid #8bc34a}meter{padding-left:20px;padding-right:70px;width:100%;height:20px;background:0}meter::-webkit-meter-bar{background:0}meter[value="0"]::-webkit-meter-optimum-value,meter[value="1"]::-webkit-meter-optimum-value{background:black}meter[value="2"]::-webkit-meter-optimum-value{background:red}meter[value="3"]::-webkit-meter-optimum-value{background:orange}meter[value="4"]::-webkit-meter-optimum-value{background:yellow}meter[value="5"]::-webkit-meter-optimum-value{background:lime}meter[value="1"]::-moz-meter-bar,meter[value="1"]::-moz-meter-bar{background:red}meter[value="2"]::-moz-meter-bar{background:orange}meter[value="3"]::-moz-meter-bar{background:yellow}meter[value="4"]::-moz-meter-bar{background:lime}meter[value="5"]::-moz-meter-bar{background:green}meter::-webkit-meter-optimum-value{transition:width .4s ease-out}  </style>

  <svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
      <symbol id="icon-copy" viewBox="0 0 24 24">
        <title>Copy</title>
        <path d="M0 0h24v24H0z" fill="none"></path>
        <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
      <symbol id="icon-undo" viewBox="0 0 24 24">
        <title>Undo</title>
        <path d="M0 0h24v24H0z" fill="none"></path>
        <path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
      <symbol id="icon-cross" viewBox="0 0 24 24">
        <title>Close</title>
        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <symbol id="icon-pp" viewBox="0 0 24 24">
      <title>PassPilot</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="m12 0a7.64 7.64 0 0 0-7.64 7.64h-0.464c-0.952 0-1.72 0.766-1.72 1.72v12.9c0 0.952 0.766 1.72 1.72 1.72h16.2c0.952 0 1.72-0.766 1.72-1.72v-12.9c0-0.952-0.766-1.72-1.72-1.72h-0.464a7.64 7.64 0 0 0-7.64-7.64zm0 2.95a4.69 4.69 0 0 1 4.69 4.69h-9.37a4.69 4.69 0 0 1 4.69-4.69zm-8.22 7.3h3.6c1.37 0 2.26 0.0524 2.68 0.164 0.639 0.167 1.18 0.544 1.62 1.1 0.431 0.56 0.655 1.28 0.655 2.17 0 0.685-0.14 1.25-0.389 1.72-0.249 0.467-0.558 0.838-0.941 1.1-0.383 0.266-0.77 0.445-1.17 0.532-0.279 0.055-0.631 0.0958-1.04 0.122v4.21h-2.23v-6.07h0.696c0.887 0 1.48-0.0467 1.78-0.164 0.299-0.117 0.546-0.304 0.716-0.552 0.17-0.249 0.246-0.53 0.246-0.859 0-0.406-0.11-0.739-0.348-1-0.238-0.264-0.535-0.445-0.9-0.511-0.269-0.0526-0.805-0.0609-1.62-0.0609h-1.1zm7.79 0h3.6c1.37 0 2.26 0.0524 2.68 0.164 0.639 0.167 1.18 0.544 1.62 1.1 0.431 0.56 0.655 1.28 0.655 2.17 0 0.685-0.14 1.25-0.389 1.72-0.248 0.467-0.558 0.838-0.941 1.1-0.383 0.266-0.77 0.445-1.17 0.532-0.279 0.055-0.631 0.0958-1.04 0.122v4.21h-2.23v-6.07h0.696c0.887 0 1.48-0.0467 1.78-0.164 0.299-0.117 0.546-0.304 0.716-0.552 0.17-0.249 0.246-0.53 0.246-0.859 0-0.406-0.109-0.739-0.348-1-0.238-0.264-0.556-0.445-0.921-0.511-0.269-0.0526-0.804-0.0609-1.62-0.0609h-1.08z" fill-rule="evenodd"></path>
    </symbol>
  </svg>


  <svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <symbol id="icon-shield" viewBox="0 0 24 24">
      <title>Shield</title>
      <path d="M0 0h24v24H0z" fill="none"></path><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"></path>
    </symbol>
  </svg>


  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-eye" viewBox="0 0 24 24">
        <title>View</title>
        <path d="M12,7c-2.48,0-4.5,2.02-4.5,4.5S9.52,16,12,16s4.5-2.02,4.5-4.5S14.48,7,12,7z M12,14.2c-1.49,0-2.7-1.21-2.7-2.7 c0-1.49,1.21-2.7,2.7-2.7s2.7,1.21,2.7,2.7C14.7,12.99,13.49,14.2,12,14.2z">
        </path>
        <path d="M12,4C7,4,2.73,7.11,1,11.5C2.73,15.89,7,19,12,19s9.27-3.11,11-7.5C21.27,7.11,17,4,12,4z M12,17 c-3.79,0-7.17-2.13-8.82-5.5C4.83,8.13,8.21,6,12,6s7.17,2.13,8.82,5.5C19.17,14.87,15.79,17,12,17z">
        </path>
        <path fill="none" d="M0,0h24v24H0V0z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-eyeclosed" viewBox="0 0 24 24">
        <title>View</title>
        <path d="M10.58,7.25l1.56,1.56c1.38,0.07,2.47,1.17,2.54,2.54l1.56,1.56C16.4,12.47,16.5,12,16.5,11.5C16.5,9.02,14.48,7,12,7 C11.5,7,11.03,7.1,10.58,7.25z">
        </path>
        <path d="M12,6c3.79,0,7.17,2.13,8.82,5.5c-0.64,1.32-1.56,2.44-2.66,3.33l1.42,1.42c1.51-1.26,2.7-2.89,3.43-4.74 C21.27,7.11,17,4,12,4c-1.4,0-2.73,0.25-3.98,0.7L9.63,6.3C10.4,6.12,11.19,6,12,6z">
        </path>
        <path d="M16.43,15.93l-1.25-1.25l-1.27-1.27l-3.82-3.82L8.82,8.32L7.57,7.07L6.09,5.59L3.31,2.81L1.89,4.22l2.53,2.53 C2.92,8.02,1.73,9.64,1,11.5C2.73,15.89,7,19,12,19c1.4,0,2.73-0.25,3.98-0.7l4.3,4.3l1.41-1.41l-3.78-3.78L16.43,15.93z M11.86,14.19c-1.38-0.07-2.47-1.17-2.54-2.54L11.86,14.19z M12,17c-3.79,0-7.17-2.13-8.82-5.5c0.64-1.32,1.56-2.44,2.66-3.33 l1.91,1.91C7.6,10.53,7.5,11,7.5,11.5c0,2.48,2.02,4.5,4.5,4.5c0.5,0,0.97-0.1,1.42-0.25l0.95,0.95C13.6,16.88,12.81,17,12,17z">
        </path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-help" viewBox="0 0 24 24">
        <title>Help</title>
        <path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-gear" viewBox="0 0 24 24">
        <title>Settings</title>
        <path d="M0 0h24v24H0z" fill="none"></path>
        <path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-list" viewBox="0 0 24 24">
        <title>List</title>
        <path d="M0 0h24v24H0z" fill="none"></path>
        <path d="M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-list-add" viewBox="0 0 24 24">
        <title>Add to list</title>
        <path d="M0 0h24v24H0z" fill="none"></path>
        <path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-login" viewBox="0 0 24 24">
        <title>Login</title>
        <g>
          <rect fill="none" height="24" width="24"></rect>
        </g>
        <g>
          <path d="M11,7L9.6,8.4l2.6,2.6H2v2h10.2l-2.6,2.6L11,17l5-5L11,7z M20,19h-8v2h8c1.1,0,2-0.9,2-2V5c0-1.1-0.9-2-2-2h-8v2h8V19z"></path>
        </g>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-user" viewBox="0 0 24 24">
        <title>User</title>
        <path d="M0 0h24v24H0z" fill="none"></path>
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <symbol id="icon-plus" viewBox="0 0 24 24">
      <title>Add</title>
      <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path>
    </symbol>
  </svg>

  <svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <symbol id="icon-save" viewBox="0 0 24 24">
      <title>Save</title>
      <path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"></path>
    </symbol>
  </svg>

  <svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <symbol id="icon-home" viewBox="0 0 24 24">
      <title>Home</title>
      <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path>
    </symbol>
  </svg>

  <svg display="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <symbol id="icon-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path>
    </symbol>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-edit" viewBox="0 0 24 24">
        <title>Edit</title>
        <path d="M0 0h24v24H0z" fill="none"></path>
        <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-noedit" viewBox="0 0 24 24">
        <title>Edit</title>
        <path d="M0 0h24v24H0zm0 0h24v24H0z" fill="none"></path>
        <path d="M12.126 8.125l1.937-1.937 3.747 3.747-1.937 1.938zM20.71 5.63l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75L20.71 7a1 1 0 0 0 0-1.37zM2 5l6.63 6.63L3 17.25V21h3.75l5.63-5.62L18 21l2-2L4 3 2 5z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-delete" viewBox="0 0 24 24">
        <title>Delete</title>
        <path d="M0 0h24v24H0z" fill="none"></path>
        <path d="M0 0h24v24H0V0z" fill="none"></path>
        <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-warning" viewBox="0 0 24 24">
        <title>Warning</title>
        <path d="M0 0h24v24H0V0z" fill="none"></path>
        <path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-warning2" viewBox="0 0 24 24">
        <title>Warning</title>
        <path d="M0 0h24v24H0z" fill="none"></path><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-warning3" viewBox="0 0 24 24">
        <title>Warning</title>
        <g><rect fill="none" height="24" width="24"></rect></g><g><g><g><path d="M12,5.99L19.53,19H4.47L12,5.99 M12,2L1,21h22L12,2L12,2z"></path><polygon points="13,16 11,16 11,18 13,18"></polygon><polygon points="13,10 11,10 11,15 13,15"></polygon></g></g></g>
      </symbol>
    </defs>
  </svg>

  <svg display="none" xmlns="https://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <symbol id="icon-reused" viewBox="0 0 24 24">
        <title>Reused</title>
        <path d="M0 0h24v24H0z" fill="none"></path>
        <path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"></path>
      </symbol>
    </defs>
  </svg>


  <div id="app" class="app-dark">
    <div id="timer" style="width: 0%;"></div>

    <button id="unsaved" class="btn" data-t="unsaved" onclick="showGears(gosave, event)"><marquee>Remember to save changes, click here.</marquee></button>
    <button id="message" class="btn"></button>

    <div id="wrapper" class="dummy">

      <!-- top begin-->
      <div id="top" class="dummy">
        <div id="version" style="
              width: 48px;
              top: 4px;
              color: white;
              position: absolute;
              font-weight: bold;
              background-color: #ff2948;
              padding-left: 4px;
              padding-bottom: 4px;
              font-size: 16px;">v1.8</div>
        <div id="logo" class="hide-on-mobile hide-on-tablet wi20">
          <div class="">
            <span>
              <svg class="icon icon-pp">
                <use xlink:href="#icon-pp"></use>
              </svg></span><span class="hide-on-mobile logo">PassPilot</span>
          </div>
        </div>
        <div id="search" class="wi40">
          <div class="row hide-on-desktop">
            <div class="pos-0-0 centered">
              <div id="main-logo" class="heading">
                <span>
                  <svg class="icon">
                    <use xlink:href="#icon-pp"></use>
                  </svg>
                </span><span class="hide-on-mobile logo">PassPilot</span>
              </div>
            </div>
            <div class="pos-r-r w150">
              <button id="menu-button" class="btn hide-on-desktop">
                <span><svg class="icon icon-list">
                    <use xlink:href="#icon-menu"></use>
                  </svg>
                </span><span>Menu</span>
              </button>
              <button id="close-nav-button" class="btn hide-on-desktop hidden">
                <span><svg class="icon">
                    <use xlink:href="#icon-list"></use>
                  </svg>
                </span><span data-t="list">List</span>
              </button>
            </div>
            <div class="pos-l-l w160">
              <button id="btn-login-main" class="btn silver hidden" data-login="">
                <span><svg class="icon">
                    <use xlink:href="#icon-login"></use>
                  </svg>
                </span><span data-t="login">Login</span>
              </button>
              <button id="btn-save-main" class="btn hide-on-desktop" onclick="showGears(gosave, event)">
                <span><svg class="icon icon-list">
                    <use xlink:href="#icon-save"></use>
                  </svg>
                </span><span data-t="save">Save</span>
              </button>
            </div>
          </div>
          <div class="row">
            <form autocomplete="off">
              <div class="pos-r-l">
                <div class="row">
                  <div class="reset" onclick="resetInput(event)">
                    <svg class="icon">
                      <use xlink:href="#icon-cross"></use>
                    </svg>
                  </div>
                  <input id="new-search" name="new/search" type="text" data-tp="newsearch" autocorrect="off" autocapitalize="off" autocomplete="off" class="dummy" placeholder="Name/Search" data-icons="true">
                </div>
              </div>
              <div class="pos-r-r w150">
                <button id="btn-new" class="btn">
                  <span><svg class="icon">
                      <use xlink:href="#icon-list-add"></use>
                    </svg>
                  </span><span data-t="add">Add</span>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
      <!-- top end-->
      <div id="nav" class="card scroll wi20">
        <div id="menu" class="row ">
          <div class="pos-m-m">
            <div id="menu-online" class="hidden">
              <label data-t="online">Online</label>
              <div class="row info">
                <button id="btn-login-card" class="btn silver hide-on-tablet hidden" data-login="">
                  <span>
                    <svg class="icon">
                      <use xlink:href="#icon-login"></use>
                    </svg>
                  </span><span data-t="login">Login</span>
                </button>
                <button id="btn-save-online" class="hidden" onclick="showGears(gosave, event)">
                  <span><svg class="icon icon-list">
                      <use xlink:href="#icon-save"></use>
                    </svg>
                  </span><span data-t="saveall">Save</span>
                </button>
                <button id="btn-register" class="btn" onclick="prepareFrame('\/register')" data-t="register">New account</button>
                <button id="btn-about" onclick="prepareFrame('\/faq','wide')" class="btn" data-t="faq">FAQ</button>
                <button id="btn-contact" onclick="prepareFrame('\/contact')" class="btn" data-t="contact">Report issue</button>
                <button id="btn-welcome" onclick="prepareFrame('\/welcome', 'wide')" class="btn" data-t="welcome">Welcome screen</button>
              </div>
            </div>
            <label class="" data-t="offline">Offline</label>
            <div id="menu-offline" class="row info">
              <button id="btn-save-offline" data-ev="save_offline" class="btn silver">
                <span><svg class="icon icon-list">
                    <use xlink:href="#icon-save"></use>
                  </svg>
                </span><span data-t="savefile">Save to file</span>
              </button>
              <button id="btn-settings" data-ev="settings" data-t="settings" class="btn">Settings</button>
              <button id="btn-audit" class="btn" onclick="showGears(audit, event)" data-t="audit">Passwords check</button>
              <button id="btn-theme" class="btn" onclick="setTheme('app')" data-t="theme">Color theme</button>
              
              
              <button id="btn-htf" data-ev="howtofile" class="btn" data-t="htf">How to use this file?</button>
            </div>
            <div class="row info centered">
              <a href="#" onclick="ls_switch();" data-t="lang">POLSKI</a>
            </div>
            <div class="row info centered">
              <a href="https://www.paypal.com/donate?hosted_button_id=Q3GBEYXDV4PF4&amp;source=url" target="_new" data-t="donate">Support the author</a>
            </div>
            <div class="row info centered">
              <a href="https://github.com/PassPilot/PassPilot.com" target="_new">Github</a>
            </div>
            <div class="row info centered">
              <a href="https://www.passpilot.com/terms.pdf" target="_new" data-t="terms">Terms &amp; Conditions<br>Privacy Policy</a>
            </div>
            <div id="www" class="row info centered">
              Copyright Â©2021<br><a href="https://www.passpilot.com" target="_new">passpilot.com</a>
            </div>
            <div class="row centered">
            </div>
          </div>
        </div>
      </div>
      <!-- nav end -->

      <!--  there cannot be any characters nor line braks here inside the list div -->
      <div id="main" class="wi40">
        <div id="list" class="scroll pos-0-0"></div>
        <div id="abc" class="scroll pos-0-0"></div>
      </div>
      <!-- main end -->

      <!-- detail start -->
      <div id="detail" class="card scroll hidden wi40"></div>
      <!-- detail end -->

      <!-- howtofile begin -->
      <div id="howtofile" class="card scroll wi40 hidden show" data-classes="card scroll wi40 hidden">
        <div class="pos-0-0">

        <div class="row info">
            <svg class="icon big">
                <use xlink:href="#icon-pp"></use>
            </svg>
            <div class="title">PassPilot</div>
            <h1 data-t="htf">How to use this file?</h1>
            <span data-t="htf_info">You will have the best experience while using this file on a laptop or desktop computer in a modern internet browser.</span>
        </div>  

        <label data-t="htf_p5_label">How to use the application offline?</label>
        <div class="row info" data-t="htf_p5_text">To add new record, enter the record name in the top input field and click "Add". To save your records click "Save to file" then enter a strong password and save everything to a new file, you can overwrite the existing file if you want or save a copy in new place. Check our FAQ page for more information about the application <a href="https://www.passpilot.com/#/faq" target="_new">http://www.passpilot.com/#/faq</a></div>

        <label data-t="htf_p1_label">How to decrypt content of this file?</label>
        <div class="row info" data-t="htf_p1_text"><p>If the file was saved together with encrypted vault data you can refresh the page and enter your passphrase in the popup window or go to the "Advanced" section in the settings, type your password in the "Passphrase" field and click the "Decrypt" button on that page</p></div>

        <label data-t="htf_p2_label">File doesn't work on Apple device?</label>
        <div class="row info" data-t="htf_p2_text"><p>If you are using an iPhone this file will not work in a "preview" mode<br>you have to open it via a browser or other program that can run JavaScript either on your phone or desktop. Best is to use the offline file on your desktop or laptop.</p></div>

        <label data-t="htf_p3_label">How to check for updates?</label>
        <div class="row info" data-t="htf_p3_text">You can visit our website <a href="https://www.passpilot.com" target="_new">www.passpilot.com</a> from time to time and check if new version is available, we are constantly improving the application.</div>

        <label data-t="htf_p4_label">How to contact us?</label>
        <div class="row info" data-t="htf_p4_text">In case of questions contact us using the online form <a href="https://www.passpilot.com/#/contact" target="_new">http://www.passpilot.com/#/contact</a> or send an email to <a href="mailto:passpilot.com@gmail.com">passpilot.com@gmail.com</a></div>


</div>      </div>
      <!-- howtofile end -->

      <!-- profile begin -->
      <div id="profile" class="card scroll wi40 hidden">
        <div class="pos-0-0">

    <div class="row info">
        <svg class="icon big">
            <use xlink:href="#icon-user"></use>
        </svg>
        <div class="title">PassPilot</div>
        <input id="acctype" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
        <div class="row">
        <h1></h1>
        <span data-t="profile-info">Use this page to manage your profile</span>
        </div>
    </div>

    <div class="row ">
            <div class="">

                <button id="btn-logout" class="btn red">
                    <span>
                        <svg class="icon">
                            <use xlink:href="#icon-login"></use>
                        </svg>
                    </span>
                    <span data-t="logout">Logout</span>
                </button>

            </div>
        </div>


    <div class="row info">

        <label class="" data-t="email">Email address</label>

        <div class="row">
            <input id="profile_email" name="email" class="" type="text" readonly="" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
        </div>

        <div class="row slim">
            <div class="pos-r-r w350">
                <button id="btn-passchange" data-t="pass-change" class="btn slim">Change passphrase</button>

            </div>
        </div>

        <div class="row slim">
            <div class="pos-r-r w250">
                <button id="btn-emailchange" data-t="email-change" class="btn slim">Change email</button>
            </div>
        </div>

    </div>

    <label class="" data-t="vault_size">Vault size</label>
    <div class="row info">

        <div class="">
            <p data-t="vault_limit">Current limit of characters in encrypted text is 100,000 (hundred thousand characters) for standard account, and 200,000 for premium account. Remember, there is no limit if you are saving to file.</p>
        </div>


        <label class="" data-t="vault_size">Vault size</label>
        <div class="row ">
            <input id="vault_size" name="vaul tsize" class="" type="text" readonly="" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
        </div>
    </div>


    <label class="" data-t="log">Last Login</label>
    <div class="row info">
        <label class="" data-t="log_success">Last successful login</label>
        <div class="row">
            <input id="log_success" class="" type="text" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
        </div>
        <label class="" data-t="log_fail">Last failed attempt</label>
        <div class="row">
        <input id="log_fail" class="" type="text" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
        </div>
    </div>

    <label class="" data-t="deactivate">Remove account</label>
    <div class="row info">
        <p data-t="deactivate-info">If you don't have your deletion code, submit your email on the <a href="/#/register" target="_top">registration form</a> again to receive the code. Your vault will be sent to you in the confirmation email just before your account gets deleted as your last backup.</p>
        <div class="row slim">
            <div class="pos-l-l w250">
                <button class="btn slim" onclick="prepareFrame('\/resign')" data-t="deactivate">Remove account</button>
            </div>
        </div>

    </div>


</div>      </div>
      <!-- profile end -->

      <!-- passphrase change begin -->
      <div id="passphrase_change" class="card scroll wi40 hidden">
        
<div class="row">
    <div class="pos-0-0">
    <div class="row info">
            <svg class="icon big">
                <use xlink:href="#icon-pp"></use>
            </svg>
            <div class="title">PassPilot</div>
            <h1 data-t="pass-change">Change passphrase</h1>
            <span data-t="pass-change-info">Passphrase change</span>
        </div>
        <label class="" data-t="email">Email address</label>
        <div class="help" onclick="toggle(null, null, this.nextSibling);"><div><svg class="icon"><use xlink:href="#icon-help"></use></svg></div></div><label class="tooltip hidden" data-t="emailtip">E-mail address used during registration</label>

        <div class="row">
            <input id="passchange_email" name="email" class="" type="text" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$" required="" title="provide a valid email address" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true">
        </div>

        <label class="" data-t="old-passphrase">Old passphrase</label>
        <div class="help" onclick="toggle(null, null, this.nextSibling);"><div><svg class="icon"><use xlink:href="#icon-help"></use></svg></div></div><label class="tooltip hidden" data-t="passphrasetip">Passphrase must be very strong for that reason the required length is over 20 characters</label>

        <div class="row">
            <div class="pos-l-icon">
                <div class="peek" onclick="peekInput(event);"><svg class="icon"><use xlink:href="#icon-eyeclosed"></use></svg><svg class="icon"><use xlink:href="#icon-eye"></use></svg></div><input id="passchange_passphrase" class="" type="password" placeholder="" pattern=".{20,}" title="minimum 20 characters" required="" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true">
            </div>
        </div>

            <label class="" data-t="new-passphrase">New passphrase</label>
            <div class="help" onclick="toggle(null, null, this.nextSibling);"><div><svg class="icon"><use xlink:href="#icon-help"></use></svg></div></div><label class="tooltip hidden" data-t="passphrasetip">Passphrase must be very strong for that reason the required length is over 20 characters</label>
            <div class="row">
                <div class="pos-l-icon">
                    <div class="peek" onclick="peekInput(event);"><svg class="icon"><use xlink:href="#icon-eyeclosed"></use></svg><svg class="icon"><use xlink:href="#icon-eye"></use></svg></div><input id="passchange_passphrase2" class="" type="password" placeholder="" pattern=".{20,}" title="minimum 20 characters" required="" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true">
                </div>
            </div>
            <div class="narrow">
                <meter id="ppm3" max="5" value="0"></meter>
                <p id="ppp3"></p>
            </div>
            <label class="" data-t="new-passphrase-confirm">Repeat new passphrase</label>
            <div class="help" onclick="toggle(null, null, this.nextSibling);"><div><svg class="icon"><use xlink:href="#icon-help"></use></svg></div></div><label class="tooltip hidden" data-t="passphrasetip">Passphrase must be very strong for that reason the required length is over 20 characters</label>
            <div class="row">
                <div class="pos-l-icon">
                    <div class="peek" onclick="peekInput(event);"><svg class="icon"><use xlink:href="#icon-eyeclosed"></use></svg><svg class="icon"><use xlink:href="#icon-eye"></use></svg></div><input id="passchange_passphrase3" class="" type="password" placeholder="" pattern=".{20,}" title="minimum 20 characters" required="" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true">
                </div>
            </div>
        <div class="row">
            <div class="pos-l-l">
                <button type="submit" class="btn" onclick="showGears(change_passphrase, event)" data-t="pass-change">Change passphrase</button>
            </div>
        </div>
    </div>
</div>
      </div>
      <!-- passphrase change end -->

      <!-- passphrase change begin -->
      <div id="email_change" class="card scroll wi40 hidden">
        
<div class="row">
    <div class="pos-0-0">

    <div class="row info">
            <svg class="icon big">
                <use xlink:href="#icon-pp"></use>
            </svg>
            <div class="title">PassPilot</div>
            <h1 data-t="email-change">Change email</h1>
            <span data-t="email-change-info">Change login email</span>
        </div>


        <label class="" data-t="new-email">New email address</label>
        <div class="help" onclick="toggle(null, null, this.nextSibling);"><div><svg class="icon"><use xlink:href="#icon-help"></use></svg></div></div><label class="tooltip hidden" data-t="emailchangetip2">New email address</label>

        <div class="row">
            <input id="emailchange_email2" name="email" class="" type="text" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$" required="" title="provide a valid email address" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true">
        </div>


                <input id="emailchange_passphrase" class="" type="hidden" placeholder="" pattern=".{20,}" title="minimum 20 characters" required="" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true">
    

        <div class="row">
            
            <div class="pos-l-l">
                <button type="submit" class="btn" onclick="showGears(change_email, event)" data-t="email-change">Change email</button>
            </div>

        </div>

    

    </div>
</div>
      </div>
      <!-- passphrase change end -->

      <!-- under begin -->
      <div id="under" class="card scroll wi40 hidden">
        <div class="pos-0-0">
    <div class="row info">
        <svg class="icon big warning">
            <use xlink:href="#icon-warning"></use>
        </svg>
        <div class="title">PassPilot</div>
        <h1 data-t="under">Advanced</h1>
        <span data-t="under-card-info">Only if you know what you are doing<br> Here you can decrypt saved information, you can also use this page to encrypt/decrypt any text of your choice</span>
    </div>

    <div class="row info">

        <label class="" data-t="passphrase">Passphrase</label>

        <div class="row">

            <div class="pos-l-icon">
                <div class="peek" onclick="peekInput(event);"><svg class="icon"><use xlink:href="#icon-eyeclosed"></use></svg><svg class="icon"><use xlink:href="#icon-eye"></use></svg></div><input id="advanced_passphrase" class="" type="password" placeholder="" title="passphrase" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true">
            </div>
        </div>
        <div class="narrow">
            <meter max="5" id="ppm2" value="0"></meter>
            <p id="ppp2"></p>
        </div>

        <label class="" data-t="encryptionhash">Encryption key</label>
        <div class="row">
            <div class="">
                <input id="encryptionhashinput" class="" type="text" placeholder="" title="encryption hash" value="" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
            </div>
        </div>

        <div class="row">

            <div class="pos-r-r w350">
                <button type="submit" class="btn" onclick="showGears(encryptionhashgen, event)" data-t="encryptionhashgen">Generate encryption key hash</button>
            </div>

        </div>

    </div>

    <div class="row info">

        <label class="" data-t="encryptedtext">Encrypted text</label>
        <div class="help" onclick="toggle(null, null, this.nextSibling);"><div><svg class="icon"><use xlink:href="#icon-help"></use></svg></div></div><label class="tooltip hidden" data-t="encryptedtexttip">Here is the encrypted and encoded text. Parameters are encoded with Base64 algorithm, click Decode to see the actual AES encrypted text, you will find it in the "ct" property value.</label>
        <div class="row">
            <textarea id="encrypted_text" rows="10" placeholder="" data-reset="false" autocapitalize="off" autocorrect="off" readonly="" autocomplete="off" class="" type="text" data-icons="true"></textarea>
        </div>

        <div class="row slim">
            <div class="pos-r-r w250">
                <button type="submit" class="btn slim" onclick="enable_elem('encrypted_text')" data-t="enable">Unlock to edit</button>
            </div>
        </div>
        <div class="row slim">
            <div class="pos-r-r w250">
                <button type="submit" class="btn slim" onclick="showGears( decrypt, event)" data-t="decrypt">Decrypt</button>
            </div>
        </div>
        <div class="row slim">
            <div class="pos-r-r w250">
                <button type="submit" class="btn slim" onclick="decode(event)" data-t="decode">Decode Base64</button>
            </div>
        </div>
        <div class="row slim">
            <div class="pos-r-r w250">
                <button type="submit" class="btn slim" onclick="encode(event)" data-t="encode">Encode Base64</button>
            </div>
        </div>

    </div>

    <div class="row info">

        <label class="" data-t="cleartext">Clear text</label>
        <div class="help" onclick="toggle(null, null, this.nextSibling);"><div><svg class="icon"><use xlink:href="#icon-help"></use></svg></div></div><label class="tooltip hidden" data-t="cleartexttip">Here you can see the the text after it is decrypted</label>
        <div class="row">
            <textarea id="clear_text" rows="12" placeholder="" autocapitalize="off" autocorrect="off" readonly="" autocomplete="off" class="" type="text" data-icons="true"></textarea>
        </div>
        <div class="row slim">
            <div class="pos-r-r w250">
                <button type="submit" class="btn slim" onclick="enable_elem('clear_text')" data-t="enable">Unlock to edit</button>
            </div>
        </div>
        <div class="row slim">
            <div class="pos-r-r w250">
                <button type="submit" class="btn slim" onclick="showGears(encrypt, event)" data-t="encrypt">Encrypt</button>
            </div>
        </div>
        <div class="row slim">
            <div class="pos-r-r w250">
                <button type="submit" class="btn slim" onclick="importText(true)" data-t="import">Import</button>
            </div>
        </div>

    </div>




    <div class="row info">

        <label class="" data-t="email">Email address</label>
        <div class="row">
            <input id="advanced_email" name="email" class="" type="text" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$" title="email address" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true">
        </div>

        <label class="" data-t="loginhash">Login hash</label>
        <div class="row">
            <div class="">
                <input id="loginhashinput" class="" type="text" placeholder="" title="login hash" value="" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
            </div>
        </div>
        <div class="row">
            <div class="pos-r-r w350">
                <button type="submit" class="btn" onclick="showGears(loginhashgen, event)" data-t="loginhashgen">Generate login hash</button>
            </div>
        </div>
    </div>
</div>      </div>
      <!-- under end -->

      <!-- save_offline -->
      <div id="save_offline" class="card scroll hidden wi40">
        <form>
    <div class="row">
        <div class="pos-0-0">
            <div class="row info">
                <svg class="icon big">
                    <use xlink:href="#icon-save"></use>
                </svg>
                <div class="title">PassPilot</div>
                <h1 data-t="savefile">Save to file</h1>
                <span data-t="savefile-card-indo">Does not require registration. You can save your encrypted vault together with the application to a singe HTML file. The file is a self contained application that you can use offline (Internet connection is NOT required).</span>
            </div>
            <label class="" data-t="passphrase">Passphrase</label>
            <div class="help" onclick="toggle(null, null, this.nextSibling);"><div><svg class="icon"><use xlink:href="#icon-help"></use></svg></div></div><label class="tooltip hidden" data-t="passphrasetip">Passphrase must be very strong for that reason the required length is over 20 characters</label>
            <div class="row">
                <div class="pos-l-icon">
                    <div class="peek" onclick="peekInput(event);"><svg class="icon"><use xlink:href="#icon-eyeclosed"></use></svg><svg class="icon"><use xlink:href="#icon-eye"></use></svg></div><input id="offline_passphrase" class="" type="password" placeholder="" pattern=".{20,}" title="minimum 20 characters" required="" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true" value="">
                </div>
            </div>
            <div class="narrow">
                <meter max="5" id="ppm" value="0"></meter>
                <p id="ppp"></p>
            </div>
            <label class="" data-t="passphrase-confirm">Confirm passphrase</label>
            <div class="help" onclick="toggle(null, null, this.nextSibling);"><div><svg class="icon"><use xlink:href="#icon-help"></use></svg></div></div><label class="tooltip hidden" data-t="passphrasetip">Passphrase must be very strong for that reason the required length is over 20 characters</label>
            <div class="row">
                <div class="pos-l-icon">
                    <div class="peek" onclick="peekInput(event);"><svg class="icon"><use xlink:href="#icon-eyeclosed"></use></svg><svg class="icon"><use xlink:href="#icon-eye"></use></svg></div><input id="offline_passphrase2" class="" type="password" placeholder="" pattern=".{20,}" title="minimum 20 characters" required="" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true" value="">
                </div>
            </div>
            <div class="row">
                <div class="pos-r-r w250">
                    <button type="submit" class="btn green" onclick="showGears(saveOffline, event)" data-t="savefile">Save to file</button>
                </div>
            </div>

            <label class="" data-t="save-app">Save only application</label>
            <div class="row info">
                <p data-t="save-app-info">Saves the application to a single HTML file without your encrypted vault data, you can send such application to your friends, empty application can be filled later, no internet connection is required</p>
                <div class="row">
                    <div class="pos-l-l">
                        <button type="submit" class="btn" onclick="showGears(saveApp, event)" data-t="save-app">Save only application</button>
                    </div>
                </div>

            </div>

        </div>
    </div>
</form>      </div>
      <!-- save_offline end -->

      <!-- options -->
      <div id="settings" class="card scroll hidden wi40">
        <div class="pos-0-0">

    <div class="row info">
        <svg class="icon big">
            <use xlink:href="#icon-gear"></use>
        </svg>
        <div class="title">PassPilot</div>
        <h1 data-t="settings">Settings</h1>
        <span data-t="settings-card-info">For security reasons password generator settings will not be stored when you save your data and will reset once you refresh the page.<br>Only the timeout value and additional PBKDF2 iterations value will be stored once you save your data.</span>
    </div>

    <label class="" data-t="passgen-label">Strong password generator</label>
    <div class="row info">

        <label class="" data-t="pass-lenght">Generated passwords length</label>

        <div class="row">
            <div class="">
                <input id="passgenlength" data-reset="false" class="" type="number" placeholder="" title="generated password lenght" value="30" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
            </div>
        </div>

        <label class="" data-t="passgenchars">Characters used for generated passwords</label>
        <div class="row">
            <div class="">
                <textarea id="passgenchars" class="min-h-120" data-reset="false" title="generated password characters" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPSDFGHJKLZXCVBNM!@#$%^&amp;*()-=_+[]{};:'"\|,&lt;.&gt;/?</textarea>
            </div>
        </div>

        <label class="" data-t="pass-test">Test your settings</label>
        <div class="row">
            <div class="">
                <input id="passgentest" class="" type="text" placeholder="" data-icons="true" title="generated password test" autocapitalize="off" autocorrect="off" autocomplete="off">
            </div>
        </div>

        <div class="row slim">
            <div class="pos-r-r w250">
                <button class="btn slim" onclick="test_pass_gen('passgentest')" data-t="pass-gen">Generate password</button>
            </div>
        </div>
        <div class="row slim">
            <div class="pos-r-r w250">
                <button class="btn slim" onclick="pass_gen_reset()" data-t="reset">Reset settings</button>
            </div>
        </div>

    </div>

    <div class="row info">
        <label class="" data-t="timeout">Inactivity timeout (minutes), "0" to deactivate</label>
        <div class="row">
            <div class="">
                <input id="timeout" data-reset="false" class="" type="number" placeholder="" title="timeout" value="" min="0" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
            </div>
        </div>
    </div>

    <div class="row info">

        <label class="" data-t="iter">Encryption key derivation function iterations count (PBKDF2), additionally to 147338 encryption hash iterations</label>

        <div class="row">
            <div class="">
                <input id="iter" data-reset="false" class="" type="number" placeholder="" title="iterations" readonly="" value="" min="101" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
            </div>
        </div>

        <div class="row slim">
            <div class="pos-r-r w250">
                <button type="submit" class="btn slim" onclick="enable_elem('iter')" data-t="enable">Unlock to edit</button>
            </div>
        </div>



    </div>

    <div class="row info">
        <div class="row slim">
            <div class="">
                <button id="btn-under" data-ev="under" class="btn slim" data-t="under">Advanced</button>
            </div>
        </div>
    </div>
</div>      </div>
      <!-- options -->

      <!-- audit -->
      <div id="auditcard" class="card scroll hidden wi40">
        <div class="row">
    <div class="pos-0-0">

        <div class="row info">
            <svg class="icon big">
                <use xlink:href="#icon-shield"></use>
            </svg>
            <div class="title">PassPilot</div>
            <h1 data-t="audit">Passwords check</h1>
            <span data-t="audit-info">Checks passwords strength, marks weak and reused passwords.<br> Records were marked with below icons on the list screen.<br> Empty passwords also count as insecure.<br> To remove a password field from the record click "Add/remove fields" on the record card.<br> Passwords over 50 characters are not measured due to performance impact.</span>
        </div>

        <!-- <label class="" data-t="audit"></label> -->
        <div class="row info">


        <label data-t="audit-weak">Weak passwords (should be replaced immediately with strong password, click "Generate password" on the record card to generate strong password)</label>
            <div class="row">
                <div class="pos-r-icon">
                    <div class="audit-icon">
                        <svg class="icon warning noevents">
                            <use xlink:href="#icon-warning2"></use>
                        </svg>
                    </div>
                    <input id="weak" class="strong centered" readonly="" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
                </div>
            </div>

            <label data-t="audit-empty">Records with empty password (you can remove the password field from the record if you don't use it)</label>
            <div class="row">
                <div class="pos-r-icon">
                    <div class="audit-icon">
                        <svg class="icon warning noevents">
                            <use xlink:href="#icon-warning"></use>
                        </svg>
                    </div>
                    <input id="empty" class="strong centered" readonly="" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
                </div>
            </div>

            <label data-t="audit-reused">Records with reused passwords (empty passwords also count). Avoid using same password in multiple places.</label>
            <div class="row">
                <div class="pos-r-icon">
                    <div class="audit-icon">
                        <svg class="icon warning noevents">
                            <use xlink:href="#icon-reused"></use>
                        </svg>
                    </div>
                    <input id="reused" class="strong centered" readonly="" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
                </div>
            </div>



            <label data-t="audit-fair">Fair passwords (you can definitely do better!)</label>
            <div class="row">
                <div class="pos-r-icon">
                    <div class="audit-icon">
                        <svg class="icon fair noevents">
                            <use xlink:href="#icon-warning3"></use>
                        </svg>
                    </div>
                    <input id="fair" class="strong centered " readonly="" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
                </div>
            </div>



            <label data-t="audit-good">Good passwords (can you do better?)</label>
            <div class="row">
                <div class="pos-r-icon">
                    <div class="audit-icon">
                        <svg class="icon good noevents">
                            <use xlink:href="#icon-shield"></use>
                        </svg>
                    </div>
                    <input id="good" class="strong centered" readonly="" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
                </div>
            </div>


            <!-- <div class="row info"> -->
            <label data-t="audit-strong">Strong passwords with 20 characters or more (for maximum security!)</label>
            <div class="row">
                <div class="pos-r-icon">
                    <div class="audit-icon">
                        <svg class="icon strong noevents">
                            <use xlink:href="#icon-pp"></use>
                        </svg>
                    </div>
                    <input id="strong" class="strong centered" readonly="" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
                </div>
            </div>
            <!-- </div> -->

 


            <label data-t="audit-missing">Records without password field</label>
            <div class="row">
                <div class="pos-r-icon">
                    <!-- <span><svg class="icon noevents">
                        <use xlink:href="#icon-pp"></use>
                    </svg></span> -->
                    <input id="missing" class="strong centered" readonly="" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
                </div>
            </div>

            <label data-t="audit-records">Total records</label>
            <div class="row ">
                <div class="pos-r-icon">
                    <!-- <span><svg class="icon noevents">
                        <use xlink:href="#icon-pp"></use>
                    </svg></span> -->
                    <input id="records" class="strong centered" readonly="" autocapitalize="off" autocorrect="off" autocomplete="off" data-icons="true">
                </div>
            </div>

        </div>
    </div>
</div>      </div>
      <!-- audit -->

      <!-- login begin -->
      <div id="offlinedecrypt" class="modal hidden">
        <div class="pos-0-0">
    <div class="card logon">
        <div class="row info">
            <svg class="icon big icon-pp">
                <use xlink:href="#icon-pp"></use>
            </svg>
            <div class="title">PassPilot</div>
            <h1 data-t="decrypt">Decrypt</h1>
            <span data-t="offline-inint-decrypt">There is an encrypted text available, enter your password and click "Decrypt"</span>
        </div>
        <form>

            <label class="" data-t="passphrase">Passphrase</label>
            <div class="help" onclick="toggle(null, null, this.nextSibling);"><div><svg class="icon"><use xlink:href="#icon-help"></use></svg></div></div><label class="tooltip hidden" data-t="passphrasetip">Passphrase must be very strong for that reason the required length is over 20 characters</label>

            <div class="row">
                <div class="pos-l-icon">
                    <div class="peek" onclick="peekInput(event);"><svg class="icon"><use xlink:href="#icon-eyeclosed"></use></svg><svg class="icon"><use xlink:href="#icon-eye"></use></svg></div><input id="offline_decrypt_passphrase" class="" type="password" placeholder="" pattern=".{20,}" title="minimum 20 characters" required="" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true">
                </div>
            </div>

            <div class="row">
                <div class="pos-r-r w250">
                    <button type="submit" class="btn" onclick="showGears(offlineDecrypt, event)" data-t="decrypt">Decrypt</button>
                </div>
            </div>
        </form>

    </div>
</div>

<div class="scroll pos-r-r">
    <button id="" class="btn close" onclick="toggle('offlinedecrypt')">
        <svg class="icon">
            <use xlink:href="#icon-cross"></use>
        </svg>
    </button>
</div>      </div>
      <!-- login end -->

      <!-- login begin -->
      <div id="logincard" class="modal hidden">
        
<form>
    <div class="pos-0-0">
        <div class="card logon">
            <div class="row info">
                <svg class="icon big icon-pp">
                    <use xlink:href="#icon-pp"></use>
                </svg>
                <div class="title">PassPilot</div>
                <h1 data-t="login">Login</h1>
                <span data-t="login-card-info"><a href="#/register">Register</a> if you haven't so. You can also save your data locally. Click here to <a href="#" onclick="toggle('logincard');toggle('save_offline')">save to file</a> and use the application offline without registration</span>
            </div>

            <label class="" data-t="email">Email address</label>
            <div class="help" onclick="toggle(null, null, this.nextSibling);"><div><svg class="icon"><use xlink:href="#icon-help"></use></svg></div></div><label class="tooltip hidden" data-t="emailtip">E-mail address used during registration</label>

            <div class="row">
                <input id="login_email" name="email" class="" type="text" pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$" required="" title="provide a valid email address" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true">
            </div>

            <label class="" data-t="passphrase">Passphrase</label>
            <div class="help" onclick="toggle(null, null, this.nextSibling);"><div><svg class="icon"><use xlink:href="#icon-help"></use></svg></div></div><label class="tooltip hidden" data-t="passphrasetip">Passphrase must be very strong for that reason the required length is over 20 characters</label>

            <div class="row">
                <div class="pos-l-icon">
                    <div class="peek" onclick="peekInput(event);"><svg class="icon"><use xlink:href="#icon-eyeclosed"></use></svg><svg class="icon"><use xlink:href="#icon-eye"></use></svg></div><input id="login_passphrase" class="" type="password" placeholder="" pattern=".{20,}" title="minimum 20 characters" required="" autocorrect="off" autocapitalize="off" autocomplete="off" data-icons="true">
                </div>
            </div>
            <div class="row">
                <div class="pos-r-r">
                    <button type="submit" class="btn red" onclick="showGears(signon, event)" data-t="login-btn">Login</button>
                </div>
            </div>
        </div>
    </div>
</form>
<div class="scroll pos-r-r">
    <button id="" class="btn close" onclick="toggle('logincard')">
        <svg class="icon">
            <use xlink:href="#icon-cross"></use>
        </svg>
    </button>
</div>      </div>
      <!-- login end -->

      <!-- fields edit begin -->
      <div id="editcard" class="modal hidden">

        <div class="pos-0-0">
          <div id="fields" class="card fields">
          </div>
        </div>
        <div class="scroll pos-r-r">
          <button type="text" id="" class="btn close" onclick="toggle('editcard')">
            <svg class="icon">
              <use xlink:href="#icon-cross"></use>
            </svg>
          </button>
        </div>
      </div>
      <!-- fields edit end -->

      <div id="modal" class="card modal hidden">
        <div id="xbtn" class="scroll pos-r-r">
          <button type="text" id="btn-close-modal" class="btn">
            <svg class="icon">
              <use xlink:href="#icon-cross"></use>
            </svg>
          </button>
        </div>
        <div id="iframe_container">
        </div>
      </div>
      <div id="gears" class="hidden">
        <div id="gearwrap">
          <svg class="icon gear">
            <use xlink:href="#icon-gear"></use>
          </svg>
          <svg class="icon gear gearsmall">
            <use xlink:href="#icon-gear"></use>
          </svg>
        </div>
      </div> <!-- gears end -->
      <!-- wrapper end -->
    </div>
  </div>
  <!-- app end -->

  <script type="text/javascript">
    var dict_pl={lang:"ENGLISH",newsearch:"Nazwa/Szukaj",add:"Dodaj",date:"Data",loadsave:"Wczytaj / Zapisz",load:"Wczytaj",save:"Zapisz",saveall:"Zapisz",cancel:"Anuluj",register:"Nowe konto",activate:"Aktywuj konto","activate-info":"SprawdÅº email w celu uzyskania kodu aktywacyjnego. JeÅ¼eli nie znalazÅeÅ od nas maila sprawdÅº wiadomoÅci oznaczone jako SPAM. Zarejestruj siÄ jeÅ¼eli jeszcze tego nie zrobiÅeÅ/zrobiÅaÅ.","activation-code":"Kod aktywacyjny",deactivate:"UsuÅ konto","deactivate-info":'JeÅ¼eli nie masz klucza do usuniÄcia konta, ponownie podaj swÃ³j email w <a href="/#/register" target="_top">formularzu rejestracji</a> Å¼eby otrzymaÄ klucz. Zaszyfrowana treÅÄ Twojego sejfu zostanie wysÅana do Ciebie w wiadomoÅci email tuÅ¼ przed usuniÄciem Twojego konta jako ostatnia kopia zapasowa.',"deactivation-code":"Kod dezaktywacyjny",theme:"Schemat kolorÃ³w",under:"Zaawansowane","under-card-info":"Tylko jeÅ¼eli wiesz co robisz<br> Tutaj moÅ¼esz rozszyfrowaÄ zapisane dane lub uÅ¼yÄ tej strony aby zaszyfrowaÄ lub rozszyfrowaÄ dowolne informacje",encryptedtext:"Zaszyfrowany text",encryptedtexttip:'Tutaj widoczny jest zaszyfrowany i zakodowany text. Parametry zakodowane sÄ jako ciÄg Base64. Kliknij Rozkoduj Å¼eby zobaczyÄ wÅaÅciwie zaszyfrowany ciÄg AES, znajdziesz go pod wartoÅciÄ "ct".',cleartext:"Jawny text",cleartexttip:"Tutaj widoczne sÄ informacje po rozszyfrowaniu.",clear:"CzyÅÄ ekran",about:"Informacje",existing:"Rekord/wpis o tej nazwie juÅ¼ istnieje",emptyname:"Nazwa nie moÅ¼e byÄ pusta, wpisz nowÄ nazwÄ","save-card-info":"Szyfruje dane i zapisuje na serwerze","load-card-info":"Wczytuje dane z serwera i rozszyfrowuje","load-card-info-bottom":'ChociaÅ¼ to wygodne nie musisz siÄ rejestrowaÄ Å¼eby korzystaÄ z aplikacji. MoÅ¼esz swoje hasÅa <a href="#" onClick="toggle(\'save_offline\')" >zapisaÄ do pliku</a> i korzystaÄ z aplikacji wyÅÄcznie offline. JeÅ¼eli jednak chcesz zapisaÄ zaszyfrowane dane online <a href="#/register" >zarejestruj siÄ</a>,  nastÄpnie <a href="#/confirm">aktywuj konto</a>.',"about-card-info":"Ta aplikacja jest managerem haseÅ, na razie to tylko wersja testowa ale w peÅni funkcjonalna. Kontakt do nas znajdziesz w mailu aktywacyjnym.",faq:"Pytania i Odpowiedzi",email:"Adres email",emailtip:"Adres e-mail podany podczas rejestracji",passphrase:"HasÅo","passphrase-min":"Poprawne hasÅo musi zawieraÄ minimum 20 znakÃ³w","passphrase-confirm":"PowtÃ³rz hasÅo",passphrasetip:"HasÅo musi byÄ bardzo silne dlatego wymagane jest 20 znakÃ³w","under-passphrasetip":"HasÅo powinno byÄ dÅugie i trudne do odgadniÄcia.","register-info":'Podaj swÃ³j adres email Å¼eby siÄ zarejestrowaÄ nastÄpnie <a href="/#/confirm" target="_top">aktywuj konto</a>.',"register-info2":'KlikajÄc poniÅ¼szy przycisk akceptujÄ <a href="/terms.pdf" target="_new">regulamin oraz politykÄ prywatnoÅci</a> ktÃ³re obowiÄzujÄ na tej stronie.',accept:"AkceptujÄ i wysyÅam",submit:"WyÅlij",hashgen:"Kontynuuj",saveonline:"Zaisz (nadpisuje dane na serwerze)","captcha-missing":"PotwierdÅº Å¼e nie jesteÅ robotem","passphrase-setup":"HasÅo gÅÃ³wne","passphrase-setup-info":"UtwÃ³rz hasÅo gÅÃ³wne.<br>UÅ¼yj sÅÃ³w lub zwrotÃ³w zamiast pojedynczych znakÃ³w Å¼eby hasÅo byÅo dÅuÅ¼sze i silniejsze.<br>Minimalna dÅugoÅÄ hasÅa to 20 znakÃ³w. MyÅlisz Å¼e to za duÅ¼o? PodziÄkujesz nam pÃ³Åºniej.","passphrase-setup-tip":'PamiÄtaj Å¼eby hasÅo byÅo trudne do odgadniÄcia przez innych ale proste w zapamiÄtaniu dla Ciebie. PrzykÅad dobrego hasÅa "kroooowa | roooobi | muuuu" (tak, hasÅo moÅ¼e zawieraÄ spacje) "++++++ s3cur1ty <3<3 ++++++" lub uÅ¼yj losowych sÅÃ³w, na przykÅad "dzbanek,komar,deszcz,kucharz,zabawka,siodÅo" zalecane 6 lub wiÄcej sÅÃ³w.',hash:"Hash","hash-info":"Hash wygenerowany z twojego adresu email oraz hasÅa","hash-tip":"Prawie gotowe. Upewnij siÄ Å¼e pamiÄtasz swoje hasÅo poniewaÅ¼ nikt nie bÄdzie w stanie go odzyskaÄ jeÅli je zapomnisz (zapisz je i przechowuj w bezpiecznym miejscu). <br>Kliknij poniÅ¼ej aby potwierdziÄ dane logowania, moÅ¼esz rÃ³wnieÅ¼ zamknÄÄ okno i ponownie uÅ¼yÄ kodu aktywacyjnego aby zaczÄÄ od nowa.",hashgensubmit:"PotwierdÅº dane logowania",match:"HasÅa nie pasujÄ",added:"Dodano","delete":"UsuÅ",gooffline:"Tryb offline",goonline:"Tryb online",encrypt:"Zaszyfruj",encrypted:"Zaszyfrowano poprawnie",decrypt:"Rozszyfruj",decrypted:"Rozszyfrowano poprawnie",decode:"Rozkoduj Base64",encode:"Zakoduj Base64",savefile:"Zapisz do pliku","savefile-card-indo":"Nie wymaga rejestracji, zapisuje zaszyfrowane dane wraz z aplikacjÄ do jednego pliku HTML, ktÃ³ry sam w sobie jest peÅnowartoÅciowÄ aplikacjÄ, tak zapisany plik moÅ¼esz uÅ¼ywaÄ offline (poÅÄczenie z Internetem nie jest potrzebne)",online:"Wymaga Internetu",offline:"Bez Internetu",empty:"Brak treÅci, na poczÄtek dodaj jakiÅ rekord (wpis)","no-email":"Podaj poprawny adres email (uwaÅ¼aj na spacje)","pass-no-match":"HasÅa nie sÄ takie same","nothing-to-save":"Brak treÅci do zapisania lub niekompletne dane","loading-overwrite":"Wczytywanie nadpisze niezapisane dane, kontynuowaÄ?","saving-overwrite":"Zapisywanie nadpisze dane istniejÄce na serwerze, kontynuowaÄ?","confirm-delete":"Czy na pewno usunÄÄ rekord","confirm-delete-field":"Czy na pewno usunÄÄ to pole?","existing-field":"Pole o takiej nazwie juÅ¼ istnieje lub nazwa jest zastrzeÅ¼ona",editcard:"Dodaj/usuÅ pola","editcard-info":"Dodaj lub usuÅ pola z rekordu,<br>wpisz  u, l, p, n, o Å¼eby przywrÃ³ciÄ domyÅlne pola",close:"Zamknij","no-login":"Podaj dane logowania","offline-inint-decrypt":'Å»eby rozszyfrowaÄ dane, wprowadÅº hasÅo i kliknij "Rozszyfruj"',inactivity:"Dla bezpieczeÅstwa z powodu bezczynnoÅci ekran zostaÅ wyczyszczony",reset:"Resetuj ustawienia",settings:"Ustawienia","settings-card-info":"Ze wzglÄdÃ³w bezpieczeÅstwa ustawienia generatora haseÅ nie bÄdÄ przechowywane podczas zapisywania danych i zostanÄ zresetowane po odÅwieÅ¼eniu strony.<br>Jedynie wartoÅÄ limitu czasu i wartoÅÄ iteracji PBKDF2 zostanÄ zachowane podczas zapisywania danych.","pass-lenght":"DÅugoÅÄ generowanych haseÅ",passgenchars:"Znaki z ktÃ³rych generowane sÄ hasÅa","passgen-label":"Generator silnych haseÅ","pass-gen":"Wygeneruj hasÅo","pass-test":"Przetestuj generator","pass-overwrite":"NadpisaÄ obecne hasÅo?",beforeunload:"Niezapisane dane zostanÄ utracone","restore-elem":"Cofnij zmiany","confirm-restore":"CofnÄÄ do ostatnio zapisanej wersji?","nothing-restored":"Brak informacji do przywrÃ³cenia",loaded:"Dane zostaÅy wczytane","import":"Importuj",copy:"Kopiuj",copied:"Skopiowano do schowka","check-password":"BÅÄd, sprawdÅº hasÅo",error:"WystÄpiÅ bÅÄd","invalid-format":"Niepoprawny format danych",ok:"Ok",canlcel:"Anuluj",confirm:"PotwierdÅº",sending:"WysyÅam","sure-to-delete":"Czy na pewno chcesz usunÄÄ konto?",unsaved:"<marquee>PamiÄtaj zapisz zmiany, kliknij tutaj.</marquee>","unsaved-online":"<marquee>PamiÄtaj zapisz zmiany. Automatyczny zapis po 1 minucie bezczynnoÅci.</marquee>",list:"Lista",contact:"ZgÅoÅ problem","contact-info":"BÄdziemy wdziÄczni za precyzyjne opisanie tematu ktÃ³rego dotyczy wiadomoÅÄ.<br>Pola oznaczone * nie sÄ wymagane, wypeÅnij je jeÅ¼eli chcesz Å¼ebyÅmy mogli siÄ z TobÄ skontaktowaÄ w razie potrzeby.","contact-name":"Twoje imiÄ *","contact-email":"TwÃ³j adres email *","contact-query":"TreÅÄ wiadomoÅci",iter:"Liczba iteracji funkcji wprowadzania klucza szyfrujÄcego (PBKDF2), dodatkowo do 147338 iteracji hasha szyfrujÄcego",timeout:'Czas bezczynnoÅci po ktÃ³rym ekran zostanie wyczyszczony (minuty), "0" aby wyÅÄczyÄ',strength:"SiÅa hasÅa",weak:"HasÅo jest za sÅabe, uÅ¼yj sÅÃ³w/zdaÅ zamiast liter.",login:"Zaloguj","login-btn":"Zaloguj siÄ",logout:"Wyloguj","login-card-info":'JeÅ¼eli nie zaÅoÅ¼yÅeÅ jeszcze konta <a href="#/register" >zarejestruj siÄ</a>. MoÅ¼esz rÃ³wnieÅ¼ swoje hasÅa <a href="#" onClick="toggle(\'logincard\');toggle(\'save_offline\')" >zapisaÄ do pliku</a> i korzystaÄ z aplikacji wyÅÄcznie offline bez rejestracji',"before-login":"Zapisz do pliku lub usuÅ istniejÄce rekordy/wpisy przed zalogowaniem",loggedin:"Zalogowano poprawnie, moÅ¼esz dodawaÄ nowe wpisy (rekordy)","before-logout":"Masz niezapisane dane, ktÃ³re stracisz po wylogowaniu, wylogowaÄ mimo to?",loginhash:"Hash logowania",loginhashinfo:"Hash logowania",loginhashgen:"Wygeneruj hash logowania",encryptionhash:"Klucz szyfrujÄcy",encryptionhashinfo:"Klucz szyfrujÄcy",encryptionhashgen:"Wygeneruj hash klucza szyfrujÄcego",loggedoff:"Wylogowano poprawnie",noquicksave:"Nie jesteÅ zalogowany, moÅ¼esz zapisaÄ jedynie do pliku",done:"Zrobione","0":"Najgorsze","1":"ZÅe","2":"SÅabe","3":"Årednie","4":"Dobre","5":"Silne","6":"HasÅa powyÅ¼ej 50 znakÃ³w nie sÄ mierzone ze wzglÄdu na wydajnoÅÄ","high-iterations":"Upewnij siÄ Å¼e wiesz co robisz, zwiÄkszanie tej wartoÅci podniesie bezpieczeÅstwo ale znaczÄco obciÄÅ¼y system oraz wpÅynie na dÅuÅ¼szy czas szyfrowania. 100000 jest wartoÅciÄ wystarczajÄcÄ","low-iterations":"Ta wartoÅÄ musi byÄ wiÄksza niÅ¼ 100","pass-change":"ZmieÅ hasÅo gÅÃ³wne","pass-change-info":"Zmiana hasÅa gÅÃ³wnego","old-passphrase":"Stare hasÅo","new-passphrase":"Nowe hasÅo","new-passphrase-confirm":"PowtÃ³rz nowe hasÅo","before-change":"Musisz byÄ zalogowany",enable:"Odblokuj do edycji","email-change":"ZmieÅ adres email","email-change-info":"Zmiana adresu email do logowania","old-email":"Obecny/stary adres email","new-email":"Nowy adres email",emailchangetip:"Obecny adres email ktÃ³rym siÄ logujesz",emailchangetip2:"Nowy adres email","current-passphrase":"Twoje obecne hasÅo","same-email":"Adresy email muszÄ byÄ rÃ³Å¼ne","same-passphrase":"Nowe hasÅo nie moÅ¼e byÄ takie samo jak stare","emailchange-conf":"Potwierdzenie zmiany adresu email","emailchange-conf-info":"Tutaj moÅ¼esz potwierdziÄ zmianÄ adresu e-mail dla Twojego konta.","emailchange-conf-info2":"Dlaczego ponownie prosimy o podanie wszystkich danych? <br> Prosimy o podanie aktualnego adresu e-mail i hasÅa, poniewaÅ¼ sÄ one uÅ¼ywane aby stworzyÄ hash logowania i skoro zmieniasz swÃ³j adres e-mail musimy wygenerowaÄ nowy hash logowania przy uÅ¼yciu nowego adresu e-mail i obecnego hasÅa, TwÃ³j klucz szyfrowania nie ulegnie zmianie, poniewaÅ¼ generowany jest tylko z Twojego hasÅa, ktÃ³rego w tej chwili nie zmieniamy.","conf-code":"Kod potwierdzajÄcy","conf-code-tip":"Kod potwierdzajÄcy ktÃ³ry otrzymaÅeÅ w wiadomoÅci email","current-login-hash":"Obecny hash logowania","current-login-hash-info":"BieÅ¼Äcy hash logowania obliczony na podstawie aktualnego adresu e-mail i aktualnego hasÅa w poÅÄczeniu z tokenem sesji dla bezpieczeÅstwa","new-login-hash":"Nowy hash logowania","new-login-hash-info":"Nowy hash logowania jest obliczany na podstawie nowego adresu e-mail i aktualnego hasÅa.",loginhashsubmit:"Potwierdzam zmianÄ adresu email",profile:"Konto","profile-info":"Tutaj moÅ¼esz zarzÄdzaÄ swoim profilem",vault_size:"Rozmiar sejfu",vault_limit:"Obecny limit iloÅci znakÃ³w zaszyfrowanego tekstu to 100,000 (sto tysiÄcy znakÃ³w) dla kont standard oraz 200,000 dla kont premium. PamiÄtaj, limit nie obowiÄzuje jezeli zapisujesz do pliku.",loggedout:"ZostaÅeÅ wylogowany",htf:"Jak korzystaÄ z pliku?",htf_info:"Zalecamy korzystanie z tego pliku na laptopie lub komputerze stacjonarnym w nowoczesnej przeglÄdarce internetowej.",htf_p1_label:"Jak odszyfrowaÄ dane z pliku?",htf_p1_text:'<p>JeÅ¼eli plik zostaÅ zapisany razem z zaszyfrowanymi danymi odÅwieÅ¼ tÄ stronÄ i wprowadÅº hasÅo w oknie z hasÅem lub przejdÅº do sekcji "Zaawansowane" w ustawieniach tam wprowadÅº swoje hasÅo w polu "HasÅo" i kliknij "Rozszyfruj".</p>',htf_p2_label:"Plik nie dziaÅa na urzÄdzeniu Apple?",htf_p2_text:"<p>JeÅ¼eli korzystasz z iPhone'a ten plik nie bÄdzie dziaÅaÅ w trybie podglÄdu (zapowiedzi), musisz otworzyÄ go w przeglÄdarce lub innym programie na swoim telefonie lub komputerze, ktÃ³ry jest w stanie uruchamiaÄ strony internetowe.</p><p>Najlepiej korzystaÄ z tego pliku na komputerze lub laptopie.</p>",htf_p3_label:"Jak sprawdziÄ dostÄpnoÅÄ nowej wersji?",htf_p3_text:'Od czasu do czasu zajrzyj na stronÄ <a href="https://www.passpilot.com" target="_new" >www.passpilot.com</a> i sprawdÅº czy dostÄpna jest nowa wersja aplikacji, caÅy czas jÄ rozwijamy.',htf_p4_label:"Gdzie szukaÄ pomocy?",htf_p4_text:'W razie problemÃ³w skontaktuj siÄ z nami przy pomocy formularza internetowego <a href="https://www.passpilot.com/#/contact" target="_new"  >http://www.passpilot.com/#/contact</a> lub napisz na adres <a href="mailto:passpilot.com@gmail.com">passpilot.com@gmail.com</a>',htf_p5_label:"Jak korzystaÄ z aplikacji offline?",htf_p5_text:'Aby dodaÄ nowy wpis, wprowadÅº nazwÄ rekordu w polu u gÃ³ry i kliknij "Dodaj". Aby zapisaÄ swoje rekordy, kliknij "Zapisz do pliku" nastÄpnie wprowadÅº silne hasÅo i zapisz wszystko w nowym pliku, jeÅli chcesz moÅ¼esz nadpisaÄ istniejÄcy plik lub zapisaÄ kopiÄ w nowym miejscu. SprawdÅº stronÄ z pytaniami i odpowiedziami aby uzyskaÄ wiÄcej informacji na temat aplikacji <a href="https://www.passpilot.com/#/faq" target="_new" >http://www.passpilot.com/#/faq</a>',welcome:"Ekran powitalny",terms:"Regulamin<br>Polityka PrywatnoÅci",donate:"Wesprzyj aurora",log:"Ostatnie logowanie",log_success:"Ostatnie poprawne logowanie",log_fail:"Ostatnia nieudana prÃ³ba","save-app":"Zapisz tylko aplikacjÄ","save-app-info":"Zapisuje aplikacjÄ do jednego pliku HTML bez Twoich zaszyfrowanych danych, tak zapisanÄ aplikacjÄ moÅ¼esz wysÅaÄ znajomym, pustÄ aplikacjÄ moÅ¼na zapeÅniÄ pÃ³Åºniej nie potrzeba do tego poÅÄczenia z internetem",audit:"SprawdÅº hasÅa","audit-info":'Sprawdza siÅÄ haseÅ, pokazuje sÅabe i powtarzajÄce siÄ hasÅa.<br> Wpisy zostaÅy oznaczone poniÅ¼szymi ikonami na liÅcie haseÅ.<br> Puste hasÅa rÃ³wnieÅ¼ liczÄ siÄ jako niebezpieczne.<br> Å»eby usunÄÄ pole hasÅa z danego wpisu kliknij "Dodaj/usuÅ pola" na karcie wpisu.<br> HasÅa powyÅ¼ej 50 znakÃ³w nie sÄ mierzone ze wzglÄdu na wydajnoÅÄ.',"audit-records":"Liczba wszystkich wpisÃ³w","audit-missing":"Wpisy bez pola hasÅo","audit-empty":"Wpisy z pustym polem hasÅo (moÅ¼esz usunÄÄ pole hasÅo z rekordu jeÅ¼eli go nie wykorzystujesz)","audit-weak":'SÅabe hasÅa (powinny zostaÄ jak najszybciej zastÄpione silnym hasÅem, kliknij "Wygeneruj hasÅo" na karcie wpisu Å¼eby wygenerowaÄ silne hasÅo)',"audit-fair":"Årednie hasÅa (zdecydowanie moÅ¼na lepiej!)","audit-good":"Dobre hasÅa (dasz radÄ lepiej?)","audit-strong":"Silne hasÅa zawierajÄce 20 lub wiÄcej znakÃ³w (dla maksymalnego bezpieczeÅstwa!)","audit-reused":"Wpisy z powtarzajÄcymi siÄ hasÅami (puste hasÅa rÃ³wnieÅ¼ siÄ liczÄ). Unikaj uÅ¼ywania tego samego hasÅa w wielu miejscach."};  </script>

  <script type="text/javascript">
    var dict_en={lang:"POLSKI",newsearch:"Name/Search",add:"Add",date:"Date",loadsave:"Load / Save",load:"Load",save:"Save",saveall:"Save",cancel:"Cancel",register:"New account",activate:"Activate account","activate-info":"Please check your email to obtain the activation code. If you cannot find our email please check your SPAM folder. Please register if you haven't done so.","activation-code":"Activation code",deactivate:"Remove account","deactivate-info":'If you don\'t have your deletion code, submit your email on the <a href="/#/register" target="_top">registration form</a> again to receive the code. Your vault will be sent to you in the confirmation email just before your account gets deleted as your last backup.',"deactivation-code":"Deactivation code",theme:"Color theme",under:"Advanced","under-card-info":"Only if you know what you are doing<br> Here you can decrypt saved information, you can also use this page to encrypt/decrypt any text of your choice",encryptedtext:"Encrypted text",encryptedtexttip:'Here is the encrypted and encoded text. Parameters are encoded with Base64 algorithm, click Decode to see the actual AES encrypted text, you will find it in the "ct" property value.',cleartext:"Clear text",cleartexttip:"Here you can see the the text after it is decrypted",clear:"Clear screen",about:"About",existing:"Record with that name already exists",emptyname:"Name cannot be empty, enter the new name first","save-card-info":"Encrypt the data and save on the serwer","load-card-info":"LOAD encrypted data from the server and decrypt or encrypt the data and SAVE on the serwer","load-card-info-bottom":'Although it is convenient you don\'t have to register to use this application. You can add your data and save everything to a file, <a href="#" onClick="toggle(\'save_offline\')" >click to save file</a>. If you anyways want to save online <a href="#/register" >register</a>, once registered <a href="#/confirm">activate</a> your account.',"about-card-info":"This app is a password manager, for now it is early alpha version but its security features are complete and functional.<br> In case of queries you can reach us over email you will find in the registration mail.",faq:"FAQ",email:"Email address",emailtip:"E-mail address used during registration",passphrase:"Passphrase","passphrase-min":"Valid passphrase has to consist of minimum 20 characters","passphrase-confirm":"Confirm passphrase",passphrasetip:"Passphrase must be very strong for that reason the required length is over 20 characters","under-passphrasetip":"Passphrase should be very long and hard to guess.","register-info":'To register please provide your email address, after that <a href="/#/confirm" target="_top">activate</a> your account.',"register-info2":'By clicking the submit button below, I hereby agree to and accept the <a href="/terms.pdf" target="_new">Terms & Conditions and the Privacy Policy</a> that governs the website.',accept:"I accept and submit",submit:"Submit",hashgen:"Continue",saveonline:"Save (overwrite server vault)","captcha-missing":"Please solve the captcha","passphrase-setup":"Master Password","passphrase-setup-info":"Create a master password.<br>Use words and sentences instead of single characters to make it long but still easy to remember.<br>Minimum password length is 20 characters. Do you think it is too much? You will thank us later.","passphrase-setup-tip":'Remember that the password should be difficult to guess for others but easy to remember for you. An examples of good passwords could be: "coooow | goooows | muuuu" (yes, the password may contain spaces) "++++++ s3cur1ty <3 <3 ++++++" or use random words, for example "population,station,bend,venture,adventure,nature" use 6 or more words.',hash:"Hash","hash-info":"Hash created from your email address and your password","hash-tip":"Almost ready. Just make sure you remember your password because noone will be able to recover it if you forget it (write it down and keep it safe).<br> If you are ready to proceed click below to confirm, you can also close the window and use the activation code again to start over.",hashgensubmit:"Confirm login credentials",match:"Passphrases must match",added:"Record added","delete":"Delete",gooffline:"Go offline",goonline:"Go online",encrypt:"Encrypt",encrypted:"Successfully encrypted",decrypt:"Decrypt",decrypted:"Successfully decrypted",decode:"Decode Base64",encode:"Encode Base64",savefile:"Save to file","savefile-card-indo":"Does not require registration. You can save your encrypted vault together with the application to a singe HTML file. The file is a self contained application that you can use offline (Internet connection is NOT required).",online:"Online",offline:"Offline",empty:"Your vault is empty, add some content first","no-email":"Enter valid email address (watch out for spaces)","pass-no-match":"Passwords do not match","nothing-to-save":"Nothing to save or incomplete login information","loading-overwrite":"Loading wil overwrite unsaved changes, proceed?","saving-overwrite":"Saving will overwrite whatever is on the server, proceed?","confirm-delete":"Are you sure you want to delete the record","confirm-delete-field":"Are you sure you want to delete this field?","existing-field":"Field already exist or the name is restricted",editcard:"Add/remove fields","editcard-info":"Add or remove fields from the record,<br>type  u, l, p, n, o to restore default fields",close:"Close","no-login":"Enter login information","offline-inint-decrypt":'There is an encrypted text available, enter your password and click "Decrypt"',inactivity:"Application reset due to inactivity",reset:"Reset settings",settings:"Settings","settings-card-info":"For security reasons password generator settings will not be stored when you save your data and will reset once you refresh the page.<br>Only the timeout value and additional PBKDF2 iterations value will be stored once you save your data.","pass-lenght":"Generated passwords length",passgenchars:"Characters used for generated passwords","passgen-label":"Strong password generator","pass-gen":"Generate password","pass-test":"Test your settings","pass-overwrite":"Overwrite current password?",beforeunload:"Unsaved data will be lost","restore-elem":"Undo changes","confirm-restore":"Restore to the last saved version?","nothing-restored":"Nothing to restore from",loaded:"Data was loaded","import":"Import",copy:"Copy",copied:"Copied to clipboard","check-password":"Error, check password",error:"Error","invalid-format":"Invalid data format",ok:"Ok",canlcel:"Cancel",confirm:"Confirm",sending:"Sending","sure-to-delete":"Are you sure you want to delete the account?",unsaved:"<marquee>Remember to save changes, click here.</marquee>","unsaved-online":"<marquee>Remember to save changes. Autosave after 1 minute of inactivity.</marquee>",list:"List",contact:"Report issue","contact-info":"Please describe your issue, provide as many details as possible.<br>Fields marked with * are optional, fill them out if you want us to contact you whenever necessary.","contact-name":"Your name *","contact-email":"Your email *","contact-query":"Message/Query",iter:"Encryption key derivation function iterations count (PBKDF2), additionally to 147338 encryption hash iterations",timeout:'Inactivity timeout (minutes), "0" to deactivate',strength:"Passphrase strength",weak:"Password is too weak, use words/sentences instead of letters.",login:"Login","login-btn":"Login",logout:"Logout","login-card-info":'<a href="#/register" >Register</a> if you haven\'t so. You can also save your data locally. Click here to <a href="#" onClick="toggle(\'logincard\');toggle(\'save_offline\')" >save to file</a> and use the application offline without registration',"before-login":"Save to file or delete existing records before logging in",loggedin:"Successfully logged in, you may add new records","before-logout":"You have unsaved data which you will lose after you log out, logout anyways?",loginhash:"Login hash",loginhashinfo:"Login hash",loginhashgen:"Generate login hash",encryptionhash:"Encryption key",encryptionhashinfo:"Encryption key",encryptionhashgen:"Generate encryption key hash",loggedoff:"Logged out successfully",noquicksave:"You are not logged in, you can only save to file",done:"Done","0":"Worst","1":"Bad","2":"Weak","3":"Fair","4":"Good","5":"Strong","6":"Passwords over 50 characters are not measured due to performance impact","high-iterations":"Make sure you know what you are doing, increasing this value will improve security but it will significantly impact performance of your system and slow down encryption time. 100000 is sufficient value.","low-iterations":"This value must be greater than 100","pass-change":"Change passphrase","pass-change-info":"Passphrase change","old-passphrase":"Old passphrase","new-passphrase":"New passphrase","new-passphrase-confirm":"Repeat new passphrase","before-change":"Please login first",enable:"Unlock to edit","email-change":"Change email","email-change-info":"Change login email","old-email":"Current/old email address","new-email":"New email address",emailchangetip:"Current email address used for login",emailchangetip2:"New email address","current-passphrase":"Your current passphrase","same-email":"Email addresses have to be different","same-passphrase":"New passphrase cannot be the same as the old one","emailchange-conf":"Account email address change","emailchange-conf-info":"Here you can confirm the email address change for your account.","emailchange-conf-info2":"Why do we ask for all the details again?<br>We ask for you current email and password because they are used to create your login hash and since you are changing your email we have to generate new login hash using your new email and your current password, your encryption key won't change since it is derived only from your password that we don't change right now.","conf-code":"Confirmation code","conf-code-tip":"Confirmation code received in an email message","current-login-hash":"Current login hash","current-login-hash-info":"Current login hash calculated using your current email and current passphrase combined with session token for security","new-login-hash":"New login hash","new-login-hash-info":"New login hash is calculated using your new email address and your current passphrase.",loginhashsubmit:"Confirm email address change",profile:"Account","profile-info":"Use this page to manage your profile",vault_size:"Vault size",vault_limit:"Current limit of characters in encrypted text is 100,000 (hundred thousand characters) for standard account, and 200,000 for premium account. Remember, there is no limit if you are saving to file.",loggedout:"You have been logged out",htf:"How to use this file?",htf_info:"You will have the best experience while using this file on a laptop or desktop computer in a modern internet browser.",htf_p1_label:"How to decrypt content of this file?",htf_p1_text:'<p>If the file was saved together with encrypted vault data you can refresh the page and enter your passphrase in the popup window or go to the "Advanced" section in the settings, type your password in the "Passphrase" field and click the "Decrypt" button on that page</p>',htf_p2_label:"File doesn't work on Apple device?",htf_p2_text:'<p>If you are using an iPhone this file will not work in a "preview" mode<br>you have to open it via a browser or other program that can run JavaScript either on your phone or desktop. Best is to use the offline file on your desktop or laptop.</p>',htf_p3_label:"How to check for updates?",htf_p3_text:'You can visit our website <a href="https://www.passpilot.com" target="_new"  >www.passpilot.com</a> from time to time and check if new version is available, we are constantly improving the application.',htf_p4_label:"How to contact us?",htf_p4_text:'In case of questions contact us using the online form <a href="https://www.passpilot.com/#/contact" target="_new" >http://www.passpilot.com/#/contact</a> or send an email to <a href="mailto:passpilot.com@gmail.com">passpilot.com@gmail.com</a>',htf_p5_label:"How to use the application offline?",htf_p5_text:'To add new record, enter the record name in the top input field and click "Add". To save your records click "Save to file" then enter a strong password and save everything to a new file, you can overwrite the existing file if you want or save a copy in new place. Check our FAQ page for more information about the application <a href="https://www.passpilot.com/#/faq" target="_new" >http://www.passpilot.com/#/faq</a>',welcome:"Welcome screen",terms:"Terms & Conditions<br>Privacy Policy",donate:"Support the author",log:"Last Login",log_success:"Last successful login",log_fail:"Last failed attempt","save-app":"Save only application","save-app-info":"Saves the application to a single HTML file without your encrypted vault data, you can send such application to your friends, empty application can be filled later, no internet connection is required",audit:"Passwords check","audit-info":'Checks passwords strength, marks weak and reused passwords.<br> Records were marked with below icons on the list screen.<br> Empty passwords also count as insecure.<br> To remove a password field from the record click "Add/remove fields" on the record card.<br> Passwords over 50 characters are not measured due to performance impact.',"audit-records":"Total records","audit-missing":"Records without password field","audit-empty":"Records with empty password (you can remove the password field from the record if you don't use it)","audit-weak":'Weak passwords (should be replaced immediately with strong password, click "Generate password" on the record card to generate strong password)',"audit-fair":"Fair passwords (you can definitely do better!)","audit-good":"Good passwords (can you do better?)","audit-strong":"Strong passwords with 20 characters or more (for maximum security!)","audit-reused":"Records with reused passwords (empty passwords also count). Avoid using same password in multiple places."};  </script>

  <script type="text/javascript">
    "use strict";

function noBack() {
    window.history.forward();
}
var detail = document.getElementById("detail");
var offline_passphrase = document.getElementById("offline_passphrase");
var offline_passphrase2 = document.getElementById("offline_passphrase2");
var passchange_passphrase2 = document.getElementById("passchange_passphrase2");
var advanced_passphrase = document.getElementById("advanced_passphrase");
var modal = document.getElementById("modal");
var gears = document.getElementById("gears");
var wrapper = document.getElementById("wrapper");
var message = document.getElementById("message");
var clear_text = document.getElementById("clear_text");
var ppm = document.getElementById("ppm");
var ppm2 = document.getElementById("ppm2");
var ppm3 = document.getElementById("ppm3");
var ppp = document.getElementById("ppp");
var ppp2 = document.getElementById("ppp2");
var ppp3 = document.getElementById("ppp3");
var sjcl = sjcl;
var saveAs = saveAs;
var result = {};
var dict;
var documentUnload = false;
var raw = raw || "",
    theme = theme || "dark",
    language = language || (navigator.language.substring(0, 2) == "pl" ? "pl" : "en"),
    passphrase = passphrase || "",
    passphrase2 = passphrase2 || "",
    obj = {},
    offline = offline || false;
var audit_obj = {};
var loggedin = false;
var mem_encryptionhash = null;
var unsaved = false;
var timeoutID;
var version = 1.8;
var pp_iter_default = 52662;
var pp_iter = pp_iter || pp_iter_default;
var pp_ks = pp_ks || 256;
var pp_ts = pp_ts || 64;
var pp_timeout_default = (15 * 60 * 1000);
var pp_timeout = pp_timeout || pp_timeout_default;
var feed = {
    version: version,
    theme: theme,
    language: language,
    timeout: pp_timeout,
    vault: {
        iter: pp_iter
    }
};
if (typeof console === "undefined") {
    console = {
        log: function() {}
    };
}
if (!String.prototype.encodeHTML) {
    String.prototype.encodeHTML = function() {
        return this.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;");
    };
}

function gosave(ev) {
    if (loggedin) {
        saveOnline(ev);
    } else {
        togglehome();
        toggle("save_offline");
        document.getElementById("offline_passphrase").focus();
        warn(dict.noquicksave);
    }
}

function addtopsave() {
    if (wrapper.dataset.classes) {
        toggle("wrapper");
    }
    if (!wrapper.classList.contains("topalert")) {
        if (loggedin) {
            document.getElementById("unsaved").innerHTML = dict["unsaved-online"];
        }
        wrapper.classList.add("topalert");
    }
    unsaved = true;
}

function cleartopsave() {
    if (wrapper.dataset.classes) {
        toggle("wrapper");
    }
    if (wrapper.classList.contains("topalert")) {
        wrapper.classList.remove("topalert");
    }
    unsaved = false;
}
var warntimeout, firstwarntimeout;

function warn(copy, callback, t, color) {
    color = color || "#db143c";
    callback = callback || null;
    t = (t == 0 ? 0 : 10);
    clearTimeout(firstwarntimeout);
    clearTimeout(warntimeout);
    message.style.backgroundColor = color;
    if (wrapper.dataset.classes) {
        toggle("wrapper");
    }
    firstwarntimeout = setTimeout(function() {
        hideGears();
        toggle("wrapper", "alert");
        message.innerHTML = copy;
        message.onclick = function() {
            clearTimeout(warntimeout);
            toggle("wrapper");
            if (callback != null) {
                callback();
            }
        };
        if (t != 0) {
            warntimeout = setTimeout(function() {
                if (wrapper.dataset.classes) {
                    toggle("wrapper");
                }
            }, t * 1000);
        }
    }, 200);
}

function clipboard(event, type) {
    var x = event.currentTarget;
    var inputfield = x.parentNode.querySelector(type);
    if (inputfield.type == "password") {
        inputfield.type = "text";
        inputfield.select();
        inputfield.setSelectionRange(0, 99999);
        document.execCommand("copy");
        inputfield.type = "password";
    } else {
        if (inputfield.dataset.prop == "p") {
            inputfield.value = obj[inputfield.dataset.elem].p;
            inputfield.select();
            inputfield.setSelectionRange(0, 99999);
            document.execCommand("copy");
            inputfield.value = "â±â±â±â±â±";
            inputfield.blur();
        } else {
            inputfield.select();
            inputfield.setSelectionRange(0, 99999);
            document.execCommand("copy");
        }
    }
    warn(dict.copied, null, null, "#4caf50");
}

function getRandomByte() {
    var result;
    if (window.crypto && window.crypto.getRandomValues) {
        result = new Uint8Array(1);
        window.crypto.getRandomValues(result);
        return result[0];
    } else {
        if (window.msCrypto && window.msCrypto.getRandomValues) {
            result = new Uint8Array(1);
            window.msCrypto.getRandomValues(result);
            return result[0];
        } else {
            return Math.floor(Math.random() * 256);
        }
    }
}

function genPassword() {
    var passgenchars = document.getElementById("passgenchars").value;
    var passgenlength = parseInt(document.getElementById("passgenlength").value);
    return Array.apply(null, {
        length: passgenlength
    }).map(function() {
        var result;
        while (true) {
            result = String.fromCharCode(getRandomByte());
            if (passgenchars.indexOf(result) > -1) {
                return result;
            }
        }
    }).join("");
}

function test_pass_gen(inputid) {
    var inputfield = document.getElementById(inputid);
    var password = genPassword();
    inputfield.value = password;
    inputfield.focus();
}

function pass_gen_reset() {
    var passgenchars = document.getElementById("passgenchars");
    document.getElementById("passgenlength").value = 30;
    document.getElementById("passgentest").value = "";
    passgenchars.value = "1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPSDFGHJKLZXCVBNM!@#$%^&*()-=_+[]{};:'\"\\|,<.>/?";
    passgenchars.focus();
}

function pass_gen(ev) {
    ev.preventDefault();
    var objid = ev.target.dataset.inputid;
    var inputid = "eid#pass_" + objid + "_id";
    var inputfield = document.getElementById(inputid);
    var password = genPassword();
    if (inputfield.value != "") {
        confirmation(dict["pass-overwrite"], function() {
            inputfield.value = password;
            updateField(inputfield, password);
            inputfield.focus();
        });
    } else {
        inputfield.value = password;
        updateField(inputfield, password);
        inputfield.focus();
    }
}

function ls_switch(lang) {
    var text;
    lang = lang || (language == "pl" ? "en" : "pl");
    language = lang;
    dict = window["dict_" + lang];
    document.cookie = "lang=" + lang + "; samesite=strict";
    feed.language = lang;
    var t = document.querySelectorAll("[data-t]");
    Array.prototype.forEach.call(t, function(el) {
        text = dict[el.dataset.t];
        switch (el.nodeName) {
            case "INPUT":
                el.value = text;
                break;
            default:
                el.innerHTML = text;
                break;
        }
    });
    t = document.querySelectorAll("[data-tt]");
    Array.prototype.forEach.call(t, function(el) {
        text = dict[el.dataset.tt];
        el.title = text;
    });
    t = document.querySelectorAll("[data-tp]");
    Array.prototype.forEach.call(t, function(el) {
        text = dict[el.dataset.tp];
        el.placeholder = text;
    });
}
var route = function() {
    if (location.hash.substring(1, 2) != "/") {
        return;
    }
    var target = location.hash.slice(1) || "/";
    var cl = "";
    switch (target) {
        case "/":
            break;
        case "/faq":
            cl = "wide";
        case "/register":
        case "/contact":
        case "/confirm":
        case "/confirm-email":
        case "/resign":
            var param = location.search.replace(/[^?=\w\s]/gi, "");
            prepareFrame(location.protocol + "//www.passpilot.com" + target + param, cl);
            break;
        case "/login":
            toggle("logincard");
            break;
        case "/logout":
            toggle("logincard");
            warn(dict.loggedout, null, 0, "#4caf50");
            window.location.hash = "";
            break;
        default:
            break;
    }
};
var togglehome = function() {
    var t = document.querySelectorAll("[data-classes]");
    Array.prototype.forEach.call(t, function(el) {
        if ((!el.classList.contains("active")) || (el.id.substring(0, 3) == "li_")) {
            el.className = el.dataset.classes;
            el.removeAttribute("data-classes");
        }
    });
    detail.innerHTML = "";
    if (!offline) {
        history.pushState("", document.title, window.location.pathname + window.location.search);
    }
};
var tick;
var hideGears = function() {
    gears.classList.add("hidden");
    return;
};
var showGears = function(callback, ev) {
    ev.preventDefault();
    tick = Date.now();
    if (wrapper.dataset.classes) {
        window.clearTimeout(warntimeout);
        toggle("wrapper");
    }
    gears.classList.remove("hidden");
    setTimeout(function() {
        callback(ev);
    }, 100);
    return;
};
var toggle = function(elemId, option, domobj) {
    var newoption = option || "show";
    var elem = document.getElementById(elemId) || domobj;
    if (elem.classList.contains(option)) {
        return;
    }
    if (!elem.dataset.classes) {
        elem.dataset.classes = elem.className;
        elem.className += " " + newoption;
    } else {
        elem.className = elem.dataset.classes;
        delete elem.dataset.classes;
    }
    return;
};
var setTheme = function(elemId) {
    var elem = document.getElementById(elemId);
    if (elem.className == "app") {
        elem.className = "app-dark";
        document.cookie = "theme=dark; samesite=strict";
        feed.theme = "dark";
        theme = "dark";
    } else {
        elem.className = "app";
        document.cookie = "theme=bright; samesite=strict";
        feed.theme = "bright";
        theme = "bright";
    }
};
var addHandler = function(event, Id, callback, elem) {
    elem = elem || {};
    var b = document.getElementById(Id) || elem;
    b.addEventListener(event, callback, false);
};
var addClickHandler = function(Id, callback, elem) {
    elem = elem || {};
    var b = document.getElementById(Id) || elem;
    if (document.addEventListener) {
        b.addEventListener("click", callback, false);
    } else {
        if (document.attachEvent) {
            b.attachEvent("onclick", callback);
        } else {
            b.onclick = callback;
        }
    }
};
var peekInput = function(event) {
    var x = event.currentTarget;
    var xinput = x.parentNode.querySelector("input");
    x.parentNode.querySelector(".peek").classList.toggle("_off");
    if (xinput.type == "password") {
        xinput.type = "text";
    } else {
        xinput.type = "password";
    }
};
var editInput = function(event, type) {
    type = type || "input";
    var x = event.currentTarget;
    var xinput = x.parentNode.querySelector(type);
    x.parentNode.querySelector(".edit").classList.toggle("_off");
    if (xinput.readOnly) {
        xinput.readOnly = false;
    } else {
        xinput.readOnly = true;
    }
};
var resetTextarea = function(event) {
    var x = event.currentTarget;
    var tar = x.parentNode.querySelector("textarea");
    updateField(tar, "");
};
var resetInput = function(event) {
    var x = event.currentTarget;
    var inp = x.parentNode.querySelector("input");
    if (inp.value !== "") {
        updateField(inp, "");
    }
};
var resetButtons = function() {
    var inputFields = document.getElementsByTagName("input");
    for (var i = 0; i < inputFields.length; i++) {
        inputFields[i].setAttribute("autocapitalize", "off");
        inputFields[i].setAttribute("autocorrect", "off");
        inputFields[i].setAttribute("autocomplete", "off");
        if (inputFields[i].dataset.icons == "true") {
            continue;
        }
        if (inputFields[i].dataset.prop == "p") {
            if (inputFields[i].value) {
                inputFields[i].value = "â±â±â±â±â±";
            }
            addHandler("focus", null, function() {
                this.value = obj[this.dataset.elem].p;
            }, inputFields[i]);
            addHandler("blur", null, function() {
                if (this.value) {
                    this.value = "â±â±â±â±â±";
                }
            }, inputFields[i]);
        }
        if (inputFields[i].dataset.elem) {
            var copyIcon = addCopy();
            copyIcon.setAttribute("onclick", 'clipboard(event, "input");');
            inputFields[i].parentNode.insertBefore(copyIcon, inputFields[i]);
            var editIcon;
            if (inputFields[i].value != "") {
                inputFields[i].readOnly = true;
                editIcon = addEdit("edit");
            } else {
                editIcon = addEdit("edit _off");
            }
            editIcon.setAttribute("onclick", "editInput(event);");
            inputFields[i].parentNode.insertBefore(editIcon, inputFields[i]);
        }
        if (inputFields[i].type == "password") {
            var peekIcon = addPeek();
            peekIcon.setAttribute("onclick", "peekInput(event);");
            inputFields[i].parentNode.insertBefore(peekIcon, inputFields[i]);
        }
        inputFields[i].dataset.icons = "true";
    }
    inputFields = document.getElementsByTagName("textarea");
    for (i = 0; i < inputFields.length; i++) {
        inputFields[i].setAttribute("autocapitalize", "off");
        inputFields[i].setAttribute("autocorrect", "off");
        inputFields[i].setAttribute("autocomplete", "off");
        if (inputFields[i].dataset.icons == "true") {
            continue;
        }
        if (inputFields[i].dataset.elem) {
            var copyIcon = addCopy();
            copyIcon.setAttribute("onclick", 'clipboard(event, "textarea");');
            inputFields[i].parentNode.insertBefore(copyIcon, inputFields[i]);
            var editIcon;
            if (inputFields[i].value != "") {
                inputFields[i].readOnly = true;
                editIcon = addEdit("edit");
            } else {
                editIcon = addEdit("edit _off");
            }
            editIcon.setAttribute("onclick", 'editInput(event, "textarea");');
            inputFields[i].parentNode.insertBefore(editIcon, inputFields[i]);
        }
        inputFields[i].dataset.icons = "true";
    }
};

function tooltips() {
    var tooltipElems = document.getElementsByClassName("help");
    for (var i = 0; i < tooltipElems.length; i++) {
        if (tooltipElems[i].hasAttribute("onclick")) {
            return;
        }
        var tooltipIcon = addTooltip();
        tooltipElems[i].setAttribute("onclick", "toggle(null, null, this.nextSibling);");
        tooltipElems[i].appendChild(tooltipIcon);
    }
}
var nodeDetect = function() {
    document.addEventListener("click", function(event) {
        var x = event.target;
    }, false);
};

function prepareFrame(url, cl) {
    cl = cl || "";
    if (modal.dataset.classes) {
        closeModal();
    }
    var ifrm = document.createElement("iframe");
    ifrm.setAttribute("id", "iframe");
    ifrm.setAttribute("src", url);
    ifrm.className += " modal-box " + cl;
    document.getElementById("iframe_container").appendChild(ifrm);
    toggle("modal");
}

function confirmation(text, yescb, nocb) {
    yescb = yescb || function() {
        return "true";
    };
    nocb = nocb || function() {
        return "false";
    };
    var box = document.createElement("div");
    box.className += "modal-box confirm";
    box.innerHTML = '<div class="row padded"><h1>' + dict.confirm + "</h1><span>" + text.encodeHTML() + "</span></div>";
    var elem = document.createElement("div");
    elem.className = "row";
    elem.innerHTML = '<div class="pos-l-l"><button id="yes" class="btn red" >' + dict.ok + "</button></div>";
    elem.innerHTML += '<div class="pos-r-r"><button id="no" class="btn" >' + dict.cancel + "</button></div>";
    box.appendChild(elem);
    document.getElementById("modal").appendChild(box);
    addClickHandler("yes", function() {
        closeModal();
        yescb();
    });
    addClickHandler("no", function() {
        closeModal();
        nocb();
    });
    toggle("modal");
}

function closeModal() {
    var box = document.querySelector(".modal-box");
    if (box) {
        box.parentNode.removeChild(box);
        if (!offline) {
            window.location.hash = "";
            window.history.pushState("", document.title, "/");
        }
        toggle("modal");
    }
}

function createDomELement(name, elemObj) {
    var elem = document.createElement(name);
    for (var p in elemObj) {
        if (p == "innerHTML") {
            elem.innerHTML = elemObj[p];
        } else {
            elem.setAttribute(p, elemObj[p]);
        }
    }
    return elem;
}
var addPeek = function() {
    var elem = {
        innerHTML: "<svg class='icon'><use xlink:href='#icon-eyeclosed'></use></svg><svg class='icon'><use xlink:href='#icon-eye'></use></svg>",
        "class": "peek"
    };
    return createDomELement("div", elem);
};
var addEdit = function(classes) {
    var elem = {
        innerHTML: "<svg class='icon'><use xlink:href='#icon-noedit'></use></svg><svg class='icon'><use xlink:href='#icon-edit'></use></svg>",
        "class": classes
    };
    return createDomELement("div", elem);
};
var addCopy = function() {
    var elem = {
        innerHTML: "<svg class='icon'><use xlink:href='#icon-copy'></use></svg>",
        "class": "copy"
    };
    return createDomELement("div", elem);
};
var addReset = function() {
    var elem = {
        innerHTML: "<svg class='icon'><use xlink:href='#icon-cross'></use></svg>",
        "class": "reset"
    };
    return createDomELement("div", elem);
};
var addTooltip = function() {
    var elem = {
        innerHTML: "<svg class='icon'><use xlink:href='#icon-help'></use></svg>"
    };
    return createDomELement("div", elem);
};
var assignevents = function() {
    var t = document.querySelectorAll("[data-ev]");
    Array.prototype.forEach.call(t, function(el) {
        addClickHandler(el.id, function() {
            togglehome();
            if (this.dataset.ev != "home") {
                toggle(this.dataset.ev);
                document.getElementById(this.dataset.ev).querySelectorAll("input")[0].focus();
            }
        });
    });
};
var check = function(event) {};
var searching = false;
var activeLettersObj = {};
var isActiveLettersEmpty = true;

function searchLetter(evt) {
    var letter = evt.target.dataset.id.toLowerCase();
    var id = evt.target.id;
    if (searching) {
        return;
    } else {
        if (evt.target.classList.contains("active")) {
            toggle(id);
            delete activeLettersObj[letter];
            if (JSON.stringify(activeLettersObj) === JSON.stringify({})) {
                isActiveLettersEmpty = true;
            }
        } else {
            toggle(id, "active");
            activeLettersObj[letter] = "true";
            isActiveLettersEmpty = false;
        }
    }
    searchList();
}

function escapeRegExp(string) {
    return string.replace(/[.*+\-?^${}()|[\]\\]/g, "\\$&");
}

function searchList() {
    var search_term = document.getElementById("new-search").value;
    search_term = escapeRegExp(search_term);
    if (searching && search_term != "") {
        return;
    } else {
        searching = true;
        if (!document.getElementById("new-search").classList.contains("active")) {
            toggle("new-search", "active");
        }
    }
    var item;
    var parent = document.getElementById("list");
    var child_nodes = parent.childNodes;
    if (search_term != "") {
        for (var i = 0; i < child_nodes.length;
            ++i) {
            if (typeof child_nodes[i].id != "undefined") {
                item = child_nodes[i].id.toLowerCase();
            } else {
                return;
            }
            if (item.search(search_term.toLowerCase()) > -1 && isActiveLettersEmpty) {
                child_nodes[i].style.display = "inline-block";
            } else {
                if (item.search(search_term.toLowerCase()) > -1 && activeLettersObj.hasOwnProperty(item.charAt(3))) {
                    child_nodes[i].style.display = "inline-block";
                } else {
                    child_nodes[i].style.display = "none";
                }
            }
        }
    } else {
        toggle("new-search");
        for (var e = 0; e < child_nodes.length;
            ++e) {
            item = child_nodes[e].id.toLowerCase();
            if (typeof item != "undefined" && isActiveLettersEmpty) {
                child_nodes[e].style.display = "inline-block";
            } else {
                if (activeLettersObj.hasOwnProperty(item.charAt(3))) {
                    child_nodes[e].style.display = "inline-block";
                } else {
                    child_nodes[e].style.display = "none";
                }
            }
        }
    }
    searching = false;
}

function renameElem(elem, elem_name, new_name) {
    if (obj[new_name]) {
        warn(dict.existing);
        elem.value = obj[elem_name].t;
        return;
    } else {
        if (new_name == "") {
            warn(dict.emptyname);
            elem.value = obj[elem_name].t;
            return;
        }
    }
    obj[elem_name].t = new_name;
    obj[new_name] = obj[elem_name];
    delete obj[elem_name];
    updateJson(obj);
    renderLiElements(obj);
    highlightLi(new_name);
    addtopsave();
}

function editFields(ev) {
    var name = ev.currentTarget.dataset.name;
    toggle("editcard");
    showFields(name);
}

function delProp(ev) {
    var doDelete = function() {
        var elem = document.getElementById("li_" + name);
        hideDetails(elem);
        delete obj[name][prop];
        updateJson(obj);
        addtopsave();
        showDetails(elem.id.substring(3));
        showFields(name);
    };
    var name = ev.currentTarget.dataset.name;
    var prop = ev.currentTarget.dataset.prop;
    if (obj[name][prop] == "") {
        doDelete();
        return;
    } else {
        confirmation(dict["confirm-delete-field"], function() {
            doDelete();
            return;
        }, function() {
            return;
        });
    }
}

function addProp(ev) {
    var name = ev.currentTarget.dataset.name;
    var prop = document.getElementById("new_prop_name").value;
    if (typeof obj[name][prop] != "undefined") {
        warn(dict["existing-field"]);
        return;
    } else {
        if (prop == "") {
            warn(dict.emptyname);
            return;
        }
    }
    var elem = document.getElementById("li_" + name);
    hideDetails(elem);
    obj[name][prop] = "";
    updateJson(obj);
    addtopsave();
    showDetails(elem.id.substring(3));
    showFields(name);
}

function delElem(ev) {
    ev.preventDefault();
    confirmation(dict["confirm-delete"] + ' "' + ev.target.dataset.elem.substring(0, 100) + '" ?', function() {
        delete obj[ev.target.dataset.elem];
        detail.innerHTML = "";
        updateJson(obj);
        renderLiElements(obj);
        togglehome();
        if (JSON.stringify(obj) === JSON.stringify({})) {
            clear_text.value = "";
            cleartopsave();
        } else {
            addtopsave();
        }
        document.getElementById("new-search").value = "";
    }, function() {
        return;
    });
}

function updateField(elem, value) {
    if (elem.getAttribute("data-elem")) {
        var node1 = elem.getAttribute("data-elem");
        var node2 = elem.getAttribute("data-prop");
        if (node2 == "t") {
            renameElem(elem, node1, value);
            return;
        }
        elem.value = value;
        if (node2 == "p" && obj[node1][node2] != "") {
            if (typeof obj[node1]["o"] != "undefined") {
                obj[node1].o = obj[node1].o + "ð" + obj[node1][node2];
            }
        }
        obj[node1][node2] = value;
        updateJson(obj);
        addtopsave();
        showSingleDetails(node1, node2);
    } else {
        if (elem.id == "new-search") {
            elem.value = value;
            searchList();
        } else {
            elem.value = value;
        }
    }
}

function updateElem(ev) {
    updateField(ev.target, ev.target.value);
}

function hideDetails(dom_elem) {
    var detail_card = document.getElementById("detail");
    var detail_card_elem = document.getElementById("did#" + dom_elem.id.substring(3));
    detail_card.removeChild(detail_card_elem);
}
var namesDictionary_en = {
    t: "Title",
    u: "URL",
    l: "Login",
    p: "Password",
    o: "Old passwords",
    n: "Notes"
};
var namesDictionary_pl = {
    t: "TytuÅ",
    u: "Adres URL",
    l: "Konto/Login",
    p: "HasÅo",
    o: "Stare hasÅa",
    n: "Notatki"
};

function ndict(v) {
    return window["namesDictionary_" + language][v] || v;
}

function showSingleDetails(node1, node2) {
    switch (node2) {
        case "p":
            if (typeof obj[node1]["o"] != "undefined") {
                document.getElementById("eid#" + node1 + "o").value = obj[node1].o;
            }
            break;
        case "u":
            var pattern = /^((http|https|ftp):\/\/)/;
            if (pattern.test(obj[node1].u)) {
                var elema = document.getElementById("eid#" + node1 + "_href");
                elema.href = obj[node1].u;
                elema.innerHTML = obj[node1].u.encodeHTML();
            }
            break;
    }
}

function showFields(name) {
    var op, elem, elem1, elem2, detail_card, elem3, dom_elem_details;
    detail_card = document.getElementById("fields");
    detail_card.innerHTML = "";
    dom_elem_details = document.createElement("form");
    dom_elem_details.className = "details";
    dom_elem_details.setAttribute("autocomplete", "off");
    dom_elem_details.onsubmit = function() {
        return false;
    };
    elem = document.createElement("div");
    elem.className = "row info";
    elem2 = document.createElement("div");
    elem2.innerHTML = '<div class="title">' + name.encodeHTML() + "</div><h1></h1><p>" + dict["editcard-info"] + "</p>";
    elem.appendChild(elem2);
    dom_elem_details.appendChild(elem);
    for (var p in obj[name]) {
        if (p == "d" || p == "t") {
            continue;
        }
        elem = document.createElement("div");
        elem.className = "row";
        elem2 = document.createElement("input");
        elem2.setAttribute("data-elem", name);
        elem2.setAttribute("data-prop", p);
        elem2.setAttribute("type", "text");
        elem2.value = ndict(p);
        if (obj[name][p] != "") {
            elem2.value += " (" + obj[name][p] + ")";
        }
        elem2.readOnly = true;
        elem3 = document.createElement("div");
        elem3.className = "pos-l-icon";
        elem3.innerHTML = ' <div class="remove" data-name="' + name.encodeHTML() + '" data-prop="' + p.encodeHTML() + '" onclick="delProp(event)"><svg class="icon"><use xlink:href="#icon-delete"></use></svg></div>';
        elem3.appendChild(elem2);
        elem.appendChild(elem3);
        dom_elem_details.appendChild(elem);
    }
    elem = document.createElement("div");
    elem.className = "row";
    elem2 = document.createElement("input");
    elem2.id = "new_prop_name";
    elem2.setAttribute("type", "text");
    elem3 = document.createElement("div");
    elem3.className = "pos-r-l";
    elem3.appendChild(elem2);
    elem.appendChild(elem3);
    elem2 = document.createElement("div");
    elem2.className = "pos-r-r w100";
    elem2.innerHTML = '<button type="submit" class="btn add" data-name="' + name.encodeHTML() + '" onclick="addProp(event)"><svg class="icon"><use xlink:href="#icon-plus"></use></svg></button>';
    elem.appendChild(elem2);
    dom_elem_details.appendChild(elem);
    elem = document.createElement("div");
    elem.className = "row";
    elem.innerHTML += '<div class="pos-l-l w100"><button type="text" class="btn" onclick="toggle(\'editcard\')">' + dict.done + "</button></div>";
    dom_elem_details.appendChild(elem);
    detail_card.appendChild(dom_elem_details);
    document.getElementById("new_prop_name").focus();
}

function showDetails(name) {
    var op, elem, elem2, elem3, dom_elem_details;
    var old_dom_elem_details = document.getElementById("eid#" + name);
    dom_elem_details = document.createElement("form");
    dom_elem_details.id = "did#" + name;
    dom_elem_details.className = "details";
    dom_elem_details.setAttribute("autocomplete", "off");
    dom_elem_details.onsubmit = function() {
        return false;
    };
    elem = document.createElement("div");
    elem.className = "row info";
    elem2 = document.createElement("div");
    elem2.innerHTML = '<button type="button" class="btn close hide-on-tablet" data-inputid="' + name.encodeHTML() + '" onclick="closeCard(event)"><svg class="icon"><use xlink:href="#icon-cross"></use></svg></button>';
    elem.appendChild(elem2);
    elem2 = document.createElement("div");
    elem2.innerHTML = '<div class="title">' + name.encodeHTML() + "</div><h1></h1>";
    elem.appendChild(elem2);
    elem2 = document.createElement("a");
    elem2.title = ndict("u");
    var pattern = /^((http|https|ftp):\/\/)/;
    if (pattern.test(obj[name].u)) {
        elem2.href = obj[name].u;
        elem2.appendChild(document.createTextNode(obj[name].u));
    }
    elem2.id = "eid#" + name + "_href";
    elem2.target = "_new";
    elem.appendChild(elem2);
    dom_elem_details.appendChild(elem);
    for (var p in obj[name]) {
        op = obj[name][p];
        if (p == "d") {
            continue;
        }
        elem = document.createElement("label");
        elem.innerHTML = ndict(p);
        dom_elem_details.appendChild(elem);
        elem = document.createElement("div");
        if (p == "n") {
            elem.className = "row ta-hight";
        } else {
            elem.className = "row";
        }
        if (p == "n") {
            elem2 = document.createElement("textarea");
        } else {
            elem2 = document.createElement("input");
        }
        elem2.setAttribute("type", "text");
        elem2.setAttribute("maxlength", 10000);
        elem2.setAttribute("id", "eid#" + name + p);
        elem2.setAttribute("data-elem", name);
        elem2.setAttribute("data-prop", p);
        if (p == "p") {
            elem2.setAttribute("id", "eid#pass_" + name + "_id");
        }
        elem2.value = op;
        addHandler("change", null, updateElem, elem2);
        elem3 = document.createElement("div");
        elem3.className = "pos-l-icon-2";
        elem3.appendChild(elem2);
        elem.appendChild(elem3);
        dom_elem_details.appendChild(elem);
        if (p == "p") {
            elem = document.createElement("div");
            elem.className = "row";
            elem.innerHTML = '<div class="pos-l-l"><button type="button" data-inputid="' + name.encodeHTML() + '" class="btn slim" onclick="pass_gen(event)">' + dict["pass-gen"] + "</button></div>";
            dom_elem_details.appendChild(elem);
        }
    }
    elem = document.createElement("div");
    elem.innerHTML = "<small>" + dict.added + ": " + new Date(obj[name].d).toString() + "</small>";
    dom_elem_details.appendChild(elem);
    elem = document.createElement("div");
    elem.className = "row";
    elem.innerHTML = '<div class="left"><button type="button" class="btn" data-elem="' + name.encodeHTML() + '" onclick="delElem(event)">' + dict["delete"] + "</button></div>";
    elem.innerHTML += '<div class="right w200 lpad10"><button type="button" class="btn red" onclick="showGears(gosave, event)">' + dict.saveall + "</button></div>";
    elem.innerHTML += '<div class="right w200 lpad10"><button type="button" class="btn" data-name="' + name.encodeHTML() + '" onclick="editFields(event)">' + dict.editcard + "</button></div>";
    dom_elem_details.appendChild(elem);
    var detail_card = document.getElementById("detail");
    if (!document.getElementById(dom_elem_details.id)) {
        detail_card.insertBefore(dom_elem_details, detail_card.firstChild);
        dom_elem_details.scrollIntoView();
    } else {
        detail_card.replaceChild(dom_elem_details, old_dom_elem_details);
    }
    resetButtons();
}

function handleClick(evt) {
    evt.preventDefault();
    li_item_activate(evt.currentTarget);
}

function closeCard(evt) {
    evt.preventDefault();
    var liItem = document.getElementById("li_" + evt.currentTarget.dataset.inputid);
    li_item_activate(liItem);
}

function li_item_activate(elem) {
    if (document.getElementById("did#" + elem.id.substring(3))) {
        hideDetails(elem);
        toggle(elem.id);
    } else {
        if (!detail.dataset.classes) {
            togglehome();
            toggle("detail");
            toggle("menu-button", "hidden");
            toggle("close-nav-button");
        }
        showDetails(elem.id.substring(3));
        toggle(elem.id, "active");
    }
}

function testEmojis(string) {
    var regex = /(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g;
    return string.replace(regex, "");
}

function passphrase_score(value) {
    var score = value.length > 50 ? 6 : zxcvbn(value).score;
    score = score == 4 ? (value.length >= 20 ? score = 5 : 4) : score;
    return score;
}

function audit() {
    if (JSON.stringify(obj) === JSON.stringify({})) {
        warn(dict.empty);
        return;
    }
    audit_obj = {
        records: 0,
        missing: 0,
        empty: 0,
        weak: 0,
        fair: 0,
        good: 0,
        strong: 0,
        reused: 0
    };
    togglehome();
    renderLiElements(obj, true);
    toggle("auditcard");
    toggle("menu-button", "hidden");
    toggle("close-nav-button");
    for (var name in audit_obj) {
        document.getElementById(name).value = audit_obj[name];
    }
    hideGears();
}

function renderLiElements(obj, audit) {
    var item;
    var my_node = document.getElementById("list");
    my_node.innerHTML = "";
    var my_node2 = document.getElementById("abc");
    my_node2.innerHTML = "";
    activeLettersObj = {};
    isActiveLettersEmpty = true;
    toggle("new-search");
    var prop_names_arr = [];
    try {
        for (var name in obj) {
            prop_names_arr.push([name, obj[name].d]);
        }
    } catch (error) {
        return;
    }
    prop_names_arr.sort(function(a, b) {
        return b[1] - a[1];
    });
    prop_names_arr.forEach(function(elem, index) {
        item = document.createElement("button");
        item.className = "btn";
        var renderIcon = function(cname, name) {
            return '<span><svg class="icon ' + cname + ' noevents"><use xlink:href="#' + name + '"></use></svg></span>';
        };
        if (audit) {
            var pp = obj[elem[0]].p;
            audit_obj.records += 1;
            if (typeof pp != "undefined") {
                if (pp == "") {
                    item.innerHTML += renderIcon("warning", "icon-warning");
                    audit_obj.empty += 1;
                } else {
                    if (passphrase_score(pp) < 3) {
                        item.innerHTML += renderIcon("warning", "icon-warning2");
                        audit_obj.weak += 1;
                    } else {
                        if (passphrase_score(pp) == 3) {
                            item.innerHTML += renderIcon("fair", "icon-warning3");
                            audit_obj.fair += 1;
                        } else {
                            if (passphrase_score(pp) == 4) {
                                item.innerHTML += renderIcon("good", "icon-shield");
                                audit_obj.good += 1;
                            } else {
                                if (passphrase_score(pp) == 5) {
                                    item.innerHTML += renderIcon("strong", "icon-pp");
                                    audit_obj.strong += 1;
                                }
                            }
                        }
                    }
                }
                for (var name in obj) {
                    if (elem[0] != name && obj[name].p == pp) {
                        item.innerHTML += renderIcon("warning", "icon-reused");
                        audit_obj.reused += 1;
                        break;
                    }
                }
            } else {
                audit_obj.missing += 1;
            }
            item.innerHTML += "<span>" + (index + 1) + ".</span>";
        }
        item.id = "li_" + elem[0];
        item.type = "button";
        item.innerHTML += "<span>" + elem[0].encodeHTML() + "</span>";
        item.addEventListener("click", handleClick, false);
        my_node.appendChild(item);
    });
    prop_names_arr = Object.getOwnPropertyNames(obj).sort();
    var first_letters = prop_names_arr.filter(function(w) {
        if (testEmojis(w)[0] != (w)[0]) {
            return false;
        }
        return true;
    }).map(function(w) {
        return testEmojis(w)[0].toUpperCase();
    });
    var letters = first_letters.filter(function(l, index) {
        return first_letters.indexOf(l) === index;
    });
    letters.forEach(function(elem, index) {
        item = document.createElement("button");
        item.className = "btn";
        item.id = "l_" + elem;
        item.dataset.id = elem;
        item.type = "button";
        item.innerHTML = elem;
        item.addEventListener("click", searchLetter, false);
        my_node2.appendChild(item);
    });
}
var updateJson = function(obj) {
    var clearTextElem = document.getElementById("clear_text") || "";
    var enctypredTextElem = document.getElementById("encrypted_text") || "";
    clearTextElem.value = JSON.stringify(obj);
    enctypredTextElem.value = "";
};
var highlightLi = function(new_elem_id) {
    var new_elem = document.getElementById("li_" + new_elem_id);
    document.getElementById("detail").innerHTML = "";
    li_item_activate(new_elem);
    new_elem.scrollIntoView();
};
var newElem = function(ev) {
    ev.preventDefault();
    var elem_name = document.getElementById("new-search").value;
    if (obj[elem_name]) {
        warn(dict.existing);
        return;
    } else {
        if (elem_name == "") {
            warn(dict.emptyname);
            return;
        }
    }
    obj[elem_name] = {};
    obj[elem_name].t = elem_name;
    obj[elem_name].u = "";
    obj[elem_name].l = "";
    obj[elem_name].p = "";
    obj[elem_name].n = "";
    obj[elem_name].o = "";
    obj[elem_name].d = Date.now();
    updateJson(obj);
    renderLiElements(obj);
    highlightLi(elem_name);
    addtopsave();
    document.getElementById("new-search").value = "";
    document.getElementById("new-search").focus();
};

function clearAllInput(card) {
    var inputFields;
    if (card) {
        inputFields = document.querySelectorAll("#" + card + " input");
        for (var i = 0; i < inputFields.length; i++) {
            if (inputFields[i].dataset.reset != "false") {
                inputFields[i].value = "";
                inputFields[i].setAttribute("value", "");
            }
        }
        return;
    }
    inputFields = document.getElementsByTagName("input");
    for (var i = 0; i < inputFields.length; i++) {
        if (inputFields[i].dataset.reset != "false") {
            inputFields[i].value = "";
            inputFields[i].setAttribute("value", "");
        }
    }
    inputFields = document.getElementsByTagName("textarea");
    for (i = 0; i < inputFields.length; i++) {
        if (inputFields[i].dataset.reset != "false") {
            inputFields[i].innerHTML = "";
            inputFields[i].value = "";
        }
    }
}

function clear_zxcvbn() {
    result = {};
    ppm.value = 0;
    ppp.innerHTML = "";
    ppm2.value = 0;
    ppp2.innerHTML = "";
    ppm3.value = 0;
    ppp3.innerHTML = "";
}

function clear_peek_icon() {
    var t = document.querySelectorAll("._off");
    Array.prototype.forEach.call(t, function(el) {
        el.classList.remove("_off");
    });
}

function clear_new_search() {
    var el = document.getElementById("new-search");
    el.value = "";
    el.classList.remove("active");
}

function restore_defaults() {
    pp_timeout = pp_timeout_default;
    pp_iter = pp_iter_default;
    feed = {
        version: version,
        theme: "dark",
        language: language,
        timeout: pp_timeout,
        vault: {
            iter: pp_iter
        }
    };
    update_settings();
}

function cleanup() {
    closeModal();
    cleartopsave();
    obj = {};
    updateJson(obj);
    renderLiElements(obj);
    clearAllInput();
    clear_zxcvbn();
    clear_peek_icon();
    restore_defaults();
    togglehome();
    if (loggedin) {
        loggedin = false;
        loginbutton_toggle();
    }
    mem_encryptionhash = null;
}

function setupTimer() {
    window.addEventListener("mousemove", resetTimer, false);
    window.addEventListener("mousedown", resetTimer, false);
    window.addEventListener("keypress", resetTimer, false);
    window.addEventListener("DOMMouseScroll", resetTimer, false);
    window.addEventListener("mousewheel", resetTimer, false);
    window.addEventListener("touchmove", resetTimer, false);
    window.addEventListener("MSPointerMove", resetTimer, false);
    startTimer(Date.now());
}

function startTimer(ts) {
    timeoutID = window.setTimeout(function() {
        goCheck(ts);
    }, 1000);
}

function resetTimer() {
    window.clearTimeout(timeoutID);
    document.getElementById("timer").style.width = "0%";
    goActive();
}

function goCheck(ts) {
    if (pp_timeout == 0 || clear_text.value == "") {
        startTimer(ts);
        return;
    }
    document.getElementById("timer").style.width = Math.floor(((Date.now() - ts) / (pp_timeout)) * 100) + "%";
    if (loggedin && unsaved && (Date.now() > (ts + 60 * 1000))) {
        var val = validate("login");
        if (!val) {
            return;
        }
        proceedSave(val);
    }
    if (Date.now() > (ts + pp_timeout)) {
        document.getElementById("timer").style.width = "100%";
        documentUnload = true;
        if (loggedin) {
            cleanup();
            window.location.replace(location.protocol + "//www.passpilot.com/logout");
        } else {
            cleanup();
            window.location.reload();
        }
    } else {
        startTimer(ts);
    }
}

function goActive() {
    startTimer(Date.now());
}

function goOffline() {
    document.getElementById("menu-online").className = "hidden";
    document.getElementById("btn-save-main").classList.remove("hidden");
    document.getElementById("btn-htf").classList.remove("hidden");
    var g = document.querySelectorAll("[data-login]");
    Array.prototype.forEach.call(g, function(el) {
        el.classList.add("hidden");
    });
}

function goOnline() {
    document.getElementById("menu-online").className = "";
    document.getElementById("btn-save-main").classList.add("hidden");
    document.getElementById("btn-htf").classList.add("hidden");
    var g = document.querySelectorAll("[data-login]");
    Array.prototype.forEach.call(g, function(el) {
        el.classList.remove("hidden");
    });
}

function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(";");
    for (var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == " ") {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}

function handleEncryption(val, silent) {
    var enctypredTextElem = document.getElementById("encrypted_text") || "";
    if (val.passphrase) {
        try {
            feed.vault = JSON.parse(sjcl.encrypt(val.passphrase, val.clearText, {
                mode: "ccm",
                cipher: "aes",
                iter: pp_iter,
                ks: pp_ks,
                ts: pp_ts
            }));
            enctypredTextElem.value = window.btoa(JSON.stringify(feed));
            if (!silent) {
                warn(dict.encrypted, null, null, "#4caf50");
            }
            return true;
        } catch (error) {
            warn(dict.error + " [" + error + "]");
            return false;
        }
    } else {
        warn(dict["check-password"]);
        return false;
    }
}

function handleDecryption(val) {
    var clearTextElem = document.getElementById("clear_text") || "";
    var enctypredTextElem = document.getElementById("encrypted_text") || "";
    try {
        feed = JSON.parse(window.atob(enctypredTextElem.value));
        feed.version = version;
        update_settings();
    } catch (error) {
        warn(dict.error + " [" + error + "]");
        return false;
    }
    if (val.passphrase) {
        try {
            clearTextElem.value = sjcl.decrypt(val.passphrase, JSON.stringify(feed.vault));
            warn(dict.decrypted, null, null, "#4caf50");
            return true;
        } catch (error) {
            warn(dict["check-password"] + " [" + error + "]");
            return false;
        }
    } else {
        warn(dict["check-password"]);
        return false;
    }
}

function update_settings() {
    document.getElementById("iter").value = feed.vault.iter || pp_iter;
    document.getElementById("timeout").value = feed.timeout / (60 * 1000) || pp_timeout / (60 * 1000);
    pp_timeout = feed.timeout;
    if (feed.theme != theme) {
        setTheme("app");
    }
}

function update_vault_size(vaultsize) {
    document.getElementById("vault_size").value = vaultsize;
}

function update_log_info(success, fail) {
    document.getElementById("log_success").value = success;
    document.getElementById("log_fail").value = fail;
}

function sanitize(val) {
    return val.replace(/\s*/g, "").toLowerCase();
}

function validemail(email) {
    var re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(email.toLowerCase());
}

function validate(prefix) {
    var clearTextElem = document.getElementById("clear_text") || "";
    var passphrase, passphrase2, passphrase3, clearText, login, login2;
    passphrase = document.getElementById(prefix + "_passphrase").value;
    clearText = clearTextElem.value;
    switch (prefix) {
        case "save":
        case "load":
        case "login":
            if (!mem_encryptionhash && passphrase.length < 20) {
                warn(dict["passphrase-min"]);
                return false;
            }
            login = document.getElementById(prefix + "_email").value;
            if (!validemail(login)) {
                warn(dict["no-email"]);
                return false;
            }
            return {
                login: sanitize(login), passphrase: mem_encryptionhash || pp_encryptionhash(passphrase), clearText: clearText
            };
        case "offline":
            if (clearText == "" || clearText == "{}") {
                warn(dict.empty);
                return;
            }
            if (!result.score || result.score < 5) {
                warn(dict.weak);
                return false;
            }
            passphrase2 = document.getElementById(prefix + "_passphrase2").value;
            if (passphrase != passphrase2) {
                warn(dict["pass-no-match"]);
                return false;
            }
            return {
                passphrase: pp_encryptionhash(passphrase), clearText: clearText
            };
        case "offline_decrypt":
            return {
                passphrase: pp_encryptionhash(passphrase), clearText: clearText
            };
        case "advanced":
            login = document.getElementById(prefix + "_email").value;
            return {
                login: sanitize(login), passphrase: pp_encryptionhash(passphrase), clearText: clearText
            };
        case "passchange":
            if (ppm3.value < 5) {
                warn(dict.weak);
                return false;
            }
            login = document.getElementById(prefix + "_email").value;
            if (!validemail(login)) {
                warn(dict["no-email"]);
                return false;
            }
            passphrase2 = document.getElementById(prefix + "_passphrase2").value;
            passphrase3 = document.getElementById(prefix + "_passphrase3").value;
            if (passphrase2 == passphrase) {
                warn(dict["same-passphrase"]);
                return false;
            }
            if (passphrase2 != passphrase3) {
                warn(dict["pass-no-match"]);
                return false;
            }
            return {
                login: sanitize(login), passphrase: pp_encryptionhash(passphrase2), oldpassphrase: pp_encryptionhash(passphrase), clearText: clearText
            };
        case "emailchange":
            login = document.getElementById("login_email").value;
            login2 = document.getElementById(prefix + "_email2").value;
            if (!validemail(login) || !validemail(login2)) {
                warn(dict["no-email"]);
                return false;
            } else {
                if (login == login2) {
                    warn(dict["same-email"]);
                    return false;
                }
            }
            return {
                login: sanitize(login), newlogin: sanitize(login2), passphrase: mem_encryptionhash || pp_encryptionhash(passphrase)
            };
    }
}

function importText(check) {
    if (check) {
        try {
            JSON.parse(clear_text.value);
        } catch (e) {
            warn(dict["invalid-format"]);
        }
    }
    updateObj();
}

function offlineDecrypt(ev) {
    var val = validate("offline_decrypt");
    if (val) {
        if (handleDecryption(val)) {
            document.getElementById("offline_decrypt_passphrase").value = "";
            importText(false);
        }
    }
}

function encrypt() {
    var val = validate("advanced");
    if (val) {
        handleEncryption(val);
    }
}

function decrypt() {
    var val = validate("advanced");
    if (val) {
        if (!handleDecryption(val)) {
            return;
        }
        updateObj();
    }
}

function loginhashgen() {
    var val = validate("advanced");
    if (val) {
        document.getElementById("loginhashinput").value = pp_loginhash(val.passphrase, val.login);
        document.getElementById("loginhashinput").focus();
        warn(dict.done, null, null, "#4caf50");
    }
}

function encryptionhashgen() {
    var val = validate("advanced");
    if (val) {
        document.getElementById("encryptionhashinput").value = val.passphrase;
    }
    document.getElementById("encryptionhashinput").focus();
    warn(dict.done, null, null, "#4caf50");
}

function decode(ev) {
    try {
        var enctypredTextElem = document.getElementById("encrypted_text") || "";
        enctypredTextElem.value = window.atob(enctypredTextElem.value);
    } catch (error) {
        warn(dict.error + " [" + error + "]");
        return false;
    }
}

function encode(ev) {
    try {
        var enctypredTextElem = document.getElementById("encrypted_text") || "";
        enctypredTextElem.value = window.btoa(enctypredTextElem.value);
    } catch (error) {
        warn(dict.error + " [" + error + "]");
        return false;
    }
}

function updateObj() {
    var clearTextElem = document.getElementById("clear_text") || "";
    var decryptedText = clearTextElem.value;
    if (decryptedText == "") {
        warn(dict.empty);
        return;
    }
    try {
        obj = JSON.parse(decryptedText);
    } catch (e) {
        warn(dict.error + e);
        return;
    }
    if (JSON.stringify(obj) === JSON.stringify({})) {
        warn(dict.empty);
        return;
    }
    renderLiElements(obj);
    updateJson(obj);
    togglehome();
    return;
}

function saveApp(ev) {
    document.getElementById("encrypted_text").value = "";
    saveOffline(ev, true);
}

function saveOffline(ev, nodata) {
    nodata = nodata || false;
    var enctypredTextElem = document.getElementById("encrypted_text") || "";
    ev.preventDefault();
    if (!nodata) {
        var val = validate("offline");
        if (!val) {
            return;
        }
        handleEncryption(val);
    }
    var docRaw = enctypredTextElem.value;
    raw = docRaw;
    var my_node = document.getElementById("list");
    my_node.innerHTML = "";
    var my_node2 = document.getElementById("abc");
    my_node2.innerHTML = "";
    hideGears();
    togglehome();
    clear_zxcvbn();
    clear_peek_icon();
    clearAllInput("save_offline");
    if (document.getElementById("new-search").classList.contains("active")) {
        document.getElementById("new-search").value = "";
        toggle("new-search");
    }
    toggle("howtofile");
    cleartopsave();
    goOffline();
    var docHTML = "";
    docHTML += "<!doctype html>";
    docHTML += '<html data-framework="javascript">';
    docHTML += "<head>";
    docHTML += '    <meta charset="utf-8">';
    docHTML += '    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">';
    docHTML += "    <title>PassPilot Online & Offline HTML Password Manager</title>";
    docHTML += '    <meta name="description" content="Free password manager that you can keep for yourself in a single HTML file. Client side AES encryption, trust no one policy, off the grid password manager. Take full control of your data online or offline.">';
    docHTML += '    <meta name="author" content="Michal Bednarczyk">';
    docHTML += '    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">';
    docHTML += '    <script type="text/javascript">';
    docHTML += "        var offline = true;";
    docHTML += '        var raw = "' + docRaw + '";';
    docHTML += '        var language = "' + language + '";';
    docHTML += '        var theme = "' + theme + '";';
    docHTML += "        var pp_iter = " + pp_iter + ";";
    docHTML += "        var pp_timeout = " + pp_timeout + ";";
    docHTML += "    <\/script>";
    docHTML += "    </head>";
    docHTML += "<body>";
    docHTML += document.body.innerHTML;
    docHTML += "</body>";
    docHTML += "</html>";
    var blob = new Blob([docHTML], {
        type: "text/html; charset=utf-8"
    });
    saveAs(blob, "PassPilot.com_" + Date() + "_v" + version + ".html");
    if (!offline) {
        goOnline();
    }
    renderLiElements(obj);
    togglehome();
    toggle("save_offline");
}

function pp_encryptionhash(passphrase) {
    var salt = sjcl.hash.sha256.hash(passphrase);
    var hash = sjcl.codec.hex.fromBits(sjcl.misc.pbkdf2(passphrase, salt, 147338));
    return hash;
}

function pp_loginhash(encryptionhash, login) {
    var salt = sjcl.hash.sha256.hash(login);
    var hash = sjcl.codec.hex.fromBits(sjcl.misc.pbkdf2(encryptionhash + login, salt, 1));
    return hash;
}

function saveOnline(ev) {
    var clearTextElem = document.getElementById("clear_text") || "";
    var val;
    if (ev) {
        ev.preventDefault();
    }
    var clearText = clearTextElem.value;
    if (clearText == "" || clearText == "{}") {
        warn(dict.empty);
        return;
    }
    if (loggedin) {
        val = validate("login");
    } else {
        val = validate("load");
    }
    if (!val) {
        return;
    }
    if (loggedin) {
        proceedSave(val);
    } else {
        confirmation(dict["saving-overwrite"], function() {
            proceedSave(val);
        }, function() {
            return;
        });
    }
}

function proceedSave(val) {
    var enctypredTextElem = document.getElementById("encrypted_text") || "";
    var login = val.login;
    var passphrase = val.passphrase;
    var clearText = val.clearText;
    if (passphrase && login && clearText) {
        handleEncryption(val, true);
        var docRaw = enctypredTextElem.value;
        if (!docRaw) {
            return;
        }
        update_vault_size(docRaw.length);
        var hash = sjcl.codec.hex.fromBits(sjcl.hash.sha256.hash(pp_loginhash(passphrase, login) + getCookie("token") + docRaw));
        makeNewRequest("/save", "login=" + encodeURIComponent(login) + "&hash=" + hash + "&blob=" + docRaw, function() {
            processRequest("save", val, this);
        });
    } else {
        warn(dict["nothing-to-save"]);
    }
}

function signon(ev) {
    ev.preventDefault();
    var val = validate("login");
    if (!val) {
        return;
    }
    var login = val.login;
    var passphrase = val.passphrase;
    if (passphrase && login) {
        var loginhash = sjcl.codec.hex.fromBits(sjcl.hash.sha256.hash(pp_loginhash(passphrase, login) + getCookie("token")));
        makeNewRequest("/load", "login=" + encodeURIComponent(login) + "&hash=" + loginhash, function() {
            processRequest("login", val, this);
        });
    } else {
        warn(dict["no-login"]);
    }
}

function loadOnline(ev) {
    ev.preventDefault();
    var val = validate("load");
    if (!val) {
        return;
    }
    var login = val.login;
    var passphrase = val.passphrase;
    confirmation(dict["loading-overwrite"], function() {
        if (passphrase && login) {
            var hash = sjcl.codec.hex.fromBits(sjcl.hash.sha256.hash(pp_loginhash(passphrase, login) + getCookie("token")));
            makeNewRequest("/load", "login=" + encodeURIComponent(login) + "&hash=" + hash, function() {
                processRequest("load", val, this);
            });
        } else {
            warn(dict["no-login"]);
        }
    }, function() {
        return;
    });
}

function makeNewRequest(url, pramsString, callback) {
    var httpRequest;
    if (window.XMLHttpRequest) {
        httpRequest = new XMLHttpRequest();
    } else {
        if (window.ActiveXObject) {
            try {
                httpRequest = new ActiveXObject("Msxml2.XMLHTTP");
            } catch (e) {
                try {
                    httpRequest = new ActiveXObject("Microsoft.XMLHTTP");
                } catch (e) {}
            }
        }
    }
    if (!httpRequest) {
        warn("Cannot create an XMLHTTP instance");
        return false;
    }
    httpRequest.onreadystatechange = callback;
    httpRequest.open("POST", url);
    httpRequest.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    httpRequest.send(pramsString);
}

function mask_email(email) {
    var l, splitted, part1, part2, part3;
    splitted = email.split("@");
    l = splitted[0].length;
    part1 = splitted[0].substring(0, 1);
    part2 = "...";
    if (l > 1) {
        part2 += splitted[0].substring(splitted[0].length, splitted[0].length - 1);
    }
    part3 = splitted[1];
    return part1 + part2 + "@" + part3;
}

function processRequest(form, val, httpRequest) {
    if (httpRequest.readyState === 4) {
        var enctypredTextElem = document.getElementById("encrypted_text") || "";
        switch (httpRequest.status) {
            case 200:
                if (form.indexOf("login") > -1) {
                    if (httpRequest.responseText != "") {
                        var json;
                        try {
                            json = JSON.parse(httpRequest.responseText);
                        } catch (e) {
                            warn(dict.error + e);
                        }
                        document.getElementById("acctype").value = json.type.toUpperCase() + " ACCOUNT";
                        update_log_info(json.lastsuccess + " CET " + json.successfrom, json.lastfail + (json.lastfail == "" ? " " : " CET ") + json.failfrom);
                        if (json.b64 == "") {
                            togglehome();
                        } else {
                            enctypredTextElem.value = json.b64;
                            if (!val) {
                                warn(dict.error);
                                return;
                            }
                            if (!handleDecryption(val)) {
                                return;
                            }
                            updateObj();
                        }
                        update_vault_size(json.b64.length);
                    } else {
                        togglehome();
                    }
                    mem_encryptionhash = val.passphrase;
                    profile_email.value = val.login;
                    profile_email.value = mask_email(val.login);
                    document.getElementById("login_passphrase").value = "";
                    cleartopsave();
                    warn(dict.loggedin, null, null, "#4caf50");
                    loggedin = true;
                    loginbutton_toggle();
                    return;
                }
                if (form.indexOf("load") > -1) {
                    if (httpRequest.responseText == "") {
                        warn(dict.empty);
                        return;
                    }
                    enctypredTextElem.value = httpRequest.responseText;
                    if (!val) {
                        return;
                    }
                    if (!handleDecryption(val)) {
                        return;
                    }
                    cleartopsave();
                    updateObj();
                    warn(dict.loaded, null, null, "#4caf50");
                    return;
                }
                if (form.indexOf("save") > -1) {
                    cleartopsave();
                    warn(httpRequest.responseText, null, null, "#4caf50");
                    update_vault_size(enctypredTextElem.value.length);
                    return;
                }
                if (form.indexOf("passchange") > -1) {
                    cleartopsave();
                    mem_encryptionhash = val.passphrase;
                    clearAllInput("passphrase_change");
                    clear_zxcvbn();
                    warn(httpRequest.responseText, null, null, "#4caf50");
                    togglehome();
                    return;
                }
                if (form.indexOf("emailchange") > -1) {
                    clearAllInput("email_change");
                    warn(httpRequest.responseText, null, null, "#4caf50");
                    togglehome();
                    return;
                }
                break;
            case 400:
                warn(httpRequest.responseText);
                break;
            case 401:
                warn(httpRequest.responseText);
                break;
            default:
                warn(httpRequest.responseText);
                break;
        }
    }
}
if (typeof Object.assign != "function") {
    Object.assign = function(target, varArgs) {
        if (target == null) {
            throw new TypeError("Cannot convert undefined or null to object");
        }
        var to = Object(target);
        for (var index = 1; index < arguments.length; index++) {
            var nextSource = arguments[index];
            if (nextSource != null) {
                for (var nextKey in nextSource) {
                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                        to[nextKey] = nextSource[nextKey];
                    }
                }
            }
        }
        return to;
    };
}

function featureTest() {
    try {
        !!new Blob;
    } catch (e) {
        return false;
    }
    try {
        var array = new Uint32Array(10);
        if (window.crypto && window.crypto.getRandomValues) {
            window.crypto.getRandomValues(array);
        } else {
            if (window.msCrypto && window.msCrypto.getRandomValues) {
                window.msCrypto.getRandomValues(array);
            }
        }
    } catch (e) {
        return false;
    }
    return true;
}

function loginbutton_toggle() {
    var g = document.querySelectorAll("[data-login]");
    Array.prototype.forEach.call(g, function(el) {
        if (loggedin) {
            el.innerHTML = '<span><svg class="icon"><use xlink:href="#icon-user"></use></svg></span><span data-t="profile">' + dict.profile + "</span>";
            el.className = "btn red";
            if (el.id == "btn-login-card") {
                el.className = "btn red hide-on-tablet";
            }
            document.getElementById("btn-save-online").className = "btn green";
        } else {
            el.innerHTML = '<span><svg class="icon"><use xlink:href="#icon-login"></use></svg></span><span data-t="login">' + dict.login + "</span>";
            el.className = "btn silver";
            if (el.id == "btn-login-card") {
                el.className = "btn silver hide-on-tablet";
            }
            document.getElementById("btn-save-online").className = "hidden";
        }
    });
}

function logout_click() {
    if (loggedin) {
        if (unsaved) {
            confirmation(dict["before-logout"], function() {
                cleanup();
                documentUnload = true;
                window.location.replace(location.protocol + "//www.passpilot.com/logout");
            }, function() {
                return;
            });
        } else {
            cleanup();
            documentUnload = true;
            window.location.replace(location.protocol + "//www.passpilot.com/logout");
        }
    }
}

function login_click() {
    if (loggedin) {
        togglehome();
        toggle("profile");
    } else {
        if (JSON.stringify(obj) === JSON.stringify({})) {
            togglehome();
            toggle("logincard");
            document.getElementById("login_email").focus();
        } else {
            warn(dict["before-login"], null, 0);
        }
    }
}

function passchange_click() {
    if (!loggedin) {
        warn(dict["before-change"]);
    } else {
        togglehome();
        toggle("passphrase_change");
    }
}

function emailchange_click() {
    if (!loggedin) {
        warn(dict["before-change"]);
    } else {
        togglehome();
        toggle("email_change");
    }
}

function change_passphrase(ev) {
    var enctypredTextElem = document.getElementById("encrypted_text") || "";
    ev.preventDefault();
    if (!loggedin || JSON.stringify(obj) === JSON.stringify({})) {
        warn(dict["before-change"]);
    }
    var val = validate("passchange");
    if (!val) {
        return;
    }
    var login = val.login;
    var passphrase = val.passphrase;
    var oldpassphrase = val.oldpassphrase;
    if (passphrase && oldpassphrase && login) {
        handleEncryption(val, true);
        var docRaw = enctypredTextElem.value;
        if (!docRaw) {
            return;
        }
        var hash = sjcl.codec.hex.fromBits(sjcl.hash.sha256.hash(pp_loginhash(oldpassphrase, login) + getCookie("token") + docRaw));
        var newhash = pp_loginhash(passphrase, login);
        makeNewRequest("/passchange", "login=" + encodeURIComponent(login) + "&hash=" + hash + "&newhash=" + newhash + "&blob=" + docRaw, function() {
            processRequest("passchange", val, this);
        });
    } else {
        warn(dict["no-login"]);
    }
}

function change_email(ev) {
    ev.preventDefault();
    if (!loggedin || JSON.stringify(obj) === JSON.stringify({})) {
        warn(dict["before-change"]);
    }
    var val = validate("emailchange");
    if (!val) {
        return;
    }
    var login = val.login;
    var newlogin = val.newlogin;
    var passphrase = val.passphrase;
    if (passphrase && newlogin && login) {
        var hash = sjcl.codec.hex.fromBits(sjcl.hash.sha256.hash(pp_loginhash(passphrase, login) + getCookie("token")));
        makeNewRequest("/emailchange", "login=" + encodeURIComponent(login) + "&newlogin=" + encodeURIComponent(newlogin) + "&hash=" + hash, function() {
            processRequest("emailchange", val, this);
        });
    } else {
        warn(dict["no-login"]);
    }
}

function enable_elem(elemid) {
    document.getElementById(elemid).readOnly = false;
}

function init(filter) {
    if (!featureTest()) {
        document.body.innerHTML = "Your browser seems to be at least 8 years old please use an updated and more secure browser to enjoy all features suported by the PassPilot.com website.<br><br> WyglÄda na to Å¼e ta przeglÄdarka zostala wydana okoÅo 8 lat temu, uÅ¼yj zaktualizowanej i bezpieczniejszej przeglÄdarki, aby korzystaÄ ze wszystkich funkcji obsÅugiwanych przez stronÄ PassPilot.com";
        return false;
    }
    if (getCookie("lang") == "en") {
        ls_switch("en");
    } else {
        if (getCookie("lang") == "pl") {
            ls_switch("pl");
        } else {
            if (language == "en") {
                ls_switch("en");
            } else {
                if (language == "pl") {
                    ls_switch("pl");
                } else {
                    if (navigator.language.substring(0, 2) == "pl") {
                        ls_switch("pl");
                    } else {
                        ls_switch("en");
                    }
                }
            }
        }
    }
    resetButtons();
    tooltips();
    if (!filter) {
        update_settings();
        assignevents();
        addHandler("input", "new-search", searchList);
        addClickHandler("btn-new", newElem);
        addClickHandler("menu-button", function() {
            togglehome();
            toggle("nav");
            toggle("menu-button", "hidden");
            toggle("close-nav-button");
        });
        addClickHandler("close-nav-button", function() {
            togglehome();
        });
        addClickHandler("main-logo", function() {
            togglehome();
        });
        addClickHandler("btn-close-modal", closeModal);
        addClickHandler("btn-login-card", function() {
            login_click();
        });
        addClickHandler("btn-logout", function() {
            logout_click();
        });
        addClickHandler("btn-login-main", function() {
            login_click();
        });
        addClickHandler("btn-passchange", function() {
            passchange_click();
        });
        addClickHandler("btn-emailchange", function() {
            emailchange_click();
        });
        addClickHandler("gearwrap", function() {
            hideGears();
        });
        offline_passphrase.addEventListener("input", function(ev) {
            var val = ev.currentTarget.value;
            result = val.length > 50 ? {
                score: 6
            } : zxcvbn(val);
            ppm.value = result.score == 4 ? (val.length >= 20 ? result.score = 5 : 4) : result.score;
            if (val !== "") {
                ppp.innerHTML = dict.strength + ": " + dict[result.score];
            } else {
                ppp.innerHTML = "";
            }
        });
        advanced_passphrase.addEventListener("input", function(ev) {
            var val = ev.currentTarget.value;
            var rs = val.length > 50 ? {
                score: 6
            } : zxcvbn(val);
            ppm2.value = rs.score == 4 ? (val.length >= 20 ? rs.score = 5 : 4) : rs.score;
            if (val !== "") {
                ppp2.innerHTML = dict.strength + ": " + dict[rs.score];
            } else {
                ppp2.innerHTML = "";
            }
        });
        passchange_passphrase2.addEventListener("input", function(ev) {
            var val = ev.currentTarget.value;
            var rs = val.length > 50 ? {
                score: 6
            } : zxcvbn(val);
            ppm3.value = rs.score == 4 ? (val.length >= 20 ? rs.score = 5 : 4) : rs.score;
            if (val !== "") {
                ppp3.innerHTML = dict.strength + ": " + dict[rs.score];
            } else {
                ppp3.innerHTML = "";
            }
        });
        iter.addEventListener("change", function(ev) {
            var val = ev.currentTarget.value;
            if (val > 200000) {
                alert(dict["high-iterations"]);
            } else {
                if (val < 100) {
                    alert(dict["low-iterations"]);
                    val = iter.value = 101;
                }
            }
            pp_iter = parseInt(val);
            addtopsave();
        });
        timeout.addEventListener("change", function(ev) {
            var val = ev.currentTarget.value;
            pp_timeout = Math.abs(parseFloat(val) * 60 * 1000);
            feed.timeout = pp_timeout;
            addtopsave();
        });
        if (getCookie("theme") == "bright" || theme == "bright") {
            setTheme("app");
        }
        setupTimer();
        route();
        window.addEventListener("hashchange", route, false);
        document.getElementById("encrypted_text").value = raw;
        document.getElementById("clear_text").value = "";
        document.getElementById("version").innerHTML = "v" + version;
        if (offline) {
            if (raw.length > 0) {
                toggle("offlinedecrypt");
                document.getElementById("offline_decrypt_passphrase").focus();
            }
        } else {
            if (!modal.dataset.classes && !logincard.dataset.classes) {
                if (!getCookie("welcome")) {
                    prepareFrame("/welcome", "wide");
                } else {
                    toggle("logincard");
                }
            }
        }
    }
}  </script>

  <script type="text/javascript">
    
/*
* zxcvbn.js
* https://github.com/dropbox/zxcvbn
*
* zxcvbn is a password strength estimator inspired by password crackers.
*
* Copyright (c) 2012-2016 Dan Wheeler and Dropbox, Inc.
*
*/

(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.zxcvbn = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var adjacency_graphs;adjacency_graphs={qwerty:{"!":["`~",null,null,"2@","qQ",null],'"':[";:","[{","]}",null,null,"/?"],"#":["2@",null,null,"4$","eE","wW"],$:["3#",null,null,"5%","rR","eE"],"%":["4$",null,null,"6^","tT","rR"],"&":["6^",null,null,"8*","uU","yY"],"'":[";:","[{","]}",null,null,"/?"],"(":["8*",null,null,"0)","oO","iI"],")":["9(",null,null,"-_","pP","oO"],"*":["7&",null,null,"9(","iI","uU"],"+":["-_",null,null,null,"]}","[{"],",":["mM","kK","lL",".>",null,null],"-":["0)",null,null,"=+","[{","pP"],".":[",<","lL",";:","/?",null,null],"/":[".>",";:","'\"",null,null,null],0:["9(",null,null,"-_","pP","oO"],1:["`~",null,null,"2@","qQ",null],2:["1!",null,null,"3#","wW","qQ"],3:["2@",null,null,"4$","eE","wW"],4:["3#",null,null,"5%","rR","eE"],5:["4$",null,null,"6^","tT","rR"],6:["5%",null,null,"7&","yY","tT"],7:["6^",null,null,"8*","uU","yY"],8:["7&",null,null,"9(","iI","uU"],9:["8*",null,null,"0)","oO","iI"],":":["lL","pP","[{","'\"","/?",".>"],";":["lL","pP","[{","'\"","/?",".>"],"<":["mM","kK","lL",".>",null,null],"=":["-_",null,null,null,"]}","[{"],">":[",<","lL",";:","/?",null,null],"?":[".>",";:","'\"",null,null,null],"@":["1!",null,null,"3#","wW","qQ"],A:[null,"qQ","wW","sS","zZ",null],B:["vV","gG","hH","nN",null,null],C:["xX","dD","fF","vV",null,null],D:["sS","eE","rR","fF","cC","xX"],E:["wW","3#","4$","rR","dD","sS"],F:["dD","rR","tT","gG","vV","cC"],G:["fF","tT","yY","hH","bB","vV"],H:["gG","yY","uU","jJ","nN","bB"],I:["uU","8*","9(","oO","kK","jJ"],J:["hH","uU","iI","kK","mM","nN"],K:["jJ","iI","oO","lL",",<","mM"],L:["kK","oO","pP",";:",".>",",<"],M:["nN","jJ","kK",",<",null,null],N:["bB","hH","jJ","mM",null,null],O:["iI","9(","0)","pP","lL","kK"],P:["oO","0)","-_","[{",";:","lL"],Q:[null,"1!","2@","wW","aA",null],R:["eE","4$","5%","tT","fF","dD"],S:["aA","wW","eE","dD","xX","zZ"],T:["rR","5%","6^","yY","gG","fF"],U:["yY","7&","8*","iI","jJ","hH"],V:["cC","fF","gG","bB",null,null],W:["qQ","2@","3#","eE","sS","aA"],X:["zZ","sS","dD","cC",null,null],Y:["tT","6^","7&","uU","hH","gG"],Z:[null,"aA","sS","xX",null,null],"[":["pP","-_","=+","]}","'\"",";:"],"\\":["]}",null,null,null,null,null],"]":["[{","=+",null,"\\|",null,"'\""],"^":["5%",null,null,"7&","yY","tT"],_:["0)",null,null,"=+","[{","pP"],"`":[null,null,null,"1!",null,null],a:[null,"qQ","wW","sS","zZ",null],b:["vV","gG","hH","nN",null,null],c:["xX","dD","fF","vV",null,null],d:["sS","eE","rR","fF","cC","xX"],e:["wW","3#","4$","rR","dD","sS"],f:["dD","rR","tT","gG","vV","cC"],g:["fF","tT","yY","hH","bB","vV"],h:["gG","yY","uU","jJ","nN","bB"],i:["uU","8*","9(","oO","kK","jJ"],j:["hH","uU","iI","kK","mM","nN"],k:["jJ","iI","oO","lL",",<","mM"],l:["kK","oO","pP",";:",".>",",<"],m:["nN","jJ","kK",",<",null,null],n:["bB","hH","jJ","mM",null,null],o:["iI","9(","0)","pP","lL","kK"],p:["oO","0)","-_","[{",";:","lL"],q:[null,"1!","2@","wW","aA",null],r:["eE","4$","5%","tT","fF","dD"],s:["aA","wW","eE","dD","xX","zZ"],t:["rR","5%","6^","yY","gG","fF"],u:["yY","7&","8*","iI","jJ","hH"],v:["cC","fF","gG","bB",null,null],w:["qQ","2@","3#","eE","sS","aA"],x:["zZ","sS","dD","cC",null,null],y:["tT","6^","7&","uU","hH","gG"],z:[null,"aA","sS","xX",null,null],"{":["pP","-_","=+","]}","'\"",";:"],"|":["]}",null,null,null,null,null],"}":["[{","=+",null,"\\|",null,"'\""],"~":[null,null,null,"1!",null,null]},dvorak:{"!":["`~",null,null,"2@","'\"",null],'"':[null,"1!","2@",",<","aA",null],"#":["2@",null,null,"4$",".>",",<"],$:["3#",null,null,"5%","pP",".>"],"%":["4$",null,null,"6^","yY","pP"],"&":["6^",null,null,"8*","gG","fF"],"'":[null,"1!","2@",",<","aA",null],"(":["8*",null,null,"0)","rR","cC"],")":["9(",null,null,"[{","lL","rR"],"*":["7&",null,null,"9(","cC","gG"],"+":["/?","]}",null,"\\|",null,"-_"],",":["'\"","2@","3#",".>","oO","aA"],"-":["sS","/?","=+",null,null,"zZ"],".":[",<","3#","4$","pP","eE","oO"],"/":["lL","[{","]}","=+","-_","sS"],0:["9(",null,null,"[{","lL","rR"],1:["`~",null,null,"2@","'\"",null],2:["1!",null,null,"3#",",<","'\""],3:["2@",null,null,"4$",".>",",<"],4:["3#",null,null,"5%","pP",".>"],5:["4$",null,null,"6^","yY","pP"],6:["5%",null,null,"7&","fF","yY"],7:["6^",null,null,"8*","gG","fF"],8:["7&",null,null,"9(","cC","gG"],9:["8*",null,null,"0)","rR","cC"],":":[null,"aA","oO","qQ",null,null],";":[null,"aA","oO","qQ",null,null],"<":["'\"","2@","3#",".>","oO","aA"],"=":["/?","]}",null,"\\|",null,"-_"],">":[",<","3#","4$","pP","eE","oO"],"?":["lL","[{","]}","=+","-_","sS"],"@":["1!",null,null,"3#",",<","'\""],A:[null,"'\"",",<","oO",";:",null],B:["xX","dD","hH","mM",null,null],C:["gG","8*","9(","rR","tT","hH"],D:["iI","fF","gG","hH","bB","xX"],E:["oO",".>","pP","uU","jJ","qQ"],F:["yY","6^","7&","gG","dD","iI"],G:["fF","7&","8*","cC","hH","dD"],H:["dD","gG","cC","tT","mM","bB"],I:["uU","yY","fF","dD","xX","kK"],J:["qQ","eE","uU","kK",null,null],K:["jJ","uU","iI","xX",null,null],L:["rR","0)","[{","/?","sS","nN"],M:["bB","hH","tT","wW",null,null],N:["tT","rR","lL","sS","vV","wW"],O:["aA",",<",".>","eE","qQ",";:"],P:[".>","4$","5%","yY","uU","eE"],Q:[";:","oO","eE","jJ",null,null],R:["cC","9(","0)","lL","nN","tT"],S:["nN","lL","/?","-_","zZ","vV"],T:["hH","cC","rR","nN","wW","mM"],U:["eE","pP","yY","iI","kK","jJ"],V:["wW","nN","sS","zZ",null,null],W:["mM","tT","nN","vV",null,null],X:["kK","iI","dD","bB",null,null],Y:["pP","5%","6^","fF","iI","uU"],Z:["vV","sS","-_",null,null,null],"[":["0)",null,null,"]}","/?","lL"],"\\":["=+",null,null,null,null,null],"]":["[{",null,null,null,"=+","/?"],"^":["5%",null,null,"7&","fF","yY"],_:["sS","/?","=+",null,null,"zZ"],"`":[null,null,null,"1!",null,null],a:[null,"'\"",",<","oO",";:",null],b:["xX","dD","hH","mM",null,null],c:["gG","8*","9(","rR","tT","hH"],d:["iI","fF","gG","hH","bB","xX"],e:["oO",".>","pP","uU","jJ","qQ"],f:["yY","6^","7&","gG","dD","iI"],g:["fF","7&","8*","cC","hH","dD"],h:["dD","gG","cC","tT","mM","bB"],i:["uU","yY","fF","dD","xX","kK"],j:["qQ","eE","uU","kK",null,null],k:["jJ","uU","iI","xX",null,null],l:["rR","0)","[{","/?","sS","nN"],m:["bB","hH","tT","wW",null,null],n:["tT","rR","lL","sS","vV","wW"],o:["aA",",<",".>","eE","qQ",";:"],p:[".>","4$","5%","yY","uU","eE"],q:[";:","oO","eE","jJ",null,null],r:["cC","9(","0)","lL","nN","tT"],s:["nN","lL","/?","-_","zZ","vV"],t:["hH","cC","rR","nN","wW","mM"],u:["eE","pP","yY","iI","kK","jJ"],v:["wW","nN","sS","zZ",null,null],w:["mM","tT","nN","vV",null,null],x:["kK","iI","dD","bB",null,null],y:["pP","5%","6^","fF","iI","uU"],z:["vV","sS","-_",null,null,null],"{":["0)",null,null,"]}","/?","lL"],"|":["=+",null,null,null,null,null],"}":["[{",null,null,null,"=+","/?"],"~":[null,null,null,"1!",null,null]},keypad:{"*":["/",null,null,null,"-","+","9","8"],"+":["9","*","-",null,null,null,null,"6"],"-":["*",null,null,null,null,null,"+","9"],".":["0","2","3",null,null,null,null,null],"/":[null,null,null,null,"*","9","8","7"],0:[null,"1","2","3",".",null,null,null],1:[null,null,"4","5","2","0",null,null],2:["1","4","5","6","3",".","0",null],3:["2","5","6",null,null,null,".","0"],4:[null,null,"7","8","5","2","1",null],5:["4","7","8","9","6","3","2","1"],6:["5","8","9","+",null,null,"3","2"],7:[null,null,null,"/","8","5","4",null],8:["7",null,"/","*","9","6","5","4"],9:["8","/","*","-","+",null,"6","5"]},mac_keypad:{"*":["/",null,null,null,null,null,"-","9"],"+":["6","9","-",null,null,null,null,"3"],"-":["9","/","*",null,null,null,"+","6"],".":["0","2","3",null,null,null,null,null],"/":["=",null,null,null,"*","-","9","8"],0:[null,"1","2","3",".",null,null,null],1:[null,null,"4","5","2","0",null,null],2:["1","4","5","6","3",".","0",null],3:["2","5","6","+",null,null,".","0"],4:[null,null,"7","8","5","2","1",null],5:["4","7","8","9","6","3","2","1"],6:["5","8","9","-","+",null,"3","2"],7:[null,null,null,"=","8","5","4",null],8:["7",null,"=","/","9","6","5","4"],9:["8","=","/","*","-","+","6","5"],"=":[null,null,null,null,"/","9","8","7"]}},module.exports=adjacency_graphs;
},{}],2:[function(require,module,exports){
var feedback,scoring;scoring=require("./scoring"),feedback={default_feedback:{warning:"",suggestions:["Use a few words, avoid common phrases","No need for symbols, digits, or uppercase letters"]},get_feedback:function(e,s){var a,t,r,n,o,i;if(0===s.length)return this.default_feedback;if(e>2)return{warning:"",suggestions:[]};for(n=s[0],i=s.slice(1),t=0,r=i.length;t<r;t++)o=i[t],o.token.length>n.token.length&&(n=o);return feedback=this.get_match_feedback(n,1===s.length),a="Add another word or two. Uncommon words are better.",null!=feedback?(feedback.suggestions.unshift(a),null==feedback.warning&&(feedback.warning="")):feedback={warning:"",suggestions:[a]},feedback},get_match_feedback:function(e,s){var a,t;switch(e.pattern){case"dictionary":return this.get_dictionary_match_feedback(e,s);case"spatial":return a=e.graph.toUpperCase(),t=1===e.turns?"Straight rows of keys are easy to guess":"Short keyboard patterns are easy to guess",{warning:t,suggestions:["Use a longer keyboard pattern with more turns"]};case"repeat":return t=1===e.base_token.length?'Repeats like "aaa" are easy to guess':'Repeats like "abcabcabc" are only slightly harder to guess than "abc"',{warning:t,suggestions:["Avoid repeated words and characters"]};case"sequence":return{warning:"Sequences like abc or 6543 are easy to guess",suggestions:["Avoid sequences"]};case"regex":if("recent_year"===e.regex_name)return{warning:"Recent years are easy to guess",suggestions:["Avoid recent years","Avoid years that are associated with you"]};break;case"date":return{warning:"Dates are often easy to guess",suggestions:["Avoid dates and years that are associated with you"]}}},get_dictionary_match_feedback:function(e,s){var a,t,r,n,o;return n="passwords"===e.dictionary_name?!s||e.l33t||e.reversed?e.guesses_log10<=4?"This is similar to a commonly used password":void 0:e.rank<=10?"This is a top-10 common password":e.rank<=100?"This is a top-100 common password":"This is a very common password":"english_wikipedia"===e.dictionary_name?s?"A word by itself is easy to guess":void 0:"surnames"===(a=e.dictionary_name)||"male_names"===a||"female_names"===a?s?"Names and surnames by themselves are easy to guess":"Common names and surnames are easy to guess":"",r=[],o=e.token,o.match(scoring.START_UPPER)?r.push("Capitalization doesn't help very much"):o.match(scoring.ALL_UPPER)&&o.toLowerCase()!==o&&r.push("All-uppercase is almost as easy to guess as all-lowercase"),e.reversed&&e.token.length>=4&&r.push("Reversed words aren't much harder to guess"),e.l33t&&r.push("Predictable substitutions like '@' instead of 'a' don't help very much"),t={warning:n,suggestions:r}}},module.exports=feedback;
},{"./scoring":6}],3:[function(require,module,exports){var frequency_lists;frequency_lists={passwords:"123456,porsche,firebird,prince,rosebud,password,guitar,butter,beach,jaguar,12345678,chelsea,united,amateur,great,1234,black,turtle,7777777,cool,pussy,diamond,steelers,muffin,cooper,12345,nascar,tiffany,redsox,1313,dragon,jackson,zxcvbn,star,scorpio,qwerty,cameron,tomcat,testing,mountain,696969,654321,golf,shannon,madison,mustang,computer,bond007,murphy,987654,letmein,amanda,bear,frank,brazil,baseball,wizard,tiger,hannah,lauren,master,xxxxxxxx,doctor,dave,japan,michael,money,gateway,eagle1,naked,football,phoenix,gators,11111,squirt,shadow,mickey,angel,mother,stars,monkey,bailey,junior,nathan,apple,abc123,knight,thx1138,raiders,alexis,pass,iceman,porno,steve,aaaa,fuckme,tigers,badboy,forever,bonnie,6969,purple,debbie,angela,peaches,jordan,andrea,spider,viper,jasmine,harley,horny,melissa,ou812,kevin,ranger,dakota,booger,jake,matt,iwantu,aaaaaa,1212,lovers,qwertyui,jennifer,player,flyers,suckit,danielle,hunter,sunshine,fish,gregory,beaver,fuck,morgan,porn,buddy,4321,2000,starwars,matrix,whatever,4128,test,boomer,teens,young,runner,batman,cowboys,scooby,nicholas,swimming,trustno1,edward,jason,lucky,dolphin,thomas,charles,walter,helpme,gordon,tigger,girls,cumshot,jackie,casper,robert,booboo,boston,monica,stupid,access,coffee,braves,midnight,shit,love,xxxxxx,yankee,college,saturn,buster,bulldog,lover,baby,gemini,1234567,ncc1701,barney,cunt,apples,soccer,rabbit,victor,brian,august,hockey,peanut,tucker,mark,3333,killer,john,princess,startrek,canada,george,johnny,mercedes,sierra,blazer,sexy,gandalf,5150,leather,cumming,andrew,spanky,doggie,232323,hunting,charlie,winter,zzzzzz,4444,kitty,superman,brandy,gunner,beavis,rainbow,asshole,compaq,horney,bigcock,112233,fuckyou,carlos,bubba,happy,arthur,dallas,tennis,2112,sophie,cream,jessica,james,fred,ladies,calvin,panties,mike,johnson,naughty,shaved,pepper,brandon,xxxxx,giants,surfer,1111,fender,tits,booty,samson,austin,anthony,member,blonde,kelly,william,blowme,boobs,fucked,paul,daniel,ferrari,donald,golden,mine,golfer,cookie,bigdaddy,0,king,summer,chicken,bronco,fire,racing,heather,maverick,penis,sandra,5555,hammer,chicago,voyager,pookie,eagle,yankees,joseph,rangers,packers,hentai,joshua,diablo,birdie,einstein,newyork,maggie,sexsex,trouble,dolphins,little,biteme,hardcore,white,0,redwings,enter,666666,topgun,chevy,smith,ashley,willie,bigtits,winston,sticky,thunder,welcome,bitches,warrior,cocacola,cowboy,chris,green,sammy,animal,silver,panther,super,slut,broncos,richard,yamaha,qazwsx,8675309,private,fucker,justin,magic,zxcvbnm,skippy,orange,banana,lakers,nipples,marvin,merlin,driver,rachel,power,blondes,michelle,marine,slayer,victoria,enjoy,corvette,angels,scott,asdfgh,girl,bigdog,fishing,2222,vagina,apollo,cheese,david,asdf,toyota,parker,matthew,maddog,video,travis,qwert,121212,hooters,london,hotdog,time,patrick,wilson,7777,paris,sydney,martin,butthead,marlboro,rock,women,freedom,dennis,srinivas,xxxx,voodoo,ginger,fucking,internet,extreme,magnum,blowjob,captain,action,redskins,juice,nicole,bigdick,carter,erotic,abgrtyu,sparky,chester,jasper,dirty,777777,yellow,smokey,monster,ford,dreams,camaro,xavier,teresa,freddy,maxwell,secret,steven,jeremy,arsenal,music,dick,viking,11111111,access14,rush2112,falcon,snoopy,bill,wolf,russia,taylor,blue,crystal,nipple,scorpion,111111,eagles,peter,iloveyou,rebecca,131313,winner,pussies,alex,tester,123123,samantha,cock,florida,mistress,bitch,house,beer,eric,phantom,hello,miller,rocket,legend,billy,scooter,flower,theman,movie,6666,please,jack,oliver,success,albert".split(","),english_wikipedia:"".split(","),female_names:"".split(","),surnames:"".split(","),us_tv_and_film:"".split(","),male_names:"".split(",")},module.exports=frequency_lists;
},{}],4:[function(require,module,exports){
var feedback,matching,scoring,time,time_estimates,zxcvbn;matching=require("./matching"),scoring=require("./scoring"),time_estimates=require("./time_estimates"),feedback=require("./feedback"),time=function(){return(new Date).getTime()},zxcvbn=function(e,t){var i,n,c,s,a,r,m,o,u,g,_;for(null==t&&(t=[]),g=time(),u=[],c=0,s=t.length;c<s;c++)i=t[c],"string"!=(m=typeof i)&&"number"!==m&&"boolean"!==m||u.push(i.toString().toLowerCase());matching.set_user_input_dictionary(u),a=matching.omnimatch(e),o=scoring.most_guessable_match_sequence(e,a),o.calc_time=time()-g,n=time_estimates.estimate_attack_times(o.guesses);for(r in n)_=n[r],o[r]=_;return o.feedback=feedback.get_feedback(o.score,o.sequence),o},module.exports=zxcvbn;
},{"./feedback":2,"./matching":5,"./scoring":6,"./time_estimates":7}],5:[function(require,module,exports){
var DATE_MAX_YEAR,DATE_MIN_YEAR,DATE_SPLITS,GRAPHS,L33T_TABLE,RANKED_DICTIONARIES,REGEXEN,adjacency_graphs,build_ranked_dict,frequency_lists,lst,matching,name,scoring;frequency_lists=require("./frequency_lists"),adjacency_graphs=require("./adjacency_graphs"),scoring=require("./scoring"),build_ranked_dict=function(e){var t,n,r,i,a;for(i={},t=1,r=0,n=e.length;r<n;r++)a=e[r],i[a]=t,t+=1;return i},RANKED_DICTIONARIES={};for(name in frequency_lists)lst=frequency_lists[name],RANKED_DICTIONARIES[name]=build_ranked_dict(lst);GRAPHS={qwerty:adjacency_graphs.qwerty,dvorak:adjacency_graphs.dvorak,keypad:adjacency_graphs.keypad,mac_keypad:adjacency_graphs.mac_keypad},L33T_TABLE={a:["4","@"],b:["8"],c:["(","{","[","<"],e:["3"],g:["6","9"],i:["1","!","|"],l:["1","|","7"],o:["0"],s:["$","5"],t:["+","7"],x:["%"],z:["2"]},REGEXEN={recent_year:/19\d\d|200\d|201\d/g},DATE_MAX_YEAR=2050,DATE_MIN_YEAR=1e3,DATE_SPLITS={4:[[1,2],[2,3]],5:[[1,3],[2,3]],6:[[1,2],[2,4],[4,5]],7:[[1,3],[2,3],[4,5],[4,6]],8:[[2,4],[4,6]]},matching={empty:function(e){var t;return 0===function(){var n;n=[];for(t in e)n.push(t);return n}().length},extend:function(e,t){return e.push.apply(e,t)},translate:function(e,t){var n;return function(){var r,i,a,s;for(a=e.split(""),s=[],i=0,r=a.length;i<r;i++)n=a[i],s.push(t[n]||n);return s}().join("")},mod:function(e,t){return(e%t+t)%t},sorted:function(e){return e.sort(function(e,t){return e.i-t.i||e.j-t.j})},omnimatch:function(e){var t,n,r,i,a;for(i=[],r=[this.dictionary_match,this.reverse_dictionary_match,this.l33t_match,this.spatial_match,this.repeat_match,this.sequence_match,this.regex_match,this.date_match],a=0,t=r.length;a<t;a++)n=r[a],this.extend(i,n.call(this,e));return this.sorted(i)},dictionary_match:function(e,t){var n,r,i,a,s,o,h,u,c,l,_,f,d,p;null==t&&(t=RANKED_DICTIONARIES),s=[],a=e.length,u=e.toLowerCase();for(n in t)for(l=t[n],r=o=0,_=a;0<=_?o<_:o>_;r=0<=_?++o:--o)for(i=h=f=r,d=a;f<=d?h<d:h>d;i=f<=d?++h:--h)u.slice(r,+i+1||9e9)in l&&(p=u.slice(r,+i+1||9e9),c=l[p],s.push({pattern:"dictionary",i:r,j:i,token:e.slice(r,+i+1||9e9),matched_word:p,rank:c,dictionary_name:n,reversed:!1,l33t:!1}));return this.sorted(s)},reverse_dictionary_match:function(e,t){var n,r,i,a,s,o;for(null==t&&(t=RANKED_DICTIONARIES),o=e.split("").reverse().join(""),i=this.dictionary_match(o,t),a=0,n=i.length;a<n;a++)r=i[a],r.token=r.token.split("").reverse().join(""),r.reversed=!0,s=[e.length-1-r.j,e.length-1-r.i],r.i=s[0],r.j=s[1];return this.sorted(i)},set_user_input_dictionary:function(e){return RANKED_DICTIONARIES.user_inputs=build_ranked_dict(e.slice())},relevant_l33t_subtable:function(e,t){var n,r,i,a,s,o,h,u,c,l;for(s={},o=e.split(""),a=0,r=o.length;a<r;a++)n=o[a],s[n]=!0;l={};for(i in t)c=t[i],h=function(){var e,t,n;for(n=[],t=0,e=c.length;t<e;t++)u=c[t],u in s&&n.push(u);return n}(),h.length>0&&(l[i]=h);return l},enumerate_l33t_subs:function(e){var t,n,r,i,a,s,o,h,u,c,l,_,f,d,p;a=function(){var t;t=[];for(i in e)t.push(i);return t}(),p=[[]],n=function(e){var t,n,r,a,s,o,h,u;for(n=[],s={},o=0,a=e.length;o<a;o++)h=e[o],t=function(){var e,t,n;for(n=[],u=t=0,e=h.length;t<e;u=++t)i=h[u],n.push([i,u]);return n}(),t.sort(),r=function(){var e,n,r;for(r=[],u=n=0,e=t.length;n<e;u=++n)i=t[u],r.push(i+","+u);return r}().join("-"),r in s||(s[r]=!0,n.push(h));return n},r=function(t){var i,a,s,o,h,u,c,l,_,f,d,g,m,A,E,y;if(t.length){for(a=t[0],m=t.slice(1),c=[],d=e[a],l=0,h=d.length;l<h;l++)for(o=d[l],_=0,u=p.length;_<u;_++){for(A=p[_],i=-1,s=f=0,g=A.length;0<=g?f<g:f>g;s=0<=g?++f:--f)if(A[s][0]===o){i=s;break}i===-1?(y=A.concat([[o,a]]),c.push(y)):(E=A.slice(0),E.splice(i,1),E.push([o,a]),c.push(A),c.push(E))}return p=n(c),r(m)}},r(a),d=[];for(u=0,o=p.length;u<o;u++){for(_=p[u],f={},c=0,h=_.length;c<h;c++)l=_[c],s=l[0],t=l[1],f[s]=t;d.push(f)}return d},l33t_match:function(e,t,n){var r,i,a,s,o,h,u,c,l,_,f,d,p,g,m,A;for(null==t&&(t=RANKED_DICTIONARIES),null==n&&(n=L33T_TABLE),u=[],_=this.enumerate_l33t_subs(this.relevant_l33t_subtable(e,n)),c=0,a=_.length;c<a&&(d=_[c],!this.empty(d));c++)for(g=this.translate(e,d),f=this.dictionary_match(g,t),l=0,s=f.length;l<s;l++)if(o=f[l],m=e.slice(o.i,+o.j+1||9e9),m.toLowerCase()!==o.matched_word){h={};for(p in d)r=d[p],m.indexOf(p)!==-1&&(h[p]=r);o.l33t=!0,o.token=m,o.sub=h,o.sub_display=function(){var e;e=[];for(i in h)A=h[i],e.push(i+" -> "+A);return e}().join(", "),u.push(o)}return this.sorted(u.filter(function(e){return e.token.length>1}))},spatial_match:function(e,t){var n,r,i;null==t&&(t=GRAPHS),i=[];for(r in t)n=t[r],this.extend(i,this.spatial_match_helper(e,n,r));return this.sorted(i)},SHIFTED_RX:/[~!@#$%^&*()_+QWERTYUIOP{}|ASDFGHJKL:"ZXCVBNM<>?]/,spatial_match_helper:function(e,t,n){var r,i,a,s,o,h,u,c,l,_,f,d,p,g,m;for(f=[],u=0;u<e.length-1;)for(c=u+1,l=null,m=0,g="qwerty"!==n&&"dvorak"!==n||!this.SHIFTED_RX.exec(e.charAt(u))?0:1;;){if(p=e.charAt(c-1),o=!1,h=-1,s=-1,i=t[p]||[],c<e.length)for(a=e.charAt(c),d=0,_=i.length;d<_;d++)if(r=i[d],s+=1,r&&r.indexOf(a)!==-1){o=!0,h=s,1===r.indexOf(a)&&(g+=1),l!==h&&(m+=1,l=h);break}if(!o){c-u>2&&f.push({pattern:"spatial",i:u,j:c-1,token:e.slice(u,c),graph:n,turns:m,shifted_count:g}),u=c;break}c+=1}return f},repeat_match:function(e){var t,n,r,i,a,s,o,h,u,c,l,_,f,d,p;for(d=[],a=/(.+)\1+/g,c=/(.+?)\1+/g,l=/^(.+?)\1+$/,u=0;u<e.length&&(a.lastIndex=c.lastIndex=u,s=a.exec(e),_=c.exec(e),null!=s);)s[0].length>_[0].length?(f=s,i=l.exec(f[0])[1]):(f=_,i=f[1]),p=[f.index,f.index+f[0].length-1],o=p[0],h=p[1],t=scoring.most_guessable_match_sequence(i,this.omnimatch(i)),r=t.sequence,n=t.guesses,d.push({pattern:"repeat",i:o,j:h,token:f[0],base_token:i,base_guesses:n,base_matches:r,repeat_count:f[0].length/i.length}),u=h+1;return d},MAX_DELTA:5,sequence_match:function(e){var t,n,r,i,a,s,o,h,u;if(1===e.length)return[];for(u=function(t){return function(n,r,i){var a,s,o,u;if((r-n>1||1===Math.abs(i))&&0<(a=Math.abs(i))&&a<=t.MAX_DELTA)return u=e.slice(n,+r+1||9e9),/^[a-z]+$/.test(u)?(s="lower",o=26):/^[A-Z]+$/.test(u)?(s="upper",o=26):/^\d+$/.test(u)?(s="digits",o=10):(s="unicode",o=26),h.push({pattern:"sequence",i:n,j:r,token:e.slice(n,+r+1||9e9),sequence_name:s,sequence_space:o,ascending:i>0})}}(this),h=[],n=0,a=null,i=s=1,o=e.length;1<=o?s<o:s>o;i=1<=o?++s:--s)t=e.charCodeAt(i)-e.charCodeAt(i-1),null==a&&(a=t),t!==a&&(r=i-1,u(n,r,a),n=r,a=t);return u(n,e.length-1,a),h},regex_match:function(e,t){var n,r,i,a;null==t&&(t=REGEXEN),n=[];for(name in t)for(r=t[name],r.lastIndex=0;i=r.exec(e);)a=i[0],n.push({pattern:"regex",token:a,i:i.index,j:i.index+i[0].length-1,regex_name:name,regex_match:i});return this.sorted(n)},date_match:function(e){var t,n,r,i,a,s,o,h,u,c,l,_,f,d,p,g,m,A,E,y,v,I,R,T,D,k,x,j,b,N,S,q,L,M;for(_=[],f=/^\d{4,8}$/,d=/^(\d{1,4})([\s\/\\_.-])(\d{1,2})\2(\d{1,4})$/,s=m=0,v=e.length-4;0<=v?m<=v:m>=v;s=0<=v?++m:--m)for(o=A=I=s+3,R=s+7;(I<=R?A<=R:A>=R)&&!(o>=e.length);o=I<=R?++A:--A)if(M=e.slice(s,+o+1||9e9),f.exec(M)){for(r=[],T=DATE_SPLITS[M.length],E=0,c=T.length;E<c;E++)D=T[E],h=D[0],u=D[1],a=this.map_ints_to_dmy([parseInt(M.slice(0,h)),parseInt(M.slice(h,u)),parseInt(M.slice(u))]),null!=a&&r.push(a);if(r.length>0){for(t=r[0],p=function(e){return Math.abs(e.year-scoring.REFERENCE_YEAR)},g=p(r[0]),k=r.slice(1),y=0,l=k.length;y<l;y++)n=k[y],i=p(n),i<g&&(x=[n,i],t=x[0],g=x[1]);_.push({pattern:"date",token:M,i:s,j:o,separator:"",year:t.year,month:t.month,day:t.day})}}for(s=q=0,j=e.length-6;0<=j?q<=j:q>=j;s=0<=j?++q:--q)for(o=L=b=s+5,N=s+9;(b<=N?L<=N:L>=N)&&!(o>=e.length);o=b<=N?++L:--L)M=e.slice(s,+o+1||9e9),S=d.exec(M),null!=S&&(a=this.map_ints_to_dmy([parseInt(S[1]),parseInt(S[3]),parseInt(S[4])]),null!=a&&_.push({pattern:"date",token:M,i:s,j:o,separator:S[2],year:a.year,month:a.month,day:a.day}));return this.sorted(_.filter(function(e){var t,n,r,i;for(t=!1,i=0,n=_.length;i<n;i++)if(r=_[i],e!==r&&r.i<=e.i&&r.j>=e.j){t=!0;break}return!t}))},map_ints_to_dmy:function(e){var t,n,r,i,a,s,o,h,u,c,l,_,f,d,p,g;if(!(e[1]>31||e[1]<=0)){for(o=0,h=0,p=0,s=0,r=e.length;s<r;s++){if(n=e[s],99<n&&n<DATE_MIN_YEAR||n>DATE_MAX_YEAR)return;n>31&&(h+=1),n>12&&(o+=1),n<=0&&(p+=1)}if(!(h>=2||3===o||p>=2)){for(c=[[e[2],e.slice(0,2)],[e[0],e.slice(1,3)]],u=0,i=c.length;u<i;u++)if(_=c[u],g=_[0],d=_[1],DATE_MIN_YEAR<=g&&g<=DATE_MAX_YEAR)return t=this.map_ints_to_dm(d),null!=t?{year:g,month:t.month,day:t.day}:void 0;for(l=0,a=c.length;l<a;l++)if(f=c[l],g=f[0],d=f[1],t=this.map_ints_to_dm(d),null!=t)return g=this.two_to_four_digit_year(g),{year:g,month:t.month,day:t.day}}}},map_ints_to_dm:function(e){var t,n,r,i,a,s;for(a=[e,e.slice().reverse()],i=0,n=a.length;i<n;i++)if(s=a[i],t=s[0],r=s[1],1<=t&&t<=31&&1<=r&&r<=12)return{day:t,month:r}},two_to_four_digit_year:function(e){return e>99?e:e>50?e+1900:e+2e3}},module.exports=matching;
},{"./adjacency_graphs":1,"./frequency_lists":3,"./scoring":6}],6:[function(require,module,exports){
var BRUTEFORCE_CARDINALITY,MIN_GUESSES_BEFORE_GROWING_SEQUENCE,MIN_SUBMATCH_GUESSES_MULTI_CHAR,MIN_SUBMATCH_GUESSES_SINGLE_CHAR,adjacency_graphs,calc_average_degree,k,scoring,v;adjacency_graphs=require("./adjacency_graphs"),calc_average_degree=function(e){var t,r,n,s,a,u;t=0;for(n in e)a=e[n],t+=function(){var e,t,r;for(r=[],t=0,e=a.length;t<e;t++)s=a[t],s&&r.push(s);return r}().length;return t/=function(){var t;t=[];for(r in e)u=e[r],t.push(r);return t}().length},BRUTEFORCE_CARDINALITY=10,MIN_GUESSES_BEFORE_GROWING_SEQUENCE=1e4,MIN_SUBMATCH_GUESSES_SINGLE_CHAR=10,MIN_SUBMATCH_GUESSES_MULTI_CHAR=50,scoring={nCk:function(e,t){var r,n,s,a;if(t>e)return 0;if(0===t)return 1;for(s=1,r=n=1,a=t;1<=a?n<=a:n>=a;r=1<=a?++n:--n)s*=e,s/=r,e-=1;return s},log10:function(e){return Math.log(e)/Math.log(10)},log2:function(e){return Math.log(e)/Math.log(2)},factorial:function(e){var t,r,n,s;if(e<2)return 1;for(t=1,r=n=2,s=e;2<=s?n<=s:n>=s;r=2<=s?++n:--n)t*=r;return t},most_guessable_match_sequence:function(e,t,r){var n,s,a,u,i,_,o,h,E,c,g,f,l,A,S,p,R,I,v,M,N,C,T,U;for(null==r&&(r=!1),l=e.length,f=function(){var e,t,r;for(r=[],n=e=0,t=l;0<=t?e<t:e>t;n=0<=t?++e:--e)r.push([]);return r}(),A=0,_=t.length;A<_;A++)c=t[A],f[c.j].push(c);for(I=0,o=f.length;I<o;I++)E=f[I],E.sort(function(e,t){return e.i-t.i});for(S={m:function(){var e,t,r;for(t=[],n=r=0,e=l;0<=e?r<e:r>e;n=0<=e?++r:--r)t.push({});return t}(),pi:function(){var e,t,r;for(t=[],n=r=0,e=l;0<=e?r<e:r>e;n=0<=e?++r:--r)t.push({});return t}(),g:function(){var e,t,r;for(t=[],n=r=0,e=l;0<=e?r<e:r>e;n=0<=e?++r:--r)t.push({});return t}()},T=function(t){return function(n,s){var a,u,i,_,o,h;_=n.j,o=t.estimate_guesses(n,e),s>1&&(o*=S.pi[n.i-1][s-1]),i=t.factorial(s)*o,r||(i+=Math.pow(MIN_GUESSES_BEFORE_GROWING_SEQUENCE,s-1)),h=S.g[_];for(u in h)if(a=h[u],!(u>s)&&a<=i)return;return S.g[_][s]=i,S.m[_][s]=n,S.pi[_][s]=o}}(this),s=function(e){return function(e){var t,r,n,s,a,u;for(c=g(0,e),T(c,1),a=[],t=u=1,s=e;1<=s?u<=s:u>=s;t=1<=s?++u:--u)c=g(t,e),a.push(function(){var e,s;e=S.m[t-1],s=[];for(r in e)n=e[r],r=parseInt(r),"bruteforce"!==n.pattern&&s.push(T(c,r+1));return s}());return a}}(this),g=function(t){return function(t,r){return{pattern:"bruteforce",token:e.slice(t,+r+1||9e9),i:t,j:r}}}(this),C=function(e){return function(e){var t,r,n,s,a,u,i;u=[],s=e-1,a=void 0,n=1/0,i=S.g[s];for(r in i)t=i[r],t<n&&(a=r,n=t);for(;s>=0;)c=S.m[s][a],u.unshift(c),s=c.i-1,a--;return u}}(this),u=N=0,v=l;0<=v?N<v:N>v;u=0<=v?++N:--N){for(M=f[u],U=0,h=M.length;U<h;U++)if(c=M[U],c.i>0)for(i in S.m[c.i-1])i=parseInt(i),T(c,i+1);else T(c,1);s(u)}return R=C(l),p=R.length,a=0===e.length?1:S.g[l-1][p],{password:e,guesses:a,guesses_log10:this.log10(a),sequence:R}},estimate_guesses:function(e,t){var r,n,s;return null!=e.guesses?e.guesses:(s=1,e.token.length<t.length&&(s=1===e.token.length?MIN_SUBMATCH_GUESSES_SINGLE_CHAR:MIN_SUBMATCH_GUESSES_MULTI_CHAR),r={bruteforce:this.bruteforce_guesses,dictionary:this.dictionary_guesses,spatial:this.spatial_guesses,repeat:this.repeat_guesses,sequence:this.sequence_guesses,regex:this.regex_guesses,date:this.date_guesses},n=r[e.pattern].call(this,e),e.guesses=Math.max(n,s),e.guesses_log10=this.log10(e.guesses),e.guesses)},bruteforce_guesses:function(e){var t,r;return t=Math.pow(BRUTEFORCE_CARDINALITY,e.token.length),t===Number.POSITIVE_INFINITY&&(t=Number.MAX_VALUE),r=1===e.token.length?MIN_SUBMATCH_GUESSES_SINGLE_CHAR+1:MIN_SUBMATCH_GUESSES_MULTI_CHAR+1,Math.max(t,r)},repeat_guesses:function(e){return e.base_guesses*e.repeat_count},sequence_guesses:function(e){var t,r;return r=e.token.charAt(0),t="a"===r||"A"===r||"z"===r||"Z"===r||"0"===r||"1"===r||"9"===r?4:r.match(/\d/)?10:26,e.ascending||(t*=2),t*e.token.length},MIN_YEAR_SPACE:20,REFERENCE_YEAR:(new Date).getFullYear(),regex_guesses:function(e){var t,r;if(t={alpha_lower:26,alpha_upper:26,alpha:52,alphanumeric:62,digits:10,symbols:33},e.regex_name in t)return Math.pow(t[e.regex_name],e.token.length);switch(e.regex_name){case"recent_year":return r=Math.abs(parseInt(e.regex_match[0])-this.REFERENCE_YEAR),r=Math.max(r,this.MIN_YEAR_SPACE)}},date_guesses:function(e){var t,r;return r=Math.max(Math.abs(e.year-this.REFERENCE_YEAR),this.MIN_YEAR_SPACE),t=365*r,e.separator&&(t*=4),t},KEYBOARD_AVERAGE_DEGREE:calc_average_degree(adjacency_graphs.qwerty),KEYPAD_AVERAGE_DEGREE:calc_average_degree(adjacency_graphs.keypad),KEYBOARD_STARTING_POSITIONS:function(){var e,t;e=adjacency_graphs.qwerty,t=[];for(k in e)v=e[k],t.push(k);return t}().length,KEYPAD_STARTING_POSITIONS:function(){var e,t;e=adjacency_graphs.keypad,t=[];for(k in e)v=e[k],t.push(k);return t}().length,spatial_guesses:function(e){var t,r,n,s,a,u,i,_,o,h,E,c,g,f,l,A,S,p;for("qwerty"===(E=e.graph)||"dvorak"===E?(l=this.KEYBOARD_STARTING_POSITIONS,s=this.KEYBOARD_AVERAGE_DEGREE):(l=this.KEYPAD_STARTING_POSITIONS,s=this.KEYPAD_AVERAGE_DEGREE),a=0,t=e.token.length,S=e.turns,u=_=2,c=t;2<=c?_<=c:_>=c;u=2<=c?++_:--_)for(o=Math.min(S,u-1),i=h=1,g=o;1<=g?h<=g:h>=g;i=1<=g?++h:--h)a+=this.nCk(u-1,i-1)*l*Math.pow(s,i);if(e.shifted_count)if(r=e.shifted_count,n=e.token.length-e.shifted_count,0===r||0===n)a*=2;else{for(A=0,u=p=1,f=Math.min(r,n);1<=f?p<=f:p>=f;u=1<=f?++p:--p)A+=this.nCk(r+n,u);a*=A}return a},dictionary_guesses:function(e){var t;return e.base_guesses=e.rank,e.uppercase_variations=this.uppercase_variations(e),e.l33t_variations=this.l33t_variations(e),t=e.reversed&&2||1,e.base_guesses*e.uppercase_variations*e.l33t_variations*t},START_UPPER:/^[A-Z][^A-Z]+$/,END_UPPER:/^[^A-Z]+[A-Z]$/,ALL_UPPER:/^[^a-z]+$/,ALL_LOWER:/^[^A-Z]+$/,uppercase_variations:function(e){var t,r,n,s,a,u,i,_,o,h,E,c;if(c=e.token,c.match(this.ALL_LOWER)||c.toLowerCase()===c)return 1;for(_=[this.START_UPPER,this.END_UPPER,this.ALL_UPPER],u=0,a=_.length;u<a;u++)if(h=_[u],c.match(h))return 2;for(r=function(){var e,t,r,s;for(r=c.split(""),s=[],t=0,e=r.length;t<e;t++)n=r[t],n.match(/[A-Z]/)&&s.push(n);return s}().length,t=function(){var e,t,r,s;for(r=c.split(""),s=[],t=0,e=r.length;t<e;t++)n=r[t],n.match(/[a-z]/)&&s.push(n);return s}().length,E=0,s=i=1,o=Math.min(r,t);1<=o?i<=o:i>=o;s=1<=o?++i:--i)E+=this.nCk(r+t,s);return E},l33t_variations:function(e){var t,r,n,s,a,u,i,_,o,h,E,c,g;if(!e.l33t)return 1;g=1,o=e.sub;for(E in o)if(c=o[E],s=e.token.toLowerCase().split(""),t=function(){var e,t,r;for(r=[],t=0,e=s.length;t<e;t++)n=s[t],n===E&&r.push(n);return r}().length,r=function(){var e,t,r;for(r=[],t=0,e=s.length;t<e;t++)n=s[t],n===c&&r.push(n);return r}().length,0===t||0===r)g*=2;else{for(i=Math.min(r,t),_=0,a=u=1,h=i;1<=h?u<=h:u>=h;a=1<=h?++u:--u)_+=this.nCk(r+t,a);g*=_}return g}},module.exports=scoring;
},{"./adjacency_graphs":1}],7:[function(require,module,exports){
var time_estimates;time_estimates={estimate_attack_times:function(e){var t,n,s,o;n={online_throttling_100_per_hour:e/(100/3600),online_no_throttling_10_per_second:e/10,offline_slow_hashing_1e4_per_second:e/1e4,offline_fast_hashing_1e10_per_second:e/1e10},t={};for(s in n)o=n[s],t[s]=this.display_time(o);return{crack_times_seconds:n,crack_times_display:t,score:this.guesses_to_score(e)}},guesses_to_score:function(e){var t;return t=5,e<1e3+t?0:e<1e6+t?1:e<1e8+t?2:e<1e10+t?3:4},display_time:function(e){var t,n,s,o,_,r,i,a,u,c;return i=60,r=60*i,s=24*r,a=31*s,c=12*a,n=100*c,u=e<1?[null,"less than a second"]:e<i?(t=Math.round(e),[t,t+" second"]):e<r?(t=Math.round(e/i),[t,t+" minute"]):e<s?(t=Math.round(e/r),[t,t+" hour"]):e<a?(t=Math.round(e/s),[t,t+" day"]):e<c?(t=Math.round(e/a),[t,t+" month"]):e<n?(t=Math.round(e/c),[t,t+" year"]):[null,"centuries"],o=u[0],_=u[1],null!=o&&1!==o&&(_+="s"),_}},module.exports=time_estimates;
},{}]},{},[4])(4)
});
  </script>

  <script type="text/javascript">
    window.addEventListener('beforeunload', function(event) {
      if (!documentUnload && unsaved) {
        event.preventDefault();
        event.returnValue = dict["beforeunload"];
      } else {
        return true;
      };
    });
  </script>

  <script type="text/javascript">
    "use strict";


/*
* sjcl.js
* 
* The Stanford Javascript Crypto Library (hosted on GitHub https://github.com/bitwiseshiftleft/sjcl/) is a project by the Stanford Computer Security Lab to build a secure, powerful, fast, small, easy-to-use, cross-browser library for cryptography in Javascript.
*
* Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh, Stanford University.
* SJCL is open. You can use, modify and redistribute it under a BSD
license or under the GNU GPL, version 2.0.
*/


 var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message};this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message};this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message};this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message};this.message=a}}};
 sjcl.cipher.aes=function(a){this.s[0][0][0]||this.O();var b,c,d,e,f=this.s[0][4],g=this.s[1];b=a.length;var h=1;if(4!==b&&6!==b&&8!==b)throw new sjcl.exception.invalid("invalid aes key size");this.b=[d=a.slice(0),e=[]];for(a=b;a<4*b+28;a++){c=d[a-1];if(0===a%b||8===b&&4===a%b)c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[c&255],0===a%b&&(c=c<<8^c>>>24^h<<24,h=h<<1^283*(h>>7));d[a]=d[a-b]^c}for(b=0;a;b++,a--)c=d[b&3?a:a-4],e[b]=4>=a||4>b?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^g[3][f[c&
 255]]};
 sjcl.cipher.aes.prototype={encrypt:function(a){return t(this,a,0)},decrypt:function(a){return t(this,a,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var a=this.s[0],b=this.s[1],c=a[4],d=b[4],e,f,g,h=[],k=[],l,n,m,p;for(e=0;0x100>e;e++)k[(h[e]=e<<1^283*(e>>7))^e]=e;for(f=g=0;!c[f];f^=l||1,g=k[g]||1)for(m=g^g<<1^g<<2^g<<3^g<<4,m=m>>8^m&255^99,c[f]=m,d[m]=f,n=h[e=h[l=h[f]]],p=0x1010101*n^0x10001*e^0x101*l^0x1010100*f,n=0x101*h[m]^0x1010100*m,e=0;4>e;e++)a[e][f]=n=n<<24^n>>>8,b[e][m]=p=p<<24^p>>>8;for(e=
 0;5>e;e++)a[e]=a[e].slice(0),b[e]=b[e].slice(0)}};
 function t(a,b,c){if(4!==b.length)throw new sjcl.exception.invalid("invalid aes block size");var d=a.b[c],e=b[0]^d[0],f=b[c?3:1]^d[1],g=b[2]^d[2];b=b[c?1:3]^d[3];var h,k,l,n=d.length/4-2,m,p=4,r=[0,0,0,0];h=a.s[c];a=h[0];var q=h[1],v=h[2],w=h[3],x=h[4];for(m=0;m<n;m++)h=a[e>>>24]^q[f>>16&255]^v[g>>8&255]^w[b&255]^d[p],k=a[f>>>24]^q[g>>16&255]^v[b>>8&255]^w[e&255]^d[p+1],l=a[g>>>24]^q[b>>16&255]^v[e>>8&255]^w[f&255]^d[p+2],b=a[b>>>24]^q[e>>16&255]^v[f>>8&255]^w[g&255]^d[p+3],p+=4,e=h,f=k,g=l;for(m=
 0;4>m;m++)r[c?3&-m:m]=x[e>>>24]<<24^x[f>>16&255]<<16^x[g>>8&255]<<8^x[b&255]^d[p++],h=e,e=f,f=g,g=b,b=h;return r}
 sjcl.bitArray={bitSlice:function(a,b,c){a=sjcl.bitArray.$(a.slice(b/32),32-(b&31)).slice(1);return void 0===c?a:sjcl.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return((b+c-1^b)&-32?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=sjcl.bitArray.getPartial(c);return 32===d?a.concat(b):sjcl.bitArray.$(b,d,c|0,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return 0===
 b?0:32*(b-1)+sjcl.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(32*a.length<b)return a;a=a.slice(0,Math.ceil(b/32));var c=a.length;b=b&31;0<c&&b&&(a[c-1]=sjcl.bitArray.partial(b,a[c-1]&2147483648>>b-1,1));return a},partial:function(a,b,c){return 32===a?b:(c?b|0:b<<32-a)+0x10000000000*a},getPartial:function(a){return Math.round(a/0x10000000000)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return!1;var c=0,d;for(d=0;d<a.length;d++)c|=a[d]^b[d];return 0===
 c},$:function(a,b,c,d){var e;e=0;for(void 0===d&&(d=[]);32<=b;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;e=a.length?a[a.length-1]:0;a=sjcl.bitArray.getPartial(e);d.push(sjcl.bitArray.partial(b+a&31,32<b+a?c:d.pop(),1));return d},i:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]},byteswapM:function(a){var b,c;for(b=0;b<a.length;++b)c=a[b],a[b]=c>>>24|c>>>8&0xff00|(c&0xff00)<<8|c<<24;return a}};
 sjcl.codec.utf8String={fromBits:function(a){var b="",c=sjcl.bitArray.bitLength(a),d,e;for(d=0;d<c/8;d++)0===(d&3)&&(e=a[d/4]),b+=String.fromCharCode(e>>>8>>>8>>>8),e<<=8;return decodeURIComponent(escape(b))},toBits:function(a){a=unescape(encodeURIComponent(a));var b=[],c,d=0;for(c=0;c<a.length;c++)d=d<<8|a.charCodeAt(c),3===(c&3)&&(b.push(d),d=0);c&3&&b.push(sjcl.bitArray.partial(8*(c&3),d));return b}};
 sjcl.codec.hex={fromBits:function(a){var b="",c;for(c=0;c<a.length;c++)b+=((a[c]|0)+0xf00000000000).toString(16).substr(4);return b.substr(0,sjcl.bitArray.bitLength(a)/4)},toBits:function(a){var b,c=[],d;a=a.replace(/\s|0x/g,"");d=a.length;a=a+"00000000";for(b=0;b<a.length;b+=8)c.push(parseInt(a.substr(b,8),16)^0);return sjcl.bitArray.clamp(c,4*d)}};
 sjcl.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(a,b,c){var d=sjcl.codec.base32.BASE,e=sjcl.codec.base32.REMAINING,f="",g=0,h=sjcl.codec.base32.B,k=0,l=sjcl.bitArray.bitLength(a);c&&(h=sjcl.codec.base32.X);for(c=0;f.length*d<l;)f+=h.charAt((k^a[c]>>>g)>>>e),g<d?(k=a[c]<<d-g,g+=e,c++):(k<<=d,g-=d);for(;f.length&7&&!b;)f+="=";return f},toBits:function(a,b){a=a.replace(/\s|=/g,"").toUpperCase();var c=sjcl.codec.base32.BITS,
 d=sjcl.codec.base32.BASE,e=sjcl.codec.base32.REMAINING,f=[],g,h=0,k=sjcl.codec.base32.B,l=0,n,m="base32";b&&(k=sjcl.codec.base32.X,m="base32hex");for(g=0;g<a.length;g++){n=k.indexOf(a.charAt(g));if(0>n){if(!b)try{return sjcl.codec.base32hex.toBits(a)}catch(p){}throw new sjcl.exception.invalid("this isn't "+m+"!");}h>e?(h-=e,f.push(l^n>>>h),l=n<<c-h):(h+=d,l^=n<<c-h)}h&56&&f.push(sjcl.bitArray.partial(h&56,l,1));return f}};
 sjcl.codec.base32hex={fromBits:function(a,b){return sjcl.codec.base32.fromBits(a,b,1)},toBits:function(a){return sjcl.codec.base32.toBits(a,1)}};
 sjcl.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=sjcl.codec.base64.B,g=0,h=sjcl.bitArray.bitLength(a);c&&(f=f.substr(0,62)+"-_");for(c=0;6*d.length<h;)d+=f.charAt((g^a[c]>>>e)>>>26),6>e?(g=a[c]<<6-e,e+=26,c++):(g<<=6,e-=6);for(;d.length&3&&!b;)d+="=";return d},toBits:function(a,b){a=a.replace(/\s|=/g,"");var c=[],d,e=0,f=sjcl.codec.base64.B,g=0,h;b&&(f=f.substr(0,62)+"-_");for(d=0;d<a.length;d++){h=f.indexOf(a.charAt(d));
 if(0>h)throw new sjcl.exception.invalid("this isn't base64!");26<e?(e-=26,c.push(g^h>>>e),g=h<<32-e):(e+=6,g^=h<<32-e)}e&56&&c.push(sjcl.bitArray.partial(e&56,g,1));return c}};sjcl.codec.base64url={fromBits:function(a){return sjcl.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl.codec.base64.toBits(a,1)}};sjcl.hash.sha256=function(a){this.b[0]||this.O();a?(this.F=a.F.slice(0),this.A=a.A.slice(0),this.l=a.l):this.reset()};sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()};
 sjcl.hash.sha256.prototype={blockSize:512,reset:function(){this.F=this.Y.slice(0);this.A=[];this.l=0;return this},update:function(a){"string"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));var b,c=this.A=sjcl.bitArray.concat(this.A,a);b=this.l;a=this.l=b+sjcl.bitArray.bitLength(a);if(0x1fffffffffffff<a)throw new sjcl.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!==typeof Uint32Array){var d=new Uint32Array(c),e=0;for(b=512+b-(512+b&0x1ff);b<=a;b+=512)u(this,d.subarray(16*e,
 16*(e+1))),e+=1;c.splice(0,16*e)}else for(b=512+b-(512+b&0x1ff);b<=a;b+=512)u(this,c.splice(0,16));return this},finalize:function(){var a,b=this.A,c=this.F,b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]);for(a=b.length+2;a&15;a++)b.push(0);b.push(Math.floor(this.l/0x100000000));for(b.push(this.l|0);b.length;)u(this,b.splice(0,16));this.reset();return c},Y:[],b:[],O:function(){function a(a){return 0x100000000*(a-Math.floor(a))|0}for(var b=0,c=2,d,e;64>b;c++){e=!0;for(d=2;d*d<=c;d++)if(0===c%d){e=
 !1;break}e&&(8>b&&(this.Y[b]=a(Math.pow(c,.5))),this.b[b]=a(Math.pow(c,1/3)),b++)}}};
 function u(a,b){var c,d,e,f=a.F,g=a.b,h=f[0],k=f[1],l=f[2],n=f[3],m=f[4],p=f[5],r=f[6],q=f[7];for(c=0;64>c;c++)16>c?d=b[c]:(d=b[c+1&15],e=b[c+14&15],d=b[c&15]=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+b[c&15]+b[c+9&15]|0),d=d+q+(m>>>6^m>>>11^m>>>25^m<<26^m<<21^m<<7)+(r^m&(p^r))+g[c],q=r,r=p,p=m,m=n+d|0,n=l,l=k,k=h,h=d+(k&l^n&(k^l))+(k>>>2^k>>>13^k>>>22^k<<30^k<<19^k<<10)|0;f[0]=f[0]+h|0;f[1]=f[1]+k|0;f[2]=f[2]+l|0;f[3]=f[3]+n|0;f[4]=f[4]+m|0;f[5]=f[5]+p|0;f[6]=f[6]+r|0;f[7]=
 f[7]+q|0}
 sjcl.mode.ccm={name:"ccm",G:[],listenProgress:function(a){sjcl.mode.ccm.G.push(a)},unListenProgress:function(a){a=sjcl.mode.ccm.G.indexOf(a);-1<a&&sjcl.mode.ccm.G.splice(a,1)},fa:function(a){var b=sjcl.mode.ccm.G.slice(),c;for(c=0;c<b.length;c+=1)b[c](a)},encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=sjcl.bitArray,k=h.bitLength(c)/8,l=h.bitLength(g)/8;e=e||64;d=d||[];if(7>k)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(f=2;4>f&&l>>>8*f;f++);f<15-k&&(f=15-k);c=h.clamp(c,
 8*(15-f));b=sjcl.mode.ccm.V(a,b,c,d,e,f);g=sjcl.mode.ccm.C(a,g,c,b,e,f);return h.concat(g.data,g.tag)},decrypt:function(a,b,c,d,e){e=e||64;d=d||[];var f=sjcl.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),k=f.clamp(b,h-e),l=f.bitSlice(b,h-e),h=(h-e)/8;if(7>g)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(b=2;4>b&&h>>>8*b;b++);b<15-g&&(b=15-g);c=f.clamp(c,8*(15-b));k=sjcl.mode.ccm.C(a,k,c,l,e,b);a=sjcl.mode.ccm.V(a,k.data,c,d,e,b);if(!f.equal(k.tag,a))throw new sjcl.exception.corrupt("ccm: tag doesn't match");
 return k.data},na:function(a,b,c,d,e,f){var g=[],h=sjcl.bitArray,k=h.i;d=[h.partial(8,(b.length?64:0)|d-2<<2|f-1)];d=h.concat(d,c);d[3]|=e;d=a.encrypt(d);if(b.length)for(c=h.bitLength(b)/8,65279>=c?g=[h.partial(16,c)]:0xffffffff>=c&&(g=h.concat([h.partial(16,65534)],[c])),g=h.concat(g,b),b=0;b<g.length;b+=4)d=a.encrypt(k(d,g.slice(b,b+4).concat([0,0,0])));return d},V:function(a,b,c,d,e,f){var g=sjcl.bitArray,h=g.i;e/=8;if(e%2||4>e||16<e)throw new sjcl.exception.invalid("ccm: invalid tag length");
 if(0xffffffff<d.length||0xffffffff<b.length)throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");c=sjcl.mode.ccm.na(a,d,c,e,g.bitLength(b)/8,f);for(d=0;d<b.length;d+=4)c=a.encrypt(h(c,b.slice(d,d+4).concat([0,0,0])));return g.clamp(c,8*e)},C:function(a,b,c,d,e,f){var g,h=sjcl.bitArray;g=h.i;var k=b.length,l=h.bitLength(b),n=k/50,m=n;c=h.concat([h.partial(8,f-1)],c).concat([0,0,0]).slice(0,4);d=h.bitSlice(g(d,a.encrypt(c)),0,e);if(!k)return{tag:d,data:[]};for(g=0;g<k;g+=4)g>n&&(sjcl.mode.ccm.fa(g/
 k),n+=m),c[3]++,e=a.encrypt(c),b[g]^=e[0],b[g+1]^=e[1],b[g+2]^=e[2],b[g+3]^=e[3];return{tag:d,data:h.clamp(b,l)}}};
 sjcl.mode.ocb2={name:"ocb2",encrypt:function(a,b,c,d,e,f){if(128!==sjcl.bitArray.bitLength(c))throw new sjcl.exception.invalid("ocb iv must be 128 bits");var g,h=sjcl.mode.ocb2.S,k=sjcl.bitArray,l=k.i,n=[0,0,0,0];c=h(a.encrypt(c));var m,p=[];d=d||[];e=e||64;for(g=0;g+4<b.length;g+=4)m=b.slice(g,g+4),n=l(n,m),p=p.concat(l(c,a.encrypt(l(c,m)))),c=h(c);m=b.slice(g);b=k.bitLength(m);g=a.encrypt(l(c,[0,0,0,b]));m=k.clamp(l(m.concat([0,0,0]),g),b);n=l(n,l(m.concat([0,0,0]),g));n=a.encrypt(l(n,l(c,h(c))));
 d.length&&(n=l(n,f?d:sjcl.mode.ocb2.pmac(a,d)));return p.concat(k.concat(m,k.clamp(n,e)))},decrypt:function(a,b,c,d,e,f){if(128!==sjcl.bitArray.bitLength(c))throw new sjcl.exception.invalid("ocb iv must be 128 bits");e=e||64;var g=sjcl.mode.ocb2.S,h=sjcl.bitArray,k=h.i,l=[0,0,0,0],n=g(a.encrypt(c)),m,p,r=sjcl.bitArray.bitLength(b)-e,q=[];d=d||[];for(c=0;c+4<r/32;c+=4)m=k(n,a.decrypt(k(n,b.slice(c,c+4)))),l=k(l,m),q=q.concat(m),n=g(n);p=r-32*c;m=a.encrypt(k(n,[0,0,0,p]));m=k(m,h.clamp(b.slice(c),p).concat([0,
 0,0]));l=k(l,m);l=a.encrypt(k(l,k(n,g(n))));d.length&&(l=k(l,f?d:sjcl.mode.ocb2.pmac(a,d)));if(!h.equal(h.clamp(l,e),h.bitSlice(b,r)))throw new sjcl.exception.corrupt("ocb: tag doesn't match");return q.concat(h.clamp(m,p))},pmac:function(a,b){var c,d=sjcl.mode.ocb2.S,e=sjcl.bitArray,f=e.i,g=[0,0,0,0],h=a.encrypt([0,0,0,0]),h=f(h,d(d(h)));for(c=0;c+4<b.length;c+=4)h=d(h),g=f(g,a.encrypt(f(h,b.slice(c,c+4))));c=b.slice(c);128>e.bitLength(c)&&(h=f(h,d(h)),c=e.concat(c,[-2147483648,0,0,0]));g=f(g,c);
 return a.encrypt(f(d(f(h,d(h))),g))},S:function(a){return[a[0]<<1^a[1]>>>31,a[1]<<1^a[2]>>>31,a[2]<<1^a[3]>>>31,a[3]<<1^135*(a[0]>>>31)]}};
 sjcl.mode.gcm={name:"gcm",encrypt:function(a,b,c,d,e){var f=b.slice(0);b=sjcl.bitArray;d=d||[];a=sjcl.mode.gcm.C(!0,a,f,d,c,e||128);return b.concat(a.data,a.tag)},decrypt:function(a,b,c,d,e){var f=b.slice(0),g=sjcl.bitArray,h=g.bitLength(f);e=e||128;d=d||[];e<=h?(b=g.bitSlice(f,h-e),f=g.bitSlice(f,0,h-e)):(b=f,f=[]);a=sjcl.mode.gcm.C(!1,a,f,d,c,e);if(!g.equal(a.tag,b))throw new sjcl.exception.corrupt("gcm: tag doesn't match");return a.data},ka:function(a,b){var c,d,e,f,g,h=sjcl.bitArray.i;e=[0,0,
 0,0];f=b.slice(0);for(c=0;128>c;c++){(d=0!==(a[Math.floor(c/32)]&1<<31-c%32))&&(e=h(e,f));g=0!==(f[3]&1);for(d=3;0<d;d--)f[d]=f[d]>>>1|(f[d-1]&1)<<31;f[0]>>>=1;g&&(f[0]^=-0x1f000000)}return e},j:function(a,b,c){var d,e=c.length;b=b.slice(0);for(d=0;d<e;d+=4)b[0]^=0xffffffff&c[d],b[1]^=0xffffffff&c[d+1],b[2]^=0xffffffff&c[d+2],b[3]^=0xffffffff&c[d+3],b=sjcl.mode.gcm.ka(b,a);return b},C:function(a,b,c,d,e,f){var g,h,k,l,n,m,p,r,q=sjcl.bitArray;m=c.length;p=q.bitLength(c);r=q.bitLength(d);h=q.bitLength(e);
 g=b.encrypt([0,0,0,0]);96===h?(e=e.slice(0),e=q.concat(e,[1])):(e=sjcl.mode.gcm.j(g,[0,0,0,0],e),e=sjcl.mode.gcm.j(g,e,[0,0,Math.floor(h/0x100000000),h&0xffffffff]));h=sjcl.mode.gcm.j(g,[0,0,0,0],d);n=e.slice(0);d=h.slice(0);a||(d=sjcl.mode.gcm.j(g,h,c));for(l=0;l<m;l+=4)n[3]++,k=b.encrypt(n),c[l]^=k[0],c[l+1]^=k[1],c[l+2]^=k[2],c[l+3]^=k[3];c=q.clamp(c,p);a&&(d=sjcl.mode.gcm.j(g,h,c));a=[Math.floor(r/0x100000000),r&0xffffffff,Math.floor(p/0x100000000),p&0xffffffff];d=sjcl.mode.gcm.j(g,d,a);k=b.encrypt(e);
 d[0]^=k[0];d[1]^=k[1];d[2]^=k[2];d[3]^=k[3];return{tag:q.bitSlice(d,0,f),data:c}}};sjcl.misc.hmac=function(a,b){this.W=b=b||sjcl.hash.sha256;var c=[[],[]],d,e=b.prototype.blockSize/32;this.w=[new b,new b];a.length>e&&(a=b.hash(a));for(d=0;d<e;d++)c[0][d]=a[d]^909522486,c[1][d]=a[d]^1549556828;this.w[0].update(c[0]);this.w[1].update(c[1]);this.R=new b(this.w[0])};
 sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a){if(this.aa)throw new sjcl.exception.invalid("encrypt on already updated hmac called!");this.update(a);return this.digest(a)};sjcl.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]);this.aa=!1};sjcl.misc.hmac.prototype.update=function(a){this.aa=!0;this.R.update(a)};sjcl.misc.hmac.prototype.digest=function(){var a=this.R.finalize(),a=(new this.W(this.w[1])).update(a).finalize();this.reset();return a};
 sjcl.misc.pbkdf2=function(a,b,c,d,e){c=c||1E4;if(0>d||0>c)throw new sjcl.exception.invalid("invalid params to pbkdf2");"string"===typeof a&&(a=sjcl.codec.utf8String.toBits(a));"string"===typeof b&&(b=sjcl.codec.utf8String.toBits(b));e=e||sjcl.misc.hmac;a=new e(a);var f,g,h,k,l=[],n=sjcl.bitArray;for(k=1;32*l.length<(d||1);k++){e=f=a.encrypt(n.concat(b,[k]));for(g=1;g<c;g++)for(f=a.encrypt(f),h=0;h<f.length;h++)e[h]^=f[h];l=l.concat(e)}d&&(l=n.clamp(l,d));return l};
 sjcl.prng=function(a){this.c=[new sjcl.hash.sha256];this.m=[0];this.P=0;this.H={};this.N=0;this.U={};this.Z=this.f=this.o=this.ha=0;this.b=[0,0,0,0,0,0,0,0];this.h=[0,0,0,0];this.L=void 0;this.M=a;this.D=!1;this.K={progress:{},seeded:{}};this.u=this.ga=0;this.I=1;this.J=2;this.ca=0x10000;this.T=[0,48,64,96,128,192,0x100,384,512,768,1024];this.da=3E4;this.ba=80};
 sjcl.prng.prototype={randomWords:function(a,b){var c=[],d;d=this.isReady(b);var e;if(d===this.u)throw new sjcl.exception.notReady("generator isn't seeded");if(d&this.J){d=!(d&this.I);e=[];var f=0,g;this.Z=e[0]=(new Date).valueOf()+this.da;for(g=0;16>g;g++)e.push(0x100000000*Math.random()|0);for(g=0;g<this.c.length&&(e=e.concat(this.c[g].finalize()),f+=this.m[g],this.m[g]=0,d||!(this.P&1<<g));g++);this.P>=1<<this.c.length&&(this.c.push(new sjcl.hash.sha256),this.m.push(0));this.f-=f;f>this.o&&(this.o=
 f);this.P++;this.b=sjcl.hash.sha256.hash(this.b.concat(e));this.L=new sjcl.cipher.aes(this.b);for(d=0;4>d&&(this.h[d]=this.h[d]+1|0,!this.h[d]);d++);}for(d=0;d<a;d+=4)0===(d+1)%this.ca&&y(this),e=z(this),c.push(e[0],e[1],e[2],e[3]);y(this);return c.slice(0,a)},setDefaultParanoia:function(a,b){if(0===a&&"Setting paranoia=0 will ruin your security; use it only for testing"!==b)throw new sjcl.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=a},addEntropy:function(a,
 b,c){c=c||"user";var d,e,f=(new Date).valueOf(),g=this.H[c],h=this.isReady(),k=0;d=this.U[c];void 0===d&&(d=this.U[c]=this.ha++);void 0===g&&(g=this.H[c]=0);this.H[c]=(this.H[c]+1)%this.c.length;switch(typeof a){case "number":void 0===b&&(b=1);this.c[g].update([d,this.N++,1,b,f,1,a|0]);break;case "object":c=Object.prototype.toString.call(a);if("[object Uint32Array]"===c){e=[];for(c=0;c<a.length;c++)e.push(a[c]);a=e}else for("[object Array]"!==c&&(k=1),c=0;c<a.length&&!k;c++)"number"!==typeof a[c]&&
 (k=1);if(!k){if(void 0===b)for(c=b=0;c<a.length;c++)for(e=a[c];0<e;)b++,e=e>>>1;this.c[g].update([d,this.N++,2,b,f,a.length].concat(a))}break;case "string":void 0===b&&(b=a.length);this.c[g].update([d,this.N++,3,b,f,a.length]);this.c[g].update(a);break;default:k=1}if(k)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[g]+=b;this.f+=b;h===this.u&&(this.isReady()!==this.u&&A("seeded",Math.max(this.o,this.f)),A("progress",this.getProgress()))},
 isReady:function(a){a=this.T[void 0!==a?a:this.M];return this.o&&this.o>=a?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=a?this.J|this.u:this.u},getProgress:function(a){a=this.T[a?a:this.M];return this.o>=a?1:this.f>a?1:this.f/a},startCollectors:function(){if(!this.D){this.a={loadTimeCollector:B(this,this.ma),mouseCollector:B(this,this.oa),keyboardCollector:B(this,this.la),accelerometerCollector:B(this,this.ea),touchCollector:B(this,this.qa)};if(window.addEventListener)window.addEventListener("load",
 this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else if(document.attachEvent)document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector);else throw new sjcl.exception.bug("can't attach event");
 this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",
 this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(a,b){this.K[a][this.ga++]=b},removeEventListener:function(a,b){var c,d,e=this.K[a],f=[];for(d in e)e.hasOwnProperty(d)&&e[d]===b&&f.push(d);for(c=0;c<f.length;c++)d=f[c],delete e[d]},la:function(){C(this,1)},oa:function(a){var b,c;try{b=a.x||a.clientX||a.offsetX||0,c=a.y||a.clientY||a.offsetY||0}catch(d){c=b=0}0!=b&&0!=c&&this.addEntropy([b,c],2,"mouse");C(this,0)},qa:function(a){a=
 a.touches[0]||a.changedTouches[0];this.addEntropy([a.pageX||a.clientX,a.pageY||a.clientY],1,"touch");C(this,0)},ma:function(){C(this,2)},ea:function(a){a=a.accelerationIncludingGravity.x||a.accelerationIncludingGravity.y||a.accelerationIncludingGravity.z;if(window.orientation){var b=window.orientation;"number"===typeof b&&this.addEntropy(b,1,"accelerometer")}a&&this.addEntropy(a,2,"accelerometer");C(this,0)}};
 function A(a,b){var c,d=sjcl.random.K[a],e=[];for(c in d)d.hasOwnProperty(c)&&e.push(d[c]);for(c=0;c<e.length;c++)e[c](b)}function C(a,b){"undefined"!==typeof window&&window.performance&&"function"===typeof window.performance.now?a.addEntropy(window.performance.now(),b,"loadtime"):a.addEntropy((new Date).valueOf(),b,"loadtime")}function y(a){a.b=z(a).concat(z(a));a.L=new sjcl.cipher.aes(a.b)}function z(a){for(var b=0;4>b&&(a.h[b]=a.h[b]+1|0,!a.h[b]);b++);return a.L.encrypt(a.h)}
 function B(a,b){return function(){b.apply(a,arguments)}}sjcl.random=new sjcl.prng(6);
 a:try{var D,E,F,G;if(G="undefined"!==typeof module&&module.exports){var H;try{H=require("crypto")}catch(a){H=null}G=E=H}if(G&&E.randomBytes)D=E.randomBytes(128),D=new Uint32Array((new Uint8Array(D)).buffer),sjcl.random.addEntropy(D,1024,"crypto['randomBytes']");else if("undefined"!==typeof window&&"undefined"!==typeof Uint32Array){F=new Uint32Array(32);if(window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(F);else if(window.msCrypto&&window.msCrypto.getRandomValues)window.msCrypto.getRandomValues(F);
 else break a;sjcl.random.addEntropy(F,1024,"crypto['getRandomValues']")}}catch(a){"undefined"!==typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(a))}
 sjcl.json={defaults:{v:1,iter:1E4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json,f=e.g({iv:sjcl.random.randomWords(4,0)},e.defaults),g;e.g(f,c);c=f.adata;"string"===typeof f.salt&&(f.salt=sjcl.codec.base64.toBits(f.salt));"string"===typeof f.iv&&(f.iv=sjcl.codec.base64.toBits(f.iv));if(!sjcl.mode[f.mode]||!sjcl.cipher[f.cipher]||"string"===typeof a&&100>=f.iter||64!==f.ts&&96!==f.ts&&128!==f.ts||128!==f.ks&&192!==f.ks&&0x100!==f.ks||2>f.iv.length||
 4<f.iv.length)throw new sjcl.exception.invalid("json encrypt: invalid parameters");"string"===typeof a?(g=sjcl.misc.cachedPbkdf2(a,f),a=g.key.slice(0,f.ks/32),f.salt=g.salt):sjcl.ecc&&a instanceof sjcl.ecc.elGamal.publicKey&&(g=a.kem(),f.kemtag=g.tag,a=g.key.slice(0,f.ks/32));"string"===typeof b&&(b=sjcl.codec.utf8String.toBits(b));"string"===typeof c&&(f.adata=c=sjcl.codec.utf8String.toBits(c));g=new sjcl.cipher[f.cipher](a);e.g(d,f);d.key=a;f.ct="ccm"===f.mode&&sjcl.arrayBuffer&&sjcl.arrayBuffer.ccm&&
 b instanceof ArrayBuffer?sjcl.arrayBuffer.ccm.encrypt(g,b,f.iv,c,f.ts):sjcl.mode[f.mode].encrypt(g,b,f.iv,c,f.ts);return f},encrypt:function(a,b,c,d){var e=sjcl.json,f=e.ja.apply(e,arguments);return e.encode(f)},ia:function(a,b,c,d){c=c||{};d=d||{};var e=sjcl.json;b=e.g(e.g(e.g({},e.defaults),b),c,!0);var f,g;f=b.adata;"string"===typeof b.salt&&(b.salt=sjcl.codec.base64.toBits(b.salt));"string"===typeof b.iv&&(b.iv=sjcl.codec.base64.toBits(b.iv));if(!sjcl.mode[b.mode]||!sjcl.cipher[b.cipher]||"string"===
 typeof a&&100>=b.iter||64!==b.ts&&96!==b.ts&&128!==b.ts||128!==b.ks&&192!==b.ks&&0x100!==b.ks||!b.iv||2>b.iv.length||4<b.iv.length)throw new sjcl.exception.invalid("json decrypt: invalid parameters");"string"===typeof a?(g=sjcl.misc.cachedPbkdf2(a,b),a=g.key.slice(0,b.ks/32),b.salt=g.salt):sjcl.ecc&&a instanceof sjcl.ecc.elGamal.secretKey&&(a=a.unkem(sjcl.codec.base64.toBits(b.kemtag)).slice(0,b.ks/32));"string"===typeof f&&(f=sjcl.codec.utf8String.toBits(f));g=new sjcl.cipher[b.cipher](a);f="ccm"===
 b.mode&&sjcl.arrayBuffer&&sjcl.arrayBuffer.ccm&&b.ct instanceof ArrayBuffer?sjcl.arrayBuffer.ccm.decrypt(g,b.ct,b.iv,b.tag,f,b.ts):sjcl.mode[b.mode].decrypt(g,b.ct,b.iv,f,b.ts);e.g(d,b);d.key=a;return 1===c.raw?f:sjcl.codec.utf8String.fromBits(f)},decrypt:function(a,b,c,d){var e=sjcl.json;return e.ia(a,e.decode(b),c,d)},encode:function(a){var b,c="{",d="";for(b in a)if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name");c+=d+'"'+
 b+'":';d=",";switch(typeof a[b]){case "number":case "boolean":c+=a[b];break;case "string":c+='"'+escape(a[b])+'"';break;case "object":c+='"'+sjcl.codec.base64.fromBits(a[b],0)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type");}}return c+"}"},decode:function(a){a=a.replace(/\s/g,"");if(!a.match(/^\{.*\}$/))throw new sjcl.exception.invalid("json decode: this isn't json!");a=a.replace(/^\{|\}$/g,"").split(/,/);var b={},c,d;for(c=0;c<a.length;c++){if(!(d=a[c].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new sjcl.exception.invalid("json decode: this isn't json!");
 null!=d[3]?b[d[2]]=parseInt(d[3],10):null!=d[4]?b[d[2]]=d[2].match(/^(ct|adata|salt|iv)$/)?sjcl.codec.base64.toBits(d[4]):unescape(d[4]):null!=d[5]&&(b[d[2]]="true"===d[5])}return b},g:function(a,b,c){void 0===a&&(a={});if(void 0===b)return a;for(var d in b)if(b.hasOwnProperty(d)){if(c&&void 0!==a[d]&&a[d]!==b[d])throw new sjcl.exception.invalid("required parameter overridden");a[d]=b[d]}return a},sa:function(a,b){var c={},d;for(d in a)a.hasOwnProperty(d)&&a[d]!==b[d]&&(c[d]=a[d]);return c},ra:function(a,
 b){var c={},d;for(d=0;d<b.length;d++)void 0!==a[b[d]]&&(c[b[d]]=a[b[d]]);return c}};sjcl.encrypt=sjcl.json.encrypt;sjcl.decrypt=sjcl.json.decrypt;sjcl.misc.pa={};sjcl.misc.cachedPbkdf2=function(a,b){var c=sjcl.misc.pa,d;b=b||{};d=b.iter||1E3;c=c[a]=c[a]||{};d=c[d]=c[d]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl.random.randomWords(2,0)};c=void 0===b.salt?d.firstSalt:b.salt;d[c]=d[c]||sjcl.misc.pbkdf2(a,c,b.iter);return{key:d[c].slice(0),salt:c.slice(0)}};
 "undefined"!==typeof module&&module.exports&&(module.exports=sjcl);"function"===typeof define&&define([],function(){return sjcl});

/*
* FileSaver.js
* A saveAs() FileSaver implementation.
*
* By Eli Grey, http://eligrey.com
*
* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)
* source  : http://purl.eligrey.com/github/FileSaver.js
*/

// The one and only way of getting global scope in all environments
// https://stackoverflow.com/q/3277182/1008999
var _global = typeof window === 'object' && window.window === window
  ? window : typeof self === 'object' && self.self === self
  ? self : typeof global === 'object' && global.global === global
  ? global
  : this

function bom (blob, opts) {
  if (typeof opts === 'undefined') opts = { autoBom: false }
  else if (typeof opts !== 'object') {
    console.warn('Deprecated: Expected third argument to be a object')
    opts = { autoBom: !opts }
  }

  // prepend BOM for UTF-8 XML and text/* types (including HTML)
  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF
  if (opts.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)) {
    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })
  }
  return blob
}

function download (url, name, opts) {
  var xhr = new XMLHttpRequest()
  xhr.open('GET', url)
  xhr.responseType = 'blob'
  xhr.onload = function () {
    saveAs(xhr.response, name, opts)
  }
  xhr.onerror = function () {
    console.error('could not download file')
  }
  xhr.send()
}

function corsEnabled (url) {
  var xhr = new XMLHttpRequest()
  // use sync to avoid popup blocker
  xhr.open('HEAD', url, false)
  try {
    xhr.send()
  } catch (e) {}
  return xhr.status >= 200 && xhr.status <= 299
}

// `a.click()` doesn't work for all browsers (#465)
function click (node) {
  try {
    node.dispatchEvent(new MouseEvent('click'))
  } catch (e) {
    var evt = document.createEvent('MouseEvents')
    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,
                          20, false, false, false, false, 0, null)
    node.dispatchEvent(evt)
  }
}

// Detect WebView inside a native macOS app by ruling out all browsers
// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too
// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos
var isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)

var saveAs = _global.saveAs || (
  // probably in some web worker
  (typeof window !== 'object' || window !== _global)
    ? function saveAs () { /* noop */ }

  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView
  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)
  ? function saveAs (blob, name, opts) {
    var URL = _global.URL || _global.webkitURL
    var a = document.createElement('a')
    name = name || blob.name || 'download'

    a.download = name
    a.rel = 'noopener' // tabnabbing

    // TODO: detect chrome extensions & packaged apps
    // a.target = '_blank'

    if (typeof blob === 'string') {
      // Support regular links
      a.href = blob
      if (a.origin !== location.origin) {
        corsEnabled(a.href)
          ? download(blob, name, opts)
          : click(a, a.target = '_blank')
      } else {
        click(a)
      }
    } else {
      // Support blobs
      a.href = URL.createObjectURL(blob)
      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s
      setTimeout(function () { click(a) }, 0)
    }
  }

  // Use msSaveOrOpenBlob as a second approach
  : 'msSaveOrOpenBlob' in navigator
  ? function saveAs (blob, name, opts) {
    name = name || blob.name || 'download'

    if (typeof blob === 'string') {
      if (corsEnabled(blob)) {
        download(blob, name, opts)
      } else {
        var a = document.createElement('a')
        a.href = blob
        a.target = '_blank'
        setTimeout(function () { click(a) })
      }
    } else {
      navigator.msSaveOrOpenBlob(bom(blob, opts), name)
    }
  }

  // Fallback to using FileReader and a popup
  : function saveAs (blob, name, opts, popup) {
    // Open a popup immediately do go around popup blocker
    // Mostly only available on user interaction and the fileReader is async so...
    popup = popup || open('', '_blank')
    if (popup) {
      popup.document.title =
      popup.document.body.innerText = 'downloading...'
    }

    if (typeof blob === 'string') return download(blob, name, opts)

    var force = blob.type === 'application/octet-stream'
    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari
    var isChromeIOS = /CriOS\/[\d]+/.test(navigator.userAgent)

    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {
      // Safari doesn't allow downloading of blob URLs
      var reader = new FileReader()
      reader.onloadend = function () {
        var url = reader.result
        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')
        if (popup) popup.location.href = url
        else location = url
        popup = null // reverse-tabnabbing #460
      }
      reader.readAsDataURL(blob)
    } else {
      var URL = _global.URL || _global.webkitURL
      var url = URL.createObjectURL(blob)
      if (popup) popup.location = url
      else location.href = url
      popup = null // reverse-tabnabbing #460
      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s
    }
  }
)

_global.saveAs = saveAs.saveAs = saveAs


  </script>

  <script type="text/javascript">
    init();
  </script>



</body></html>